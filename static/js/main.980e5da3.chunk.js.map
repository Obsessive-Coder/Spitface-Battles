{"version":3,"sources":["components/Callback/loading.svg","components/VerseCard/yt_logo_rgb_dark.png","components/VideoList/youtube_social_square_red.png","utils/context/userContext.js","utils/context/pageContext.js","components/Callback/Callback.js","utils/constants/classMethodNames/profile.js","utils/constants/classMethodNames/battleStage.js","utils/constants/classMethodNames/index.js","utils/constants/index.js","utils/helpers/mainHelper.js","utils/helpers/battleHelper.js","utils/helpers/verseHelper.js","utils/helpers/routeBuilder.js","utils/Auth/auth0Config.js","utils/Auth/Auth.js","utils/history.js","utils/api/users.js","utils/api/profile.js","utils/api/battles.js","utils/api/verses.js","utils/api/scorecards.js","utils/api/verseReactions.js","utils/api/battleOptions.js","utils/api/youtubeUtility.js","utils/api/notifications.js","utils/api/relationships.js","utils/api/favoriteRappers.js","utils/api/battleRequests.js","utils/api/tournaments.js","utils/api/index.js","utils/api/battleRoles.js","utils/api/battleRatings.js","utils/api/participants.js","utils/api/subscriptions.js","utils/api/audience.js","utils/api/battleChallenges.js","utils/axiosBase.js","utils/helpers/index.js","utils/helpers/handleAsyncError.js","components/AuthRouter/AuthRouter.js","components/AlertModal/AlertModal.js","components/MainModal/MainModal.js","components/DynamicHeader/index.js","components/CreateBattleForm/subcomponents/BattleFormSelectInput.js","components/CreateBattleForm/index.js","components/CollapseSideMenu/subcomponents/InfoSection.js","components/CollapseSideMenu/subcomponents/index.js","components/CollapseSideMenu/index.js","components/EditGroup/subcomponents/EditOverlay.js","components/EditGroup/subcomponents/index.js","components/EditGroup/index.js","components/MainSidebar/subcomponents/MenuCollapseToggle.js","components/MainSidebar/subcomponents/SiteNavLink.js","components/MainSidebar/subcomponents/index.js","components/MainSidebar/MainSidebar.js","components/Round/subcomponents/BattleReview.js","components/Round/subcomponents/index.js","components/RoundCarousel/RoundCarousel.js","components/Round/Round.js","components/VerseCard/subcomponents/Content.js","components/VerseCard/subcomponents/Sidebar.js","components/VerseCard/subcomponents/VerseDropDownMenu.js","components/VerseCard/subcomponents/VerseInfoItem.js","components/VerseCard/subcomponents/index.js","components/VerseCard/VerseCard.js","components/ScoreCardModal/subcomponents/ScoreCard.js","components/ScoreCardModal/subcomponents/ScoreSlideRange.js","components/ScoreCardModal/subcomponents/index.js","components/ScoreCardModal/ScoreCardModal.js","components/BattleInfoSection/BattleInfoSection.js","components/VideoList/subcomponents/VideoListItem.js","components/VideoList/subcomponents/AddVideoButtonDropdown.js","components/VideoList/subcomponents/index.js","components/VideoList/index.js","components/ProfileTopContent/ProfileTopContent.js","components/ProfileBottomContent/index.js","components/ProfilePhoto/subcomponents/UploadHeader.js","components/ProfilePhoto/subcomponents/UploadDropArea.js","components/ProfilePhoto/subcomponents/index.js","components/ProfilePhoto/index.js","components/SocialLinks/subcomponents/SocialSitesModal.js","components/SocialLinks/subcomponents/SocialsToggleContent.js","components/SocialLinks/subcomponents/index.js","components/SocialLinks/index.js","components/ProfileInfoItems/index.js","components/ProfileBattleStats/index.js","components/BattleAudience/subcomponents/Comment.js","components/BattleAudience/subcomponents/CommentInput.js","components/BattleAudience/subcomponents/AudienceList.js","components/BattleAudience/subcomponents/index.js","components/BattleAudience/index.js","components/EditProfileModal/index.js","components/UsernameInput/index.js","components/ChangePasswordInput/index.js","components/FindBattle/index.js","components/BattleActions/index.js","components/FeaturedBattles/index.js","components/DynamicBattleInfo/index.js","components/CustomToast/index.js","components/NotificationDropdown/index.js","components/CustomTooltip/index.js","components/ScorecardBreakDown/index.js","components/UserSearch/index.js","components/BattleChallengeSection/index.js","components/RelationshipList/subcomponents/RelationshipListItem.js","components/RelationshipList/subcomponents/MoreButton.js","components/RelationshipList/subcomponents/index.js","components/RelationshipList/index.js","components/RelationshipTabs/index.js","components/UsernamePopover/index.js","components/TopFiveList/subcomponents/FavoriteItem.js","components/TopFiveList/subcomponents/index.js","components/TopFiveList/index.js","components/ProfileActionHeader/index.js","components/CreateBattleDropdown/index.js","components/RequestBattleModal/index.js","components/BattleListTabs/subcomponents/BattleList.js","components/BattleListTabs/subcomponents/RequestedListItem.js","components/BattleListTabs/subcomponents/BattleListItem.js","components/BattleListTabs/subcomponents/TournamentListItem.js","components/BattleListTabs/subcomponents/SortBattlesDropdown.js","components/BattleListTabs/index.js","components/ResponseButtons/index.js","components/ChangeEmailInput/index.js","components/DynamicTournamentInfo/index.js","components/TournamentMatch/subcomponents/MatchContestant.js","components/TournamentMatch/index.js","components/TournamentRound/index.js","components/JoinEventHeaderButtons/index.js","components/TournamentStaging/subcomponents/ParticipantsList.js","components/BattleInfoItems/index.js","components/TournamentStaging/subcomponents/RoundTabs.js","components/TournamentStaging/subcomponents/TournamentParticipantsTabs.js","components/TournamentStaging/index.js","pages/Landing/index.js","pages/MasterPage/index.js","pages/Home/index.js","pages/CreateBattle/index.js","pages/Community/index.js","pages/Profile/index.js","pages/Help/index.js","pages/BattleStage/index.js","pages/BattleZone/index.js","pages/SetUsername/index.js","pages/Tournament/index.js","pages/index.js","MainRoutes.js","index.js"],"names":["module","exports","__webpack_require__","p","UserContext","createContext","user","notifications","methodData","setUser","addNotifications","clearNotifications","setData","setMethodData","UserProvider","_Component","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","state","bind","assertThisInitialized","inherits","createClass","key","value","setState","prevState","concat","data","objectSpread","_ref","prevMethodData","children","react_default","a","createElement","Provider","Component","UserConsumer","Consumer","PageContext","pageData","masterData","setPageData","setMasterData","PageProvider","context","contextData","userContext","PageConsumer","contextType","Callback","style","position","display","justifyContent","height","width","top","bottom","left","right","backgroundColor","src","loading","alt","PROFILE_PHOTO_NAMES","SOCIAL_LINKS_NAMES","classMethodNames_profile","PAGE_NAMES","PROFILE_TOP_CONTENT_NAMES","PROFILE_BOTTOM_CONTENT_NAMES","VIDEO_LIST_NAMES","PROFILE_ACTION_HEADER_NAMES","EDIT_GROUP_NAMES","battleStage","classMethodNames","PROFILE_METHOD_NAMES","BATTLE_STAGE_METHOD_NAMES","SERVER_URL","AUTH0_DOMAIN","AUTH0_CALLBACK_URL","API_URL","DEFAULT_PROFILE_PHOTO_URL","YOUTUBE_THUMBNAIL_URL","INVALID_CHARACTERS","BATTLE_LIST_SORT_FIELDS","label","NAVIGATION_ITEMS","text","icon","CREATE_BATTLE_FORM_ITEMS","isAdvancedOption","id","description","PROFILE_INFO_ITEMS","labelText","order","NOTIFICATION_LIST_ITEMS","category","MESSAGE_INVALID_INPUT_CHARACTERS","MESSAGE_CONFIRM_DELETE","APPROVED_IMAGE_TYPES","MESSAGE_SAFETY_PENDING_FEATURE","MESSAGE_STANDARD_PENDING_FEATURE","MESSAGE_ALL_PENDING_FEATURE","DEFAULT_PROFILE_VIDEO_LIST_DATA","headingText","bodyText","DEFAULT_PROFILE_OWNER_VIDEO_LIST_DATA","PROFILE_RELATIONSHIP_NAV_ITEMS","constants","AUTH0_CLIENT_ID","AUTH0_BATTLE_SOCIAL_IDENTITY_PROVIDERS","API_PROFILE_PHOTO_URL","CREATE_BATTLE_REQUIRED_FIELDS","PROFILE_BATTLE_ITEMS","stateProperty","YOUTUBE_OPTIONS_PROFILE","playerVars","iv_load_policy","modestbranding","rel","DEFAULT_PROFILE_YOUTUBE_ID","MESSAGE_INVALID_IMAGE_TYPE","MESSAGE_PROFILE_VIDEO_EXISTS","MESSAGE_REQUIRED_FIELD","MESSAGE_UNAVAILABLE_USERNAME","MESSAGE_UNAVAILABLE_EMAIL","MESSAGE_UNCHANGED_EMAIL","MESSAGE_VALID_USERNAME","MESSAGE_VALID_EMAIL","MESSAGE_INVALID_EMAIL_FORMAT","MESSAGE_UNCHANGED_USERNAME","CLASS_METHOD_NAMES","MESSAGE_REMOVE_FRIEND","MESSAGE_CANCEL_FRIEND_REQUEST","MAIN_HELPER","isTextValid","i","length","toString","includes","isImageValid","imageFile","fileType","type","split","pop","isVideoInList","videos","videoId","video_id","validateUsername","username","response","trim","isValid","validationMessage","keys","validateEmailFormat","email","test","validatePassword","password","numbers","lowerCaseLetters","upperCaseLetters","map","letter","toUpperCase","specialChars","passwordIncludes","splitPassword","push","filter","char","getWinRatio","battleCount","winCount","drawCount","winRatio","Number","Math","round","toFixed","getPopularityColor","popularity","popularityColor","getProfileSocialSiteUrl","siteUsername","socialSite","SocialSite","siteName","definition","additionalUrl","additional_url","siteHref","getSocialSiteUsername","siteMoreUrl","newSiteUsername","replace","slice","indexOf","sortBattles","battles","sortField","sort","_ref2","_ref3","fieldNameA","fieldNameB","getPhotoFileData","profileId","fullFileName","fileParts","fileName","Date","now","CONTESTANTS_MAX","JUDGES_MAX","BATTLE_ROLE_UTILS","battleHelper","getAllParticipants","userBattles","rounds","contestants","getParticipants","judges","role","isRoleValid","participants","roleMax","getEmptyParticipantArray","forEach","userBattle","Role","index","participant_number","participant","verses","verse","Verses","j","user_id","isUserParticipant","userId","isSeatAvailable","undefined","User","getSeatNumber","participantNumber","obj","hasOwnProperty","isObjectEmpty","getUserBattleRating","battleRatings","rating","getAverageBattleRating","ratings","averageRating","reduce","b","isNaN","getBattleRolesObject","battleRoles","battleRole","getBattleCardKey","battleIndex","battleCardKey","getRoundInfoText","roundLength","roundCount","roundLengthValue","roundLengthText","getBattleFormChoiceText","formField","lowerCaseOption","toLowerCase","isRoundLengths","isVerseLengths","valueInt","parseInt","getBattleListData","currentBattles","pendingBattles","historyBattles","battle","battleStatus","Status","battleArray","getBattleInfo","previousValue","currentValue","dataValue","isRoundType","isHourLength","verseHelper","getUserReactions","verseReactions","reaction","Type","getUserScores","verseScores","score","getYouTubeId","ID","url","RouteData","isExact","path","component","AUTH0_CONFIG","domain","clientId","callbackUrl","apiUrl","Auth","accessToken","idToken","expiresAt","userProfile","scopes","tokenRenewalTimeout","requestedScopes","auth0","WebAuth","clientID","redirectUri","audience","responseType","scope","leeway","login","logout","handleAuthentication","isAuthenticated","userHasScopes","getAccessToken","getIdToken","renewSession","getProfile","scheduleRenewal","authorize","parseHash","error","authResult","setSession","HISTORY","console","log","localStorage","setItem","expiresIn","getTime","pathname","location","route","_this2","checkSession","cb","_this3","client","userInfo","profile","removeItem","clearTimeout","grantedScopes","every","_this4","timeout","setTimeout","JSON","stringify","createBrowserHistory","BASE_URL","users","search","searchTerm","options","AXIOS_BASE","get","find","create","post","update","updatedUser","put","delete","isUsernameAvailable","isEmailAvailable","api_profile","getApprovedSocialSites","getUserProfile","createUserProfile","updateUserProfile","deleteUserProfile","getProfileVideos","createProfileVideo","profileVideo","profile_id","deleteProfileVideos","createProfileSocialSites","profileSites","updateProfileSocialSites","updatedSites","deleteProfileSocialSites","getSignedRequest","fileData","uploadProfilePhoto","signedRequest","photoFile","removeProfilePhoto","api_battles","getBattles","getFeaturedBattles","getOneBattle","battleId","deleteBattle","slicedToArray","createBattle","joinBattle","params","_params","leaveBattle","_params2","getBattleResults","getBattleCommentsCount","getBattleComments","getBattleComment","commentId","createBattleComment","comment","updateBattleComment","deleteBattleComment","createCommentReaction","commentReaction","comment_id","updateCommentReaction","deleteCommentReaction","updateBattleChallenge","newStatusDefinition","getAllRound","roundId","getOneUser","createVerse","deleteVerse","verseId","api_scorecards","getAllVerseScoreCards","scoringType","scorecardEndpoint","getOne","scoreCard","axiosOptions","scoreCardEndpoint","verse_id","getStandardScorecardFields","getTypes","getAllUserBattle","getAllVerseReactions","typeId","battleOptions","getAll","getRoleId","youtubeUtility","validateId","youtubeId","api_notifications","getAllUser","setAllSeen","notificationType","notificationId","updatedNotification","notification","api_relationships","relationshipType","getOneType","otherUserId","relationship","_params3","api_favoriteRappers","favoriteRapper","updatedFavoriteRappers","battleRequests","battleRequestId","battleRequest","userOneId","userTwoId","updatedBattleRequest","updateRequestedStatus","_ref4","acceptDefinition","updatedRequestUser","_ref5","_ref6","api_tournaments","tournamentId","createContestant","tournamentRoundId","contestant","api","USER_UTILS","PROFILE_UTILS","BATTLE_UTILS","VERSE_UTILS","SCORE_CARD_UTILS","VERSE_REACTION_UTILS","roleDefinition","BATTLE_OPTION_UTILS","BATTLE_RATING_UTILS","battleRating","battle_id","YOUTUBE_UTILS","PARTICIPANT_UTILS","getAllBattle","updateParticipant","SUBSCRIPTION_UTILS","subscriptions","roomName","NOTIFICATION_UTILS","AUDIENCE_UTILS","findAllBattle","findAllBattleFollowersCount","RELATIONSHIP_UTILS","FAVORITE_RAPPERS","BATTLE_REQUEST_UTILS","BATTLE_CHALLENGE_UTILS","getAllRequests","challengeId","getOneRequest","createRequest","challengeRequest","updateRequest","deleteRequest","TOURNAMENT_UTILS","axios","baseURL","helpers","BATTLE_HELPER","VERSE_HELPER","ROUTE_BUILDER","HANDLE_ASYNC_ERROR","isCancel","message","status","AuthRouter","history","isNicknameSet","handleLogout","authRoutes","CreateBattle","BattleZone","BattleStage","Community","Profile","Tournament","Help","Home","Router","Switch","PageComponent","Route","exact","render","assign","SetUsername","AlertModal","isConfirmModal","confirmButtonProps","handleConfirmOnClick","handleCloseOnClick","Modal","backdrop","isOpen","contentClassName","className","Button","close","onClick","react_fontawesome_index_es","faTimes","ModalBody","textLine","ModalFooter","outline","size","event","MainModal","toggle","handleSubmit","handleClose","setIsEditing","_this$props","headerText","toggleButtonContent","toggleButtonProps","toggleIconProps","isSubmitDisabled","submitForm","bodyClassName","submitButtonText","closeButtonText","closeButtonClassName","react","minHeight","block","disabled","form","DynamicHeader","titleText","subheadingText","isContentCollapsible","navbarProps","isScreenXS","window","screen","_useState","useState","_useState2","isDynamicHeaderOpen","setIsDynamicHeaderOpen","Navbar","NavbarBrand","tag","NavbarToggler","fixedWidth","faChevronUp","faChevronDown","Collapse","navbar","BattleFormSelectInput","option","Col","sm","FormGroup","Label","for","faInfoCircle","Input","required","name","choices","choice","formChoiceText","FormFeedback","CustomTooltip","targetId","placement","CreateBattleForm","isAdvancedOptionsOpen","handleCreateBattle","setChallengerUserId","toggleAdvancedOptionsIsOpen","baseOptions","formItem","fieldName","getOptionComponents","standardBaseOptions","advancedBaseOptions","standardOptionComponents","advancedOptionsComponents","splice","UserSearch_UserSearch","placeholderText","isOptional","isTooltipShown","requestedRappers","inputClassName","Form","onSubmit","Row","color","faCaretDown","faCaretRight","InfoSection","emptyStarIcon","fullStarIcon","gavelIcon","microphoneIcon","_useContext$user","useContext","userNickname","nickname","battle_count","win_count","lossCount","loss_count","draw_count","followerCount","follower_count","battle_rating","battleReputation","battle_reputation","judgeReputation","judge_reputation","popularityProgressColor","Link","to","letterSpacing","react_rating_esm","readonly","emptySymbol","fullSymbol","placeholderSymbol","placeholderRating","initialRating","direction","lineHeight","Progress","icons","faMicrophone","faUserFriends","faComments","CollapseSideMenu","handleSetNotificationsAsSeen","updateUser","faStar","farStar","faGavel","DropdownItem","divider","listNotifications","Notification","NotificationDropdown_NotificationDropdown","RelationshipTabs","activeTab","isUserProfileOwner","profileUserId","EditOverlay","isEditing","toggleIsEditing","handleUpdateInfo","overlyButtonItems","buttonProps","iconProps","faPencilAlt","faCheck","data-is-delete","faTrashAlt","CONSTANTS","HELPERS","EditGroup","methodName","actionMethod","keyCode","handleCancel","hoveredElements","document","querySelectorAll","isCancelClicked","classList","contains","target","stateValue","_this$props2","handleOpenAlert","getAttribute","defineProperty","_this$state","_this$props3","Container","fluid","data-field","bsSize","placeholder","readOnly","onBlur","onChange","handleValueChange","onKeyUp","handleInputKeyUp","MenuCollapseToggle","aria-expanded","aria-controls","SiteNavLink","handleClick","NavLink","fontawesomeIcons","faHome","faUser","faInfo","faSignOutAlt","MainSidebar","goTo","toggleMenu","unseenNotificationsCount","is_seen","isNotificationsUnseen","iconColorClassName","Nav","NavItem","faBars","faBell","Badge","BattleReview","battleCloseDate","resultCards","updateBattle","contestantOneTotal","contestantTwoTotal","contestantOneAudienceInfluence","contestantTwoAudienceInfluence","contestant1","contestant2","contestant1FinalScore","finalScore","contestant1JudgeTotal","judgeTotal","contestant1JudgeScores","judgeScores","contestant2FinalScore","contestant2JudgeTotal","contestant2JudgeScores","parseFloat","contestantOneJudgeAverage","contestantTwoJudgeAverage","contestantCardComponents","contestantNumber","contestantTotal","otherTotal","isContestantWinner","isDraw","contestantAudienceInfluence","isAudienceInfluenceNegative","xs","md","Card","CardHeader","UsernamePopover_UsernamePopover","userProfileUrl","CardBody","faMinus","faPlus","abs","dist_index_es","date","renderer","days","hours","minutes","seconds","completed","Fragment","onComplete","RoundCarousel","activeIndex","goToIndex","newIndex","Rounds","isUserContestant","isUserJudge","reactionTypes","standardScorecardFields","handleJoinLeaveBattle","handleReadyOnClick","closes_at","battleChallenge","BattleChallenge","ScoringType","isPendingInvite","challengeStatus","BattleChallengeStatus","currentRoundNumber","roundNumber","number","roundComponents","CarouselItem","onExiting","onExited","Round","Carousel","interval","keyboard","pause","next","previous","CarouselIndicators","items","onClickHandler","timeLeft","moment","ends_at","utc","diff","isStagingPhase","isBattleClosed","isRoundEnded","verseCardComponents","VerseCard_VerseCard","seatNumber","Content","handleVerseSubmit","verseUrl","getElementById","isUserThisContestant","isContestantReady","dapsCount","dissesCount","scorecardsCount","contentMessage","isPlayerShown","handleShowPlayer","verseComponent","YouTube","opts","enablejsapi","autoplay","origin","containerClassName","InputGroup","InputGroupAddon","addonType","youtubeImage","VerseInfoItem","iconName","Sidebar","contestantUserId","isVerseSubmitted","isUserDapped","isUserDissed","isUserScored","userScoreCard","handleVerseReaction","handleScoreCardSubmit","handleScorecardRemove","handleJoinBattleClick","handleLeaveBattleClick","handleRemoveVerse","isDapButtonRendered","isOtherButtonRendered","verseDropDownMenuClass","data-is-reacted","data-is-other-reacted","data-type-definition","faThumbsDown","farThumbsDown","faThumbsUp","farThumbsUp","ScoreCardModal_ScoreCardModal","isScored","toggleIcon","VerseDropDownMenu","faEllipsisV","isContestantAvailable","UncontrolledDropdown","DropdownToggle","DropdownMenu","flip","header","data-role","faEye","numberParams","commafy","shortFormat","shortFormatMinValue","shortFormatPrecision","numeric_label_default","boundariesElement","container","VerseCard","daps","disses","scoreCards","handleRemoveVerseConfirmOnClick","handleJoinBattle","handleLeaveBattle","handleHidePlayer","updateVerse","handleCloseAlert","_this$context$masterD","getAxiosOptions","handleAsyncError","then","catch","challengerUser","ChallengerUser","challengedUser","ChallengedUser","challengerUserId","challengedUserId","challengedUserNickname","userRole","_this$props4","reactionButton","blur","typeDefinition","reactionMethod","isReacted","isOtherReacted","getReactionMethod","_this$context$masterD2","reactionsResult","reactions","scores","_this$props5","updatedScorecards","stateScorecard","_this4$context$master","_this5","_this$props6","_this$context$masterD3","_this5$context$master","_this6","_this$props7","round_id","video_url","verseResult","_this7","_this$props8","_this$context$masterD4","requests","all","scoreCardsResult","userReaction","_this$props9","roomParams","isBattleAudience","ioSocket","emit","on","_this$props10","_this$state2","_this$props11","contestantText","isUserChallengedUser","challenged_user_id","data-seat-number","is_ready","ScoreCard","handleScoreSliderChange","welcomeMessage","scoreComponents","ScoreSlideRange","minScore","maxScore","handleChange","CustomInput","min","max","data-category","ScoreCardModal","getScores","getScorecardCategories","getEmptyScores","categories","stateScores","slider","scoreValue","valueAsNumber","preventDefault","MainModal_MainModal","ScoreCard_ScoreCard","React","BattleInfoSection","audienceCount","commentsCount","battleType","userBattleRatingValue","battleRatingCount","isUserFollowing","averageBattleRating","handleBattleRatingOnChange","handleFollowBattle","handleUnfollowBattle","followersCount","judgingType","roundInfoText","getRatingColor","ratingColor","handleJoinLeaveBattleClick","challengerUserNickname","judgeComponents","judge","ListGroupItem","buttonClassName","isJudgePanelOpen","setIsJudgePanelOpen","fractions","JoinEventHeaderButtons","handleJoinLeaveOnClick","handleFollowOnClick","handleUnfollowOnClick","faUsers","faUserCheck","faChevronRight","ListGroup","ScorecardBreakDown_ScorecardBreakdown","judgesListGroup","VideoListItem","title","handleVideoItemClick","data-video-id","ListGroupItemText","faPlay","AddVideoButtonDropdown","youtubeIcon","handleAddVideoSubmit","UncontrolledButtonDropdown","VideoList","isBeingEdited","markedRemoveVideos","handleAddVideo","handleRemoveVideos","clickedItem","handleChangeVideo","videoIndex","defaultVideoId","defaultVideoListData","videoListItemComponents","flush","ListGroupItemHeading","zIndex","ButtonGroup","handleRemoveVideoClick","API_UTILS","ProfileTopContent","videoURL","stateVideos","stateVideoId","newVideoId","video","videoIds","_this3$state","firstVideo","VideoList_VideoList","onReady","pauseVideo","ProfileBottomContent","requestedBattles","selectedBattleId","stateCurrentBattles","handleRelationshipOnClick","_this$props$relations","relationshipData","isUserFriend","isPendingFriendRequest","isUserFriendRequestor","apiRequests","Promise","userBattlesData","Battle","battlesData","item","ProfileActionHeader","BattleListTabs","handleSortBattleList","handleBattleItemOnClick","UploadHeader","isDeleteButtonDisabled","handlePhotoUploadOpen","handleRemovePhoto","UploadDropArea","thumbnailUrl","isThumbnailDefault","isDelete","rootProps","inputProps","maxHeight","ProfilePhoto","files","dropzoneRef","createRef","dropzoneRefCurrent","current","open","acceptedFiles","file","preview","URL","createObjectURL","stopPropagation","profilePhoto","handleUploadPhoto","isDefaultPhotoUrl","handleModalSubmitRemove","profileImageComponent","handleCloseModal","es","noKeyboard","accept","multiple","maxSize","ref","onDrop","handlePhotoDrop","getRootProps","getInputProps","SocialSitesModal","approvedSocialSites","profileSocialSites","handleRemoveSiteClick","handleUpdateSocialLinks","ToggleButtonContent","SocialsToggleContent","isLabelDisplayed","approvedSite","linkedProfileSite","profileSite","isUserLinked","linkUrl","approvedSiteName","approvedSiteAdditionalUrl","approvedSitePlaceholder","approvedSiteValue","display_order","data-site-username","data-site-index","defaultValue","tabIndex","fab","SocialLinks","handleUpdateSocialSites","siteUrlInputs","newSites","siteInput","newSocialSite","social_site_id","handleRemoveSocialSite","approvedSiteIndex","approvedSiteId","_ref$pageData","ProfileSocialSites","href","ProfileInfoItems","infoItem","EditGroup_EditGroup","ProfileBattleStats","_ref$profile","quitCount","quit_count","subStatsData","draws","quits","statsData","wins","losses","ratio","reputationItems","statKey","Comment","isOptionsMenuOpen","isRepliesCollapseOpen","isReplyInputOpen","handleToggleOptionsMenuOnClick","hanldeEditCommentOnClick","handleCancelComment","handleToggleRepliesCollapseOnClick","handleToggleReplyInputOnClick","userPhoto","commentUser","replies","isUserOwner","parentCommentId","handleCreateComment","handleDeleteComment","handleUpdateComment","handleCommentReaction","createdAt","discussionId","discussion_id","CommentReactions","Contestant","commentorId","commentorPhoto","photo","createdTimeFromNow","fromNow","dap","dis","replyComponents","flipOff","reply","replyUser","Replies","rest","objectWithoutProperties","alertConfirmProps","data-comment-id","CommentInput_CommentInput","existingMessage","existingRoundId","existingContestantId","foreignKeyField","handleSubmitComment","ButtonDropdown","farCommentAlt","defaultProps","CommentInput","isInputDirty","commentText","contestantId","handleInputOnChange","handleInputOnFocus","handleCancelCommentOnClick","handleSubmitOnClick","handleRoundTagOnChange","handleContestantTagOnChange","commentTextArea","scrollHeight","focus","newMessage","contestant_id","actualContestants","autoFocus","onFocus","AudienceList","audienceUsers","audienceUser","action","BattleAudience","parentComments","handleRefreshBattleComments","stateParentComments","_this$context","newComment","_this$context2","_this$context2$master","updatedComment","battleCommentsResult","_reactionTypes$reacti","reactionTypeId","reactionTypeDefinition","_this$context3","_this$context3$master","type_id","_this$context$userCon","_this$context$userCon2","parentCommentComponents","Comment_Comment","EditProfileModal","_useContext$userConte","authMethod","listItems","UsernameInput_UsernameInput","emailComponent","ChangeEmailInput_ChangeEmailInput","inputId","inputType","passwordComponent","ChangePasswordInput_ChangePasswordInput","UsernameInput","_context$userContext$","socialNickname","isAvailable","isUpdateSuccessful","validateUsernameInput","validateUsernameAvailability","handleUsernameOnChange","handleUsernameOnBlur","handleUsernameOnSubmit","usernameValidation","callback","trimmedUsername","isUsernameChanged","usernameAvailabilityResult","_this$context2$userCo","valid","invalid","ChangePasswordInput","confirmPassword","handlePasswordOnChange","handlePasswordOnBlur","handlePasswordOnSubmit","passwordInput","passwordValue","updatedState","passwordValidation","trimmedPassword","_this$state3","bcrypt","hash","hashedPassword","_this$state4","_this$state4$password","isPasswordValid","passwordValidationMessage","_this$state4$confirmP","confirmPasswordValue","isConfirmPasswordValid","confirmPasswordValidationMessage","FindBattle","selectedBattle","selectedBattleType","getBattleRoles","handleAddRemoveBattleRequest","handleBattleChallengeResponse","battleRolesData","serverRequests","battlesResult","battleRequestsResult","tournamentsResult","tournaments","battleResult","updatedBattle","updatedBattles","UserBattles","participantButton","roleId","roleParticipants","isRoleFull","newParticipant","isReady","battleLists","battleItem","selectedBattleStateList","_this$context$masterD5","requestedContestants","RequestedContestants","requestingUsers","RequestingUsers","userBattleRequest","userData","_requestedContestants","contestantOneData","contestantTwoData","contestantOneUserId","contestantTwoUserId","apiMethod","isUserRequestedContestant","currentStatus","BattleRequestStatus","statusDefinition","apiRequestParams","requestor_user_id","user_one_id","user_two_id","battle_request_id","resultData","updatedSelectedBattle","updatedRequestedBattles","updateStateData","requestedBattle","isFinalRequest","battleRequestData","updatedRequestingUsers","_this$state5","_this$context$masterD6","isUserChallengeRequestor","BattleChallengeRequests","battle_challenge_id","alert","updatedPendingBattles","pendingBattle","nextApiRequests","_ref8","_this$state6","DynamicTournamentInfo","selectedTournament","DynamicBattleInfo","isSelectedBattleRequested","isSelectedBattleChallenge","handleJoinBattleOnClick","BattleActions","CreateBattleDropdown_CreateBattleDropdown","FeaturedBattles","featuredBattles","activeCarouselIndex","isCarouselAnimating","handleSetActiveCarouselIndex","handleSetIsCarouselAnimating","handleShowNextCarouselSlide","handleShowPreviousCarouselSlide","handleTempClick","isAnimating","nextIndex","previousIndex","axiosOption","featuredBattlesResult","featuredBattle","carouselSlides","RoundCount","RoundLength","JudgingType","contestantUser","isSeatFilled","contestantPhotoUrl","CarouselControl","directionText","isInfoCollapseOpen","setIsInfoCollapseOpen","ScoringRound","StagingRound","VerseLength","verseLength","scoringRoundLength","stagingRoundLength","challengeStatusColorClass","called_out_user_id","challenger_user_id","userRequestedContestant","contestantComponents","contestantImageUrl","usernamePopoverId","usernamePopoverLabelText","usernamePopoverProfileUrl","usernamePopoverProfile","isRequestAccepted","isRequestRejected","requestStatus","requestedContestant","battleRequestStatus","contestantNickname","contestantProfile","requestStatusColorClass","challengedUserNickName","challengedUserProfile","battleRequestCount","isUserBattleRequestor","contestantStatus","challengeRequestCount","challengeRequests","battleInfo","ResponseButtons","responseStatus","requestCount","isUserRequestor","isUserRespondent","isBattleStaging","handleUpdateStatus","BattleInfoItems","battleData","isHorizontal","itemClassName","CustomToast","editIndex","handleRemoveToast","isShown","setIsShown","closeTimer","destinationUrl","Toast","ToastHeader","tagClassName","NotificationDropdown","isPopoverOpen","togglesPopoverOpen","handleListItemOnClick","acceptFriendRequest","acceptBattleChallenge","acceptBattleRequest","is_read","relationshipPromise","notificationPromise","is_request_accepted","contentId","data-notification-type","Popover","hideArrow","trigger","delay","innerClassName","popperClassName","PopoverHeader","PopoverBody","userNotification","isRead","isRequest","is_request","destination_url","content_id","splitDescription","faClock","from","clickHandler","acceptRequestOnClick","setIsOpen","Tooltip","propTyps","PropTypes","oneOfType","string","element","ScorecardBreakdown","setActiveTab","prevStat","roundData","resultCardsKeys","contestantsScorecards","isScreenSmallOrLarger","k","contestantKey","scorecards","tabComponents","_loop","tabPaneComponents","_loop2","contestantsRoundScorecards","scorecard","TabPane","tabId","isFinalRound","judgeContestantOneBattleScorecards","judgeContestantTwoBattleScorecards","contestantRoundScorecards","contestantIndex","contestantJudgeRoundScore","judgeId","judgeScorecard","getContestantJudgeRoundScore","judgeScoreTotal","battleScores","tabs","TabContent","UserSearch","searchResults","selectedUser","handleSearchItemOnClick","handleRemoveSelctedUser","usersSearchResult","result","dataNumber","selectedUserId","selectedSearchUser","searchUser","stateSelectedUser","data-selected-user-id","autoComplete","data-user-id","BattleChallengeSection","handleAcceptBattleChallenge","handleRejectBattleChallenge","challengerNickname","add","RelationshipListItem","handleRemoveFriend","isOnline","is_online","relationshipUserId","MoreButton","friendUserId","moreOptionItems","handleOnClick","RelationshipList","relationships","updateFriends","userOne","UserOne","userTwo","UserTwo","friendUser","activeTabIndex","handleSetActiveTab","TopFiveList_TopFiveList","RelationshipList_RelationshipList","UsernamePopover","isFavoriteRapper","toggleIsPopoverOpen","handleAddFavoriteRapper","rapperUserId","rapper_id","photoUrl","faTrophy","FavoriteItem","rapperId","rapperPhotoUrl","rapperIndex","handleRemoveFavoriteRapper","isFirstItem","SortableContainer","sortableContainer","SortableItem","sortableElement","itemProps","TopFiveList","favoriteRappers","handleSetFavoriteRappersOrder","stateRappers","rapper","oldIndex","stateFavoriteRappers","arrayMove","axis","pressDelay","lockToContainerEdges","onSortEnd","rapperUser","Rapper","isMoreDropdownOpen","setIsMoreDropdownOpen","_useState3","_useState4","relationshipText","profileActionHeaderItems","faUserTimes","faUserPlus","handleTempOnClick","horizontal","faCog","CreateBattleDropdown","isDropdownOpen","toggleIsDropdownOpen","toggleisEditing","handleBattleRequestModalClose","handleBattleRequestModalSubmit","inputNumber","stateRequestedRappers","newBattleRequest","createButtonFontSizeClass","RequestBattleModal","BattleList","isRequestedBattles","isTournaments","battlesStateProperty","userOneStatus","userTwoStatus","contestantOne","contestantTwo","idOne","battleRequestStatusOne","idTwo","battleRequestStatusTwo","doubleClickHandler","data-battle-id","data-state-property","onDoubleClick","RequestedListItem","TournamentListItem","tournament","BattleListItem","_ref$battle","largeTextSize","mediumTextSize","smallTextSize","judgeCount","currentRound","labelColorClassName","tournamentType","TournamentType","TournamentContestantCount","TournamentJudges","toggleActiveTabIndex","isBattleChallenge","isResponded","isRespondantButtonShown","isDynamicButtonShown","dynamicButtonIcon","data-status-definition","ChangeEmailInput","inputValue","validateInput","validateAvailability","handleOnChange","handleOnBlur","handleSubmitForm","inputValidation","trimmedValue","isValueChanged","_this3$context","_this3$context$master","_this3$context$userCo","MatchContestant","contestantUsername","TournamentMatch","matchNumber","match","TournamentRound","roundType","TournamentRoundType","matches","TournamentMatches","isJudgedBattles","ParticipantsList","maxParticipantsCount","participantsType","participantsLength","joinLeaveButtonText","_ref2$User","dataName","dataIndex","RoundTabs","setActiveTabIndex","roundName","roundIndex","dataInfo","TournamentParticipantsTabs","maxContestantsCount","maxJudgesCount","toggleActiveIndex","TournamentStaging","contestantCount","tournamentRounds","Landing","handleLogin","fixed","fontSize","MasterPage","toasts","isJoinedSocketRooms","confirmCallback","handleShowToast","endpoint","substr","locationState","lastPathname","auth","sub","splitSub","Subscriptions","notificationsResult","_this2$context$userCo","socketIOClient","subscription","room_name","_this2$context","fromUsername","isPublic","headers","Authorization","toastIndex","setUserMethodData","_this$state$alert","_ref$user","toggleSidebarMenu","formFields","partialBattle","fieldValue","propertyName","statusId","calloutUserId","creator_id","status_id","calledOutUserId","challengeSubscription","notificationsRoomParams","apiPromises","profileData","relationshipResult","_relationshipResult$d","friendRequestorId","relationshipStatus","info","updatedProfile","updateProfileState","socialSitePromises","removedSiteId","_this$context4","_this$context4$master","profileSiteIds","_this$context5","_this$context5$master","_this$context5$userCo","uploadOptions","Content-Type","_this$context6","_this$context6$master","_this$context6$userCo","_this$context6$userCo2","fileNameParts","_this$context7","_this$context7$master","_this$context7$pageDa","_this$context7$pageDa2","_this$context8","_this$context8$master","_this$context8$userCo","_ref5$masterData","_ref5$pageData","_profile$User","profileUserNickname","ProfilePhoto_ProfilePhoto","SocialLinks_SocialLinks","ProfileTopContent_ProfileTopContent","ProfileBottomContent_ProfileBottomContent","handleRelationshipButtonOnClick","battleRolesResult","reactionTypesResult","standardScorecardFieldsResult","battleResultsResult","audienceResult","commentsCountResult","followersCountResult","reactionType","field","joinLeaveMethod","ratingValue","BattleRatings","newRating","participantIndex","thisContestant","_this$context4$userCo","_this$context5$userCo2","notificationRoomName","connectToIoSocketRoom","_this$context$userCon3","userBattleRating","isChallengeModalShown","battleChallengeStatus","RoundCarousel_RoundCarousel","BattleAudience_BattleAudience","_ref$userContext","FeaturedBattles_FeaturedBattles","FindBattle_FindBattle","joinTournament","TournamentRounds","tournament_round_id","currentRoundId","current_round_id","tournamentJudges","players","seed","firstRoundMatchesCount","currentRoundType","RoundContestants","_ref7","_ref9","MainRoutes","AUTH_UTILS","getItem","Callback_Callback","userContext_UserProvider","pageContext_PageProvider","MasterPage_MasterPage","ReactDOM","MainRoutes_MainRoutes"],"mappings":"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","file":"static/js/main.980e5da3.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/loading.c5590569.svg\";","module.exports = \"data:image/png;base64,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\"","module.exports = __webpack_public_path__ + \"static/media/youtube_social_square_red.1f145247.png\";","import React, { Component, createContext } from 'react';\r\n\r\nexport const UserContext = createContext({\r\n  user: {},\r\n  notifications: [],\r\n  methodData: {},\r\n  setUser: () => null,\r\n  addNotifications: () => null,\r\n  clearNotifications: () => null,\r\n  setData: () => null,\r\n  setMethodData: () => null,\r\n});\r\n\r\nexport class UserProvider extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      user: {},\r\n      notifications: [],\r\n      methodData: {},\r\n      setUser: this.setUser.bind(this),\r\n      addNotifications: this.addNotifications.bind(this),\r\n      clearNotifications: this.clearNotifications.bind(this),\r\n      setData: this.setData.bind(this),\r\n      setMethodData: this.setMethodData.bind(this),\r\n    };\r\n\r\n    // Bind class methods.\r\n    this.setUser = this.setUser.bind(this);\r\n    this.addNotifications = this.addNotifications.bind(this);\r\n    this.clearNotifications = this.clearNotifications.bind(this);\r\n    this.setData = this.setData.bind(this);\r\n    this.setMethodData = this.setMethodData.bind(this);\r\n  }\r\n\r\n  setUser(user) {\r\n    this.setState(() => ({ user }));\r\n  }\r\n\r\n  addNotifications(notifications) {\r\n    this.setState(prevState => ({ notifications: prevState.notifications.concat(notifications)}));\r\n  }\r\n\r\n  setData(data) {\r\n    this.setState(prevState => ({\r\n      ...prevState,\r\n      ...data,\r\n    }));\r\n  }\r\n\r\n  clearNotifications() {\r\n    this.setState(() => ({ notifications: [] }));\r\n  }\r\n\r\n  setMethodData(methodData) {\r\n    this.setState(({ methodData: prevMethodData }) => ({\r\n      methodData: {\r\n        ...prevMethodData,\r\n        ...methodData,\r\n      },\r\n    }));\r\n  }\r\n\r\n  render() {\r\n    const { children } = this.props;\r\n    return (\r\n      <UserContext.Provider value={this.state}>\r\n        {children}\r\n      </UserContext.Provider>\r\n    );\r\n  }\r\n}\r\n\r\nexport const UserConsumer = UserContext.Consumer;\r\n\r\n","import React, { Component, createContext } from 'react';\r\nimport { UserContext } from './userContext';\r\n\r\nexport const PageContext = createContext({\r\n  pageData: null,\r\n  masterData: null,\r\n  setPageData: () => null,\r\n  setMasterData: () => null,\r\n});\r\n\r\nexport class PageProvider extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      pageData: {},\r\n      masterData: {},\r\n      setPageData: this.setPageData.bind(this),\r\n      setMasterData: this.setMasterData.bind(this),\r\n    };\r\n\r\n    // Bind class methods.\r\n    this.setPageData = this.setPageData.bind(this);\r\n    this.setMasterData = this.setMasterData.bind(this);\r\n  }\r\n\r\n  setPageData(data) {\r\n    this.setState(() => ({\r\n      pageData: { ...data },\r\n    }));\r\n  }\r\n\r\n  setMasterData(data) {\r\n    this.setState(() => ({\r\n      masterData: { ...data },\r\n    }));\r\n  }\r\n\r\n  render() {\r\n    const { props, state, context } = this;\r\n    const { children } = props;\r\n    const contextData = {\r\n      ...state,\r\n      userContext: { ...context }\r\n    };\r\n    return (\r\n      <PageContext.Provider value={contextData}>\r\n        {children}\r\n      </PageContext.Provider>\r\n    );\r\n  }\r\n}\r\n\r\nexport const PageConsumer = PageContext.Consumer;\r\n\r\nPageProvider.contextType = UserContext;\r\n","import React, { Component } from 'react';\r\nimport loading from './loading.svg';\r\n\r\nexport default class Callback extends Component {\r\n  render() {\r\n    const style = {\r\n      position: 'absolute',\r\n      display: 'flex',\r\n      justifyContent: 'center',\r\n      height: '100vh',\r\n      width: '100vw',\r\n      top: 0,\r\n      bottom: 0,\r\n      left: 0,\r\n      right: 0,\r\n      backgroundColor: 'white',\r\n    };\r\n\r\n    return (\r\n      <div style={style}>\r\n        <img src={loading} alt=\"loading\"/>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","export const PAGE_NAMES = [\r\n  'updateProfileState',\r\n  'handleUpdateInfo',\r\n  'handleUpdateSocialSites',\r\n  'handleRemoveSocialSite',\r\n  'handleUploadPhoto',\r\n  'handleRemovePhoto',\r\n  'handleRelationshipButtonOnClick',\r\n];\r\n\r\nexport const PROFILE_PHOTO_NAMES = [\r\n  'handlePhotoDrop',\r\n  'handlePhotoUploadOpen',\r\n  'handleRemovePhoto',\r\n  'handleCloseModal',\r\n];\r\n\r\nexport const SOCIAL_LINKS_NAMES = [\r\n  'handleUpdateSocialLinks',\r\n  'handleRemoveSiteClick',\r\n];\r\n\r\nexport const PROFILE_TOP_CONTENT_NAMES = [\r\n  'handleChangeVideo',\r\n  'handleAddVideo',\r\n  'handleRemoveVideos',\r\n];\r\n\r\nexport const PROFILE_BOTTOM_CONTENT_NAMES = [\r\n  'handleSortBattleList',\r\n  'handleRelationshipOnClick',\r\n];\r\n\r\nexport const VIDEO_LIST_NAMES = [\r\n  'handleAddVideoSubmit',\r\n  'handleRemoveVideoClick',\r\n  'handleVideoItemClick',\r\n];\r\n\r\nexport const PROFILE_ACTION_HEADER_NAMES = [\r\n  'toggleIsMoreDropdownOpen',\r\n  'toggleisEditing',\r\n];\r\n\r\nexport const EDIT_GROUP_NAMES = [\r\n  'handleInputKeyUp',\r\n  'handleCancel',\r\n  'toggleIsEditing',\r\n  'handleValueChange',\r\n  'handleUpdateInfo',\r\n];\r\n\r\nexport default {\r\n  PAGE_NAMES,\r\n  PROFILE_PHOTO_NAMES,\r\n  SOCIAL_LINKS_NAMES,\r\n  PROFILE_TOP_CONTENT_NAMES,\r\n  PROFILE_BOTTOM_CONTENT_NAMES,\r\n  VIDEO_LIST_NAMES,\r\n  PROFILE_ACTION_HEADER_NAMES,\r\n  EDIT_GROUP_NAMES,\r\n};\r\n","export const PAGE_NAMES = [\r\n  'updateBattle',\r\n  'handleJoinLeaveBattle',\r\n  'handleAcceptBattleChallenge',\r\n  'handleRejectBattleChallenge',\r\n  'handleBattleRatingOnChange',\r\n  'handleReadyOnClick',\r\n  'handleFollowBattle',\r\n  'handleUnfollowBattle',\r\n];\r\n\r\nexport default {\r\n  PAGE_NAMES,\r\n};\r\n","import PROFILE_METHOD_NAMES from './profile';\r\nimport BATTLE_STAGE_METHOD_NAMES from './battleStage';\r\n\r\nexport {\r\n  PROFILE_METHOD_NAMES,\r\n  BATTLE_STAGE_METHOD_NAMES,\r\n};\r\n\r\nexport default {\r\n  PROFILE_METHOD_NAMES,\r\n  BATTLE_STAGE_METHOD_NAMES,\r\n};\r\n","/* eslint-disable capitalized-comments */\r\n/* eslint-disable no-unused-vars */\r\nimport CLASS_METHOD_NAMES from './classMethodNames';\r\n\r\nconst LOCAL_API_URL = 'http://localhost:8080/';\r\n\r\nconst DEVELOPMENT_API_URL = 'http://spitface-battles-dev.herokuapp.com/';\r\nconst PRODUCTION_API_URL = 'http://spitface-battles-prod.herokuapp.com/';\r\n\r\nconst DEVELOPMENT_AUTH0_DOMAIN = 'spitface-battles-development.auth0.com';\r\nconst PRODUCTION_AUTH0_DOMAIN = 'spitface-battles.auth0.com';\r\n\r\nconst DEVELOPMENT_AUTH0_CLIENT_ID = 'Qk4XbC1YmmqXvxoyznJT7zizaavFiPl5';\r\nconst PRODUCTION_AUTH0_CLIENT_ID = 'pGJjr1LU43WnFCVqHG4Da7g071jDTi5u';\r\n\r\n// Local API.\r\n// const SERVER_URL = LOCAL_API_URL;\r\n// const AUTH0_CALLBACK_URL = 'http://localhost:3000/callback';\r\n\r\n// Dev API and DB.\r\nconst SERVER_URL = DEVELOPMENT_API_URL;\r\nconst AUTH0_DOMAIN = DEVELOPMENT_AUTH0_DOMAIN;\r\nconst AUTH0_CLIENT_ID = DEVELOPMENT_AUTH0_CLIENT_ID;\r\nconst AUTH0_CALLBACK_URL = 'https://obsessive-coder.github.io/spitface-battles-public/';\r\n\r\n// Production API and DB.\r\n// const SERVER_URL = PRODUCTION_API_URL;\r\n// const AUTH0_DOMAIN = PRODUCTION_AUTH0_DOMAIN;\r\n// const AUTH0_CLIENT_ID = PRODUCTION_AUTH0_CLIENT_ID;\r\n// const AUTH0_CALLBACK_URL = 'http://www.spitfacebattles.com/callback';\r\n\r\nconst API_PROFILE_PHOTO_URL = SERVER_URL + 'images/';\r\n\r\nconst API_URL = SERVER_URL + 'api';\r\nconst DEFAULT_PROFILE_PHOTO_URL = 'http://www.spitfacebattles.com.s3.amazonaws.com/uploads/images/1576691928660_3f131171-269c-4562-bfb2-2b0fa751f9d8_blank-profile-picture-973461_1280.png';\r\n\r\nconst YOUTUBE_THUMBNAIL_URL = 'https://i.ytimg.com/vi/[videoId]/sddefault.jpg';\r\n\r\nconst AUTH0_BATTLE_SOCIAL_IDENTITY_PROVIDERS = ['google-oauth2'];\r\n\r\nconst INVALID_CHARACTERS = ['<', '>', '\\\\', '`', '{', '|', '}'];\r\nconst BATTLE_LIST_SORT_FIELDS = [{\r\n  label: 'None',\r\n  value: -1,\r\n},{\r\n  label: 'Battle Type',\r\n  value: 'Type',\r\n}, {\r\n  label: 'Scoring Type',\r\n  value: 'ScoringType',\r\n}, {\r\n  label: '# of Rounds',\r\n  value: 'RoundCount',\r\n}, {\r\n  label: 'Round Length',\r\n  value: 'RoundLength',\r\n}];\r\n\r\nconst NAVIGATION_ITEMS = [\r\n  { text: 'home', icon: 'faHome' },\r\n  { text: 'battle', icon: 'faMicrophone' },\r\n  { text: 'people', icon: 'faUserFriends' },\r\n  { text: 'profile', icon: 'faUser' },\r\n  { text: 'help', icon: 'faInfo' },\r\n  { text: 'logout', icon: 'faSignOutAlt' }\r\n];\r\n\r\nconst CREATE_BATTLE_REQUIRED_FIELDS = [\r\n  'types',\r\n  'scoringTypes',\r\n  'roundCounts',\r\n];\r\n\r\nconst CREATE_BATTLE_FORM_ITEMS = [{\r\n  isAdvancedOption: false,\r\n  id: 'types',\r\n  text: 'What type of battle?',\r\n  description: `\r\n    STANDARD: A regular battle with regular rules and 3 judges.\r\n    COMING SOON: More battle types!\r\n  `,\r\n}, {\r\n  isAdvancedOption: false,\r\n  id: 'scoringTypes',\r\n  text: 'What type of scoring?',\r\n  description: `\r\n    BASIC: Simple scorecard with a single score.\r\n    STANDARD: Detailed scorecard with many categories.\r\n  `,\r\n}, {\r\n  isAdvancedOption: false,\r\n  id: 'roundCounts',\r\n  text: 'How many rounds?',\r\n  description: 'The number of rounds long the battle is.',\r\n}, {\r\n  isAdvancedOption: true,\r\n  id: 'roundLengths',\r\n  text: 'How long are the rounds?',\r\n  description: `\r\n    The amount of time a contestant has to prepare and submit a verse for a single round.\r\n    NOTE: This is not the length of the verse.\r\n  `,\r\n}, {\r\n  isAdvancedOption: true,\r\n  id: 'stagingRoundLengths',\r\n  text: 'How long is the staging round?',\r\n  description: `\r\n    The amount of time the battle stays in the staging round before actually starting.\r\n    NOTE: For more information on the staging round, please see \"Battle Progression\" in the guides.\r\n  `,\r\n}, {\r\n  isAdvancedOption: true,\r\n  id: 'scoringRoundLengths',\r\n  text: 'How long is the scoring round?',\r\n  description: `\r\n    The amount of time the battle stays in the scoring round after all rounds are complete.\r\n    NOTE: For more information on the scoring round, please see \"Battle Progression\" in the guides.\r\n  `,\r\n}, {\r\n  isAdvancedOption: true,\r\n  id: 'judgingTypes',\r\n  text: 'Who\\'s scoring it?',\r\n  description: `\r\n    * All battles are scored and influenced by the public.\r\n    Public: Everyone has an equal voice.\r\n    Judges: Up to 3 judges will score to decide the winner.\r\n    NOTE: For more information, please see \"Judging and Scoring\" in the guides.\r\n  `,\r\n}, {\r\n  isAdvancedOption: true,\r\n  id: 'verseLengths',\r\n  text: 'How long are the verses?',\r\n  description: `\r\n    The amount of time a contestant raps during a round.\r\n    NOTE: The length of their video should not exceed this value.\r\n    NOTE: This is not the length of the round.\r\n  `,\r\n}];\r\n\r\nconst PROFILE_INFO_ITEMS = [{\r\n  labelText: 'age',\r\n  order: 0,\r\n}, {\r\n  labelText: 'style',\r\n  order: 1,\r\n}, {\r\n  labelText: 'area',\r\n  order: 2,\r\n}];\r\n\r\nconst PROFILE_BATTLE_ITEMS = [{\r\n  labelText: 'pending',\r\n  order: 0,\r\n  stateProperty: 'pendingBattles'\r\n}, {\r\n  labelText: 'current',\r\n  order: 1,\r\n  stateProperty: 'currentBattles'\r\n}, {\r\n  labelText: 'requests',\r\n  order: 2,\r\n  stateProperty: 'requestedBattles'\r\n}, {\r\n  labelText: 'history',\r\n  order: 3,\r\n  stateProperty: 'historyBattles'\r\n}];\r\n\r\nconst NOTIFICATION_LIST_ITEMS = [{\r\n  category: 'battle',\r\n  icon: 'faMicrophone',\r\n}, {\r\n  category: 'message',\r\n  icon: 'faComments',\r\n}, {\r\n  category: 'community',\r\n  icon: 'faUserFriends',\r\n}];\r\n\r\nconst YOUTUBE_OPTIONS_PROFILE = {\r\n  playerVars: {\r\n    iv_load_policy: 3,\r\n    modestbranding: 1,\r\n    rel: 0\r\n  }\r\n};\r\n\r\nconst DEFAULT_PROFILE_YOUTUBE_ID = '3cYBfuphkuE';\r\n\r\nconst MESSAGE_INVALID_INPUT_CHARACTERS = 'You entered an invalid character. Please try again.';\r\nconst MESSAGE_CONFIRM_DELETE = `\r\n   Do you really want to delete this?\r\n   This action cannot be undone and may impact other users.\r\n   WARNING: Actions that impact other users may result in reputation and/or popularity penalties.\r\n`;\r\nconst APPROVED_IMAGE_TYPES = ['jpeg', 'jpg', 'png'];\r\nconst MESSAGE_INVALID_IMAGE_TYPE = 'Unsupported image type.\\nPlease upload a .jpeg, .jpg, or .png file.';\r\nconst MESSAGE_PROFILE_VIDEO_EXISTS = 'That video is already in your list.';\r\nconst MESSAGE_REQUIRED_FIELD = 'This field is required.';\r\nconst MESSAGE_UNAVAILABLE_USERNAME = 'This username is already taken.';\r\nconst MESSAGE_UNAVAILABLE_EMAIL = 'This email address is unavailable.';\r\nconst MESSAGE_UNCHANGED_EMAIL = 'You haven\\'t changed the email address';\r\nconst MESSAGE_VALID_USERNAME = 'This username is available.';\r\nconst MESSAGE_VALID_EMAIL = 'This email is available';\r\nconst MESSAGE_INVALID_EMAIL_FORMAT = 'Invalid email format';\r\nconst MESSAGE_UNCHANGED_USERNAME = 'You haven\\'t changed your username,';\r\nconst MESSAGE_REMOVE_FRIEND = 'Are you sure you want to remove this user from your friends?';\r\nconst MESSAGE_CANCEL_FRIEND_REQUEST = 'Are you sure you want to cancel this friend request?';\r\nconst MESSAGE_SAFETY_PENDING_FEATURE = 'It is important that we give you the best tools to ensure your safety wile using Spitface Battles.';\r\nconst MESSAGE_STANDARD_PENDING_FEATURE = 'It is important that we give you the best experience while using Spitface Battles.';\r\nconst MESSAGE_ALL_PENDING_FEATURE = '\\nWARNING: This feature is currently being developed. Please be patient while we get it just right for you.';\r\n\r\nconst DEFAULT_PROFILE_VIDEO_LIST_DATA = {\r\n  headingText: 'No Videos',\r\n  bodyText: 'The user hasn\\'t uploaded any profile videos.',\r\n};\r\n\r\nconst DEFAULT_PROFILE_OWNER_VIDEO_LIST_DATA = {\r\n  headingText: 'Add Some Videos',\r\n  bodyText: 'Use the button below to add videos.',\r\n};\r\n\r\nconst PROFILE_RELATIONSHIP_NAV_ITEMS = [\r\n  { order: 0, labelText: 'Top 5' },\r\n  { order: 1, labelText: 'Friends'},\r\n  { order: 2, labelText: 'Rivals' },\r\n];\r\n\r\nexport {\r\n  SERVER_URL,\r\n  AUTH0_DOMAIN,\r\n  AUTH0_CLIENT_ID,\r\n  API_URL,\r\n  AUTH0_CALLBACK_URL,\r\n  AUTH0_BATTLE_SOCIAL_IDENTITY_PROVIDERS,\r\n  API_PROFILE_PHOTO_URL,\r\n  DEFAULT_PROFILE_PHOTO_URL,\r\n  YOUTUBE_THUMBNAIL_URL,\r\n  INVALID_CHARACTERS,\r\n  BATTLE_LIST_SORT_FIELDS,\r\n  NAVIGATION_ITEMS,\r\n  CREATE_BATTLE_REQUIRED_FIELDS,\r\n  CREATE_BATTLE_FORM_ITEMS,\r\n  MESSAGE_INVALID_INPUT_CHARACTERS,\r\n  MESSAGE_CONFIRM_DELETE,\r\n  APPROVED_IMAGE_TYPES,\r\n  PROFILE_INFO_ITEMS,\r\n  PROFILE_BATTLE_ITEMS,\r\n  NOTIFICATION_LIST_ITEMS,\r\n  YOUTUBE_OPTIONS_PROFILE,\r\n  DEFAULT_PROFILE_YOUTUBE_ID,\r\n  MESSAGE_INVALID_IMAGE_TYPE,\r\n  MESSAGE_PROFILE_VIDEO_EXISTS,\r\n  MESSAGE_REQUIRED_FIELD,\r\n  MESSAGE_UNAVAILABLE_USERNAME,\r\n  MESSAGE_UNAVAILABLE_EMAIL,\r\n  MESSAGE_UNCHANGED_EMAIL,\r\n  MESSAGE_VALID_USERNAME,\r\n  MESSAGE_VALID_EMAIL,\r\n  MESSAGE_INVALID_EMAIL_FORMAT,\r\n  MESSAGE_UNCHANGED_USERNAME,\r\n  MESSAGE_SAFETY_PENDING_FEATURE,\r\n  MESSAGE_STANDARD_PENDING_FEATURE,\r\n  MESSAGE_ALL_PENDING_FEATURE,\r\n  CLASS_METHOD_NAMES,\r\n  DEFAULT_PROFILE_VIDEO_LIST_DATA,\r\n  DEFAULT_PROFILE_OWNER_VIDEO_LIST_DATA,\r\n  PROFILE_RELATIONSHIP_NAV_ITEMS,\r\n  MESSAGE_REMOVE_FRIEND,\r\n  MESSAGE_CANCEL_FRIEND_REQUEST,\r\n};\r\n\r\nexport default {\r\n  SERVER_URL,\r\n  AUTH0_DOMAIN,\r\n  AUTH0_CLIENT_ID,\r\n  API_URL,\r\n  AUTH0_CALLBACK_URL,\r\n  AUTH0_BATTLE_SOCIAL_IDENTITY_PROVIDERS,\r\n  API_PROFILE_PHOTO_URL,\r\n  DEFAULT_PROFILE_PHOTO_URL,\r\n  YOUTUBE_THUMBNAIL_URL,\r\n  INVALID_CHARACTERS,\r\n  BATTLE_LIST_SORT_FIELDS,\r\n  NAVIGATION_ITEMS,\r\n  CREATE_BATTLE_REQUIRED_FIELDS,\r\n  CREATE_BATTLE_FORM_ITEMS,\r\n  MESSAGE_INVALID_INPUT_CHARACTERS,\r\n  MESSAGE_CONFIRM_DELETE,\r\n  APPROVED_IMAGE_TYPES,\r\n  PROFILE_INFO_ITEMS,\r\n  PROFILE_BATTLE_ITEMS,\r\n  NOTIFICATION_LIST_ITEMS,\r\n  YOUTUBE_OPTIONS_PROFILE,\r\n  DEFAULT_PROFILE_YOUTUBE_ID,\r\n  MESSAGE_INVALID_IMAGE_TYPE,\r\n  MESSAGE_PROFILE_VIDEO_EXISTS,\r\n  MESSAGE_REQUIRED_FIELD,\r\n  MESSAGE_UNAVAILABLE_USERNAME,\r\n  MESSAGE_UNAVAILABLE_EMAIL,\r\n  MESSAGE_UNCHANGED_EMAIL,\r\n  MESSAGE_VALID_USERNAME,\r\n  MESSAGE_VALID_EMAIL,\r\n  MESSAGE_INVALID_EMAIL_FORMAT,\r\n  MESSAGE_UNCHANGED_USERNAME,\r\n  MESSAGE_SAFETY_PENDING_FEATURE,\r\n  MESSAGE_STANDARD_PENDING_FEATURE,\r\n  MESSAGE_ALL_PENDING_FEATURE,\r\n  CLASS_METHOD_NAMES,\r\n  DEFAULT_PROFILE_VIDEO_LIST_DATA,\r\n  DEFAULT_PROFILE_OWNER_VIDEO_LIST_DATA,\r\n  PROFILE_RELATIONSHIP_NAV_ITEMS,\r\n  MESSAGE_REMOVE_FRIEND,\r\n  MESSAGE_CANCEL_FRIEND_REQUEST,\r\n};\r\n","import {\r\n  INVALID_CHARACTERS, APPROVED_IMAGE_TYPES, MESSAGE_REQUIRED_FIELD,\r\n  MESSAGE_INVALID_INPUT_CHARACTERS, MESSAGE_VALID_USERNAME,\r\n  MESSAGE_VALID_EMAIL, MESSAGE_INVALID_EMAIL_FORMAT,\r\n} from '../constants';\r\n\r\nconst MAIN_HELPER = {\r\n  isTextValid: (text) => {\r\n    for (let i = 0; i < INVALID_CHARACTERS.length; i++) {\r\n      if (text.toString().includes(INVALID_CHARACTERS[i])) return false;\r\n    }\r\n    return true;\r\n  },\r\n  isImageValid: (imageFile) => {\r\n    const fileType = imageFile.type.split('/').pop();\r\n    return APPROVED_IMAGE_TYPES.includes(fileType);\r\n  },\r\n  isVideoInList: (videos, videoId) => {\r\n    for (let i = 0; i < videos.length; i++) {\r\n      const video = videos[i];\r\n      if(video.video_id === videoId) {\r\n        return true;\r\n      }\r\n    }\r\n    return false;\r\n  },\r\n  validateUsername: username => {\r\n    const response = {};\r\n\r\n    if (!username || !username.trim()) {\r\n      response.isValid = false;\r\n      response.validationMessage = MESSAGE_REQUIRED_FIELD;\r\n    }\r\n\r\n    if (!MAIN_HELPER.isTextValid(username)) {\r\n      response.isValid = false;\r\n      response.validationMessage = MESSAGE_INVALID_INPUT_CHARACTERS;\r\n    }\r\n\r\n    if (!Object.keys(response).includes('isValid')) {\r\n      response.isValid = true;\r\n      response.validationMessage = MESSAGE_VALID_USERNAME;\r\n    }\r\n\r\n    return response;\r\n  },\r\n  validateEmailFormat: email => {\r\n    const response = {};\r\n\r\n    if (!email || !email.trim()) {\r\n      response.isValid = false;\r\n      response.validationMessage = MESSAGE_REQUIRED_FIELD;\r\n    }\r\n\r\n    if (!MAIN_HELPER.isTextValid(email)) {\r\n      response.isValid = false;\r\n      response.validationMessage = MESSAGE_INVALID_INPUT_CHARACTERS;\r\n    }\r\n\r\n    if (!Object.keys(response).includes('isValid')) {\r\n      const isValid = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(email);\r\n      response.isValid = isValid;\r\n      response.validationMessage = isValid ? MESSAGE_VALID_EMAIL : MESSAGE_INVALID_EMAIL_FORMAT;\r\n    }\r\n\r\n    return response;\r\n  },\r\n  validatePassword: password => {\r\n    const response = {};\r\n\r\n    if (!password || !password.trim()) {\r\n      response.isValid = false;\r\n      response.validationMessage = MESSAGE_REQUIRED_FIELD;\r\n    }\r\n\r\n    if (password.trim().length < 8) {\r\n      response.isValid = false;\r\n      response.validationMessage = 'Password is too short';\r\n    }\r\n\r\n    if (!MAIN_HELPER.isTextValid(password)) {\r\n      response.isValid = false;\r\n      response.validationMessage = MESSAGE_INVALID_INPUT_CHARACTERS;\r\n    }\r\n\r\n    if (!Object.keys(response).includes('isValid')) {\r\n      const numbers = '0,1,2,3,4,5,6,7,8,9'.split(',');\r\n      const lowerCaseLetters = 'a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z'.split(',');\r\n      const upperCaseLetters = lowerCaseLetters.map(letter => letter.toUpperCase());\r\n      const specialChars = '!,@,#,$,%,^,&,*'.split(',');\r\n\r\n      const passwordIncludes = [];\r\n\r\n      const splitPassword = password.split('');\r\n\r\n      passwordIncludes.push(splitPassword.filter(char => numbers.includes(char)).length > 0);\r\n      passwordIncludes.push(splitPassword.filter(char => lowerCaseLetters.includes(char)).length > 0);\r\n      passwordIncludes.push(splitPassword.filter(char => upperCaseLetters.includes(char)).length > 0);\r\n      passwordIncludes.push(splitPassword.filter(char => specialChars.includes(char)).length > 0);\r\n\r\n      const passwordValidationPassCount = passwordIncludes.filter(value => value === true).length;\r\n\r\n      if (passwordValidationPassCount < 3) {\r\n        response.isValid = false;\r\n        response.validationMessage = 'Password does not meet requirements';\r\n      }\r\n\r\n      if (!Object.keys(response).includes('isValid')) {\r\n        response.isValid = true;\r\n        response.validationMessage = 'Password is valid';\r\n      }\r\n    }\r\n\r\n    return response;\r\n  },\r\n  getWinRatio: (battleCount, winCount, drawCount) => {\r\n    let winRatio = 0;\r\n    if (battleCount === 0) winRatio = 0;\r\n    else if (!drawCount) winRatio = winCount / battleCount;\r\n    else winRatio = (winCount + (0.5 * drawCount)) / battleCount;\r\n\r\n    return Number(Math.round(winRatio + 'e2') + 'e-2').toFixed(2);\r\n  },\r\n  getPopularityColor: (popularity) => {\r\n    /**\r\n      * 0-19 = red\r\n      * 20-39 = orangered\r\n      * 40-69 = chartreuse\r\n      * 70-89 = green\r\n      * 90-100 = darkgoldenrod\r\n    */\r\n    let popularityColor = 'chartreuse';\r\n    if (popularity < 20) {\r\n      popularityColor = 'red';\r\n    } else if (popularity < 40) {\r\n      popularityColor = 'orangered';\r\n    } else if (popularity >= 90) {\r\n      popularityColor = 'darkgoldenrod';\r\n    } else if (popularity >= 70) {\r\n      popularityColor = 'green';\r\n    }\r\n    return popularityColor;\r\n  },\r\n  getProfileSocialSiteUrl: ({ username: siteUsername, SocialSite: socialSite }) => {\r\n    const {\r\n      definition: siteName, additional_url: additionalUrl\r\n    } = socialSite;\r\n    let siteHref = 'https://www.';\r\n    siteHref += `${siteName}.com/`;\r\n    siteHref += (additionalUrl) ? `${additionalUrl}/` : '';\r\n    return `${siteHref}${siteUsername}`;\r\n  },\r\n  getSocialSiteUsername: (value, siteName, siteMoreUrl) => {\r\n    let newSiteUsername = value.replace('https:', '');\r\n    newSiteUsername = newSiteUsername.replace('www.', '');\r\n    newSiteUsername = newSiteUsername.replace(siteName, '');\r\n    newSiteUsername = newSiteUsername.replace('.com', '');\r\n    newSiteUsername = newSiteUsername.replace(siteMoreUrl, '');\r\n    newSiteUsername = newSiteUsername.split('').includes('?') ? newSiteUsername.slice(0, newSiteUsername.split('').indexOf('?')) : newSiteUsername;\r\n    return newSiteUsername.replace(/\\//ig, '');\r\n  },\r\n  sortBattles: (battles, sortField) => {\r\n    return battles.sort(({ [sortField]: fieldNameA }, { [sortField]: fieldNameB }) => (fieldNameA.definition > fieldNameB.definition) ? 1 : -1);\r\n  },\r\n  getPhotoFileData: (profileId, fullFileName) => {\r\n    const filePath = 'uploads/images/';\r\n    const fileParts = fullFileName.split('.');\r\n    const fileTypeIndex = fileParts.length - 1;\r\n    const fileType = fileParts[fileTypeIndex];\r\n\r\n    return {\r\n      fileName: `${filePath}${Date.now()}_${profileId}_${fullFileName}`,\r\n      fileType,\r\n    };\r\n  },\r\n};\r\n\r\nexport default MAIN_HELPER;\r\n","// Constants.\r\nconst CONTESTANTS_MAX = 2;\r\nconst JUDGES_MAX = 3;\r\nconst BATTLE_ROLE_UTILS = ['contestant', 'judge'];\r\n\r\nexport default {\r\n  getAllParticipants: function (userBattles, rounds) {\r\n    const contestants = this.getParticipants(userBattles, rounds, 'contestant');\r\n    const judges = this.getParticipants(userBattles, rounds, 'judge');\r\n    return { contestants, judges };\r\n  },\r\n  /**\r\n   * @description Get all participants for the provided role and user battles array.\r\n   * @param {array} userBattles\r\n   * @param {string} role\r\n   * @returns {array} array\r\n   */\r\n  getParticipants: function (userBattles, rounds, role) {\r\n    // Validate the role parameter.\r\n    if (!isRoleValid(role)) {\r\n      return undefined;\r\n    }\r\n\r\n    // Get an array with as many undefined values as the role max.\r\n    const participants = getEmptyParticipantArray(role);\r\n\r\n    // Replace the undefined values in the participants array with userbattles\r\n    // That match the provided role.\r\n    userBattles.forEach((userBattle) => {\r\n      if (userBattle.Role.definition === role) {\r\n        const index = userBattle.participant_number - 1;\r\n        const participant = userBattle;\r\n        if (role === 'contestant') {\r\n          let round;\r\n          let verses;\r\n          let verse;\r\n          participant.verses = [];\r\n          for (let i = 0; i < rounds.length; i++) {\r\n            round = rounds[i];\r\n            verses = round.Verses;\r\n            for (let j = 0; j < verses.length; j++) {\r\n              verse = verses[j];\r\n              if (verse.user_id === participant.user_id) {\r\n                participant.verses[i] = verse;\r\n              }\r\n            }\r\n          }\r\n        }\r\n        participants[index] = participant;\r\n      }\r\n    });\r\n    return participants;\r\n  },\r\n  /**\r\n   * @description Takes an array or battle participant objets and returns true\r\n   *              if the user id parameter is found in it.\r\n   * @param {array} participants\r\n   * @param {string} userId\r\n   * @returns {boolean} boolean\r\n   */\r\n  isUserParticipant: function (participants, userId) {\r\n    // Get an array of participant user_ids.\r\n    const participantIds = participants.map(participant => participant ? participant.user_id : -1);\r\n    // True if the userId is in the array of user_ids.\r\n    return participantIds.includes(userId);\r\n  },\r\n  /**\r\n   * @description Takes an array of participants and returns true if the length\r\n   *              is lenght than the max for the provided role.\r\n   * @param {array} participants\r\n   * @param {string} role\r\n   * @returns {boolean} boolean\r\n   */\r\n  isSeatAvailable: function (participants, role) {\r\n    // Validate the role parameter.\r\n    if (!isRoleValid(role)) {\r\n      return undefined;\r\n    }\r\n    // Get and store the max number of participants based on role parameter.\r\n    const roleMax = (role === 'contestant') ? CONTESTANTS_MAX : JUDGES_MAX;\r\n    // True if participants length is less than the role max.\r\n    participants = participants.filter(participant => participant.User !== undefined);\r\n    return participants.length < roleMax;\r\n  },\r\n  /**\r\n   * @description Takes an array of battle participants and returns the next\r\n   *              available seat number.\r\n   * @param {array} participants\r\n   * @returns {number} number\r\n   */\r\n  getSeatNumber: function (participants) {\r\n    let participantNumber;\r\n    participants.forEach((participant, index) => {\r\n      if (participantNumber) {\r\n        return;\r\n      }\r\n      if (isObjectEmpty(participant)) {\r\n        participantNumber = (index + 1);\r\n      }\r\n    });\r\n\r\n    return participantNumber;\r\n  },\r\n  getUserBattleRating: function (battleRatings, userId) {\r\n    return battleRatings.filter(rating => (rating.user_id === userId))[0];\r\n  },\r\n  getAverageBattleRating: function (battleRatings) {\r\n    if (!battleRatings || !battleRatings.length) return 0;\r\n    const ratings = battleRatings.map(rating => rating.rating);\r\n    const averageRating = ratings.reduce((a,b) => a + b, 0) / ratings.length;\r\n    if (isNaN(averageRating)) return 0;\r\n    return Math.round(averageRating * 100) / 100;\r\n  },\r\n  getBattleRolesObject: function (battleRoles) {\r\n    return battleRoles.reduce((obj, battleRole) => {\r\n      obj[battleRole.definition] = battleRole;\r\n      return obj;\r\n    }, {});\r\n  },\r\n  getBattleCardKey: function(userBattles, battleIndex) {\r\n    if (!userBattles || !userBattles.length) return battleIndex;\r\n    let battleCardKey = '';\r\n    for (let i = 0; i < userBattles.length; i++) {\r\n      const userBattle = userBattles[i];\r\n      battleCardKey += userBattle.id;\r\n    }\r\n\r\n    return battleCardKey;\r\n  },\r\n  getRoundInfoText: function(roundLength, roundCount) {\r\n    const roundLengthValue = roundLength > 24 ? roundLength / 24 : roundLength;\r\n    let roundLengthText = roundLength > 24 ? 'day' : 'hour';\r\n    if (roundLengthValue > 1) roundLengthText += 's';\r\n\r\n    return `${roundCount} ${roundCount > 1 ? 'rounds' : 'round'} @ ${roundLengthValue} ${roundLengthText}`;\r\n  },\r\n  getBattleFormChoiceText: function(value, formField) {\r\n    const lowerCaseOption = formField.toLowerCase();\r\n    const isRoundLengths = lowerCaseOption.includes('roundlengths');\r\n    const isVerseLengths = lowerCaseOption.includes('verselengths');\r\n    let valueInt = parseInt(value, 10);\r\n    let roundLengthText = (isRoundLengths && (valueInt === 1)) ? 'hour' : 'hours';\r\n\r\n    if (isRoundLengths && valueInt > 24) {\r\n      valueInt /= 24;\r\n      if (valueInt >= 7) {\r\n        roundLengthText = 'days';\r\n      }\r\n    } else if (isVerseLengths) {\r\n      roundLengthText = 'seconds';\r\n      if (valueInt > 90) {\r\n        valueInt /= 60;\r\n        roundLengthText = 'minutes';\r\n      }\r\n    }\r\n\r\n    return `${(isRoundLengths || isVerseLengths) ? valueInt : value} ${(isRoundLengths || isVerseLengths) ? roundLengthText : ''}`;\r\n  },\r\n  getBattleListData: (battles) => {\r\n    const currentBattles = [];\r\n    const pendingBattles = [];\r\n    const historyBattles = [];\r\n\r\n    for (let i = 0; i < battles.length; i++) {\r\n      const battle = battles[i];\r\n      const { definition: battleStatus } = battle.Status;\r\n      let battleArray = currentBattles;\r\n      if (battleStatus === 'staging') {\r\n        battleArray = pendingBattles;\r\n      } else if (battleStatus === 'closed') {\r\n        battleArray = historyBattles;\r\n      }\r\n      battleArray.push(battle);\r\n    }\r\n\r\n    return { currentBattles, pendingBattles, historyBattles };\r\n  },\r\n  getBattleInfo: data => {\r\n    return Object.keys(data).reduce((previousValue, currentValue) => {\r\n      const dataValue = data[currentValue];\r\n      const isRoundType = currentValue.includes('RoundType');\r\n      if (dataValue && !isRoundType && dataValue.hasOwnProperty('definition')) {\r\n        let { definition: value } = data[currentValue];\r\n        const isHourLength = currentValue === 'RoundLength' || currentValue === 'StagingRound' || currentValue === 'ScoringRound';\r\n        value += isHourLength ? ' hour' : '';\r\n        value += isHourLength && parseInt(value, 10) > 1 ? 's' : '';\r\n        value += currentValue === 'VerseLength' ? ' seconds' : '';\r\n\r\n        const propertyName = currentValue.replace(/([A-Z])/g, ' $1').trim();\r\n        previousValue[propertyName] = value;\r\n      }\r\n      return previousValue;\r\n    }, {});\r\n  }\r\n};\r\n\r\n/**\r\n * @description Returns true if the provided role is in the array of roles.\r\n * @param {string} role\r\n * @returns {boolean} boolean\r\n */\r\nfunction isRoleValid(role) {\r\n  if (BATTLE_ROLE_UTILS.includes(role)) {\r\n    return true;\r\n  }\r\n  return false;\r\n}\r\n\r\n/**\r\n * @description Make an array as many undefined values as the provided role max.\r\n * @param {string} role\r\n * @returns {array} array\r\n */\r\nfunction getEmptyParticipantArray(role) {\r\n  const roleMax = (role === 'contestant') ? CONTESTANTS_MAX : JUDGES_MAX;\r\n  const participants = [];\r\n  for (let i = 0; i < roleMax; i++) {\r\n    participants.push({});\r\n  }\r\n  return participants;\r\n}\r\n\r\nfunction isObjectEmpty(obj) {\r\n  for (const key in obj) {\r\n    if (obj.hasOwnProperty(key)) {\r\n      return false;\r\n    }\r\n  }\r\n  return true;\r\n}\r\n","export default {\r\n  getUserReactions(verseReactions, type, userId) {\r\n    return verseReactions.filter((reaction) => ((reaction.user_id === userId) && (reaction.Type.definition === type)));\r\n  },\r\n  getUserScores(verseScores, userId) {\r\n    const userScore = verseScores.filter((score) => score.user_id === userId);\r\n    return userScore[0];\r\n  },\r\n  getYouTubeId(videoId) {\r\n    let ID = '';\r\n    const url = videoId.replace(/(>|<)/gi, '').split(/(vi\\/|v=|\\/v\\/|youtu\\.be\\/|\\/embed\\/)/);\r\n    if (url[2] !== undefined) {\r\n      ID = url[2].split(/[^0-9a-z_\\\\-]/i);\r\n      ID = ID[0];\r\n    }\r\n    else {\r\n      ID = url;\r\n    }\r\n\r\n    return typeof ID === 'string' ? ID : ID[0];\r\n  }\r\n};\r\n","export default function RouteData(isExact, path, component) {\r\n  this.isExact = isExact;\r\n  this.path = path;\r\n  this.component = component;\r\n}\r\n","import { API_URL, AUTH0_DOMAIN, AUTH0_CLIENT_ID, AUTH0_CALLBACK_URL } from '../constants';\r\nexport const AUTH0_CONFIG = {\r\n  domain: AUTH0_DOMAIN,\r\n  clientId: AUTH0_CLIENT_ID,\r\n  callbackUrl: AUTH0_CALLBACK_URL,\r\n  apiUrl: API_URL\r\n};\r\n","import auth0 from 'auth0-js';\r\nimport { AUTH0_CONFIG } from './';\r\nimport { HISTORY } from '..';\r\n\r\nexport default class Auth {\r\n  constructor() {\r\n    this.accessToken = undefined;\r\n    this.idToken = undefined;\r\n    this.expiresAt = undefined;\r\n    this.userProfile = undefined;\r\n    this.scopes = undefined;\r\n    this.tokenRenewalTimeout = undefined;\r\n    this.requestedScopes = 'openid profile email';\r\n\r\n    this.auth0 = new auth0.WebAuth({\r\n      domain: AUTH0_CONFIG.domain,\r\n      clientID: AUTH0_CONFIG.clientId,\r\n      redirectUri: AUTH0_CONFIG.callbackUrl,\r\n      audience: AUTH0_CONFIG.apiUrl,\r\n      responseType: 'token id_token',\r\n      scope: this.requestedScopes,\r\n      leeway: 120\r\n    });\r\n\r\n    this.login = this.login.bind(this);\r\n    this.logout = this.logout.bind(this);\r\n    this.handleAuthentication = this.handleAuthentication.bind(this);\r\n    this.isAuthenticated = this.isAuthenticated.bind(this);\r\n    this.userHasScopes = this.userHasScopes.bind(this);\r\n    this.getAccessToken = this.getAccessToken.bind(this);\r\n    this.getIdToken = this.getIdToken.bind(this);\r\n    this.renewSession = this.renewSession.bind(this);\r\n    this.getProfile = this.getProfile.bind(this);\r\n    this.scheduleRenewal();\r\n  }\r\n\r\n  login() {\r\n    this.auth0.authorize();\r\n  }\r\n\r\n  handleAuthentication() {\r\n    this.auth0.parseHash((error, authResult) => {\r\n      if (authResult && authResult.accessToken && authResult.idToken) {\r\n        this.setSession(authResult);\r\n      } else if (error) {\r\n        HISTORY.replace('/welcome');\r\n        console.log('Error: ', error);\r\n      }\r\n    });\r\n  }\r\n\r\n  getAccessToken() {\r\n    return this.accessToken;\r\n  }\r\n\r\n  getIdToken() {\r\n    return this.idToken;\r\n  }\r\n\r\n  setSession(authResult) {\r\n    // Set isLoggedIn flag in localStorage\r\n    localStorage.setItem('isLoggedIn', 'true');\r\n\r\n    // Set the time that the access token will expire at\r\n    const expiresAt = (authResult.expiresIn * 1000) + new Date().getTime();\r\n    this.accessToken = authResult.accessToken;\r\n    this.idToken = authResult.idToken;\r\n    this.expiresAt = expiresAt;\r\n\r\n    // Set the users scopes\r\n    this.scopes = authResult.scope || this.requestedScopes || '';\r\n\r\n    this.scheduleRenewal();\r\n\r\n    const { pathname } = HISTORY.location;\r\n    const path = (pathname === '/callback') ? '/battles/find/' : pathname;\r\n    HISTORY.replace(path);\r\n  }\r\n\r\n  renewSession(route) {\r\n    this.auth0.checkSession({}, (error, authResult) => {\r\n      if (authResult && authResult.accessToken && authResult.idToken) {\r\n        this.setSession(authResult, route);\r\n      } else if (error) {\r\n        this.logout();\r\n      }\r\n    });\r\n  }\r\n\r\n  getProfile(cb) {\r\n    this.auth0.client.userInfo(this.accessToken, (error, profile) => {\r\n      if (profile) {\r\n        this.userProfile = profile;\r\n      }\r\n      cb(error, profile);\r\n    });\r\n  }\r\n\r\n  logout(cb) {\r\n    // Remove tokens and expiry time\r\n    this.accessToken = null;\r\n    this.idToken = null;\r\n    this.expiresAt = 0;\r\n\r\n    // Remove user scopes\r\n    this.scopes = null;\r\n\r\n    // Remove user profile\r\n    this.userProfile = null;\r\n\r\n    // Remove isLoggedIn flag from localStorage\r\n    localStorage.removeItem('isLoggedIn');\r\n\r\n    clearTimeout(this.tokenRenewalTimeout);\r\n\r\n    // Navigate to the home route\r\n    // HISTORY.replace('/welcome');\r\n    if(cb) return cb();\r\n  }\r\n\r\n  isAuthenticated() {\r\n    // Check whether the current time is past the\r\n    // Access token's expiry time\r\n    const expiresAt = this.expiresAt;\r\n    return new Date().getTime() < expiresAt;\r\n  }\r\n\r\n  userHasScopes(scopes) {\r\n    const grantedScopes = this.scopes.split(' ');\r\n    return scopes.every(scope => grantedScopes.includes(scope));\r\n  }\r\n\r\n  scheduleRenewal() {\r\n    const expiresAt = this.expiresAt;\r\n    const timeout = expiresAt - Date.now();\r\n    if (timeout > 0) {\r\n      this.tokenRenewalTimeout = setTimeout(() => {\r\n        this.renewSession();\r\n      }, timeout);\r\n    }\r\n  }\r\n\r\n  getExpiryDate() {\r\n    return JSON.stringify(new Date(this.expiresAt));\r\n  }\r\n}\r\n","import { createBrowserHistory } from 'history';\r\nexport default createBrowserHistory();\r\n","import { AXIOS_BASE } from '../';\r\nconst BASE_URL = '/v1/membership';\r\n\r\nexport default {\r\n  search: function(userId, searchTerm, options) {\r\n    return AXIOS_BASE.get(`${BASE_URL}/${userId}/search/${searchTerm}`, options);\r\n  },\r\n  find: function (userId, options) {\r\n    return AXIOS_BASE.get(`${BASE_URL}/${userId}`, options);\r\n  },\r\n  create: function (profile, options) {\r\n    return AXIOS_BASE.post(BASE_URL, profile, options);\r\n  },\r\n  update: function (updatedUser, options) {\r\n    return AXIOS_BASE.put(`${BASE_URL}/${updatedUser.user_id}`, updatedUser, options);\r\n  },\r\n  delete: function (userId, options) {\r\n    return AXIOS_BASE.delete(`${BASE_URL}/${userId}`, options);\r\n  },\r\n  isUsernameAvailable: function (userId, username, options) {\r\n    return AXIOS_BASE.get(`${BASE_URL}/${userId}/check-username-availability/${username}`, options);\r\n  },\r\n  isEmailAvailable: function (userId, email, options) {\r\n    return AXIOS_BASE.get(`${BASE_URL}/${userId}/check-email-availability/${email}`, options);\r\n  },\r\n};\r\n","import { AXIOS_BASE } from '../';\r\nconst BASE_URL = '/v1/profiles';\r\n\r\nexport default {\r\n  // Get approved social sites.\r\n  getApprovedSocialSites: function(options) {\r\n    return AXIOS_BASE.get(`${BASE_URL}/approved-sites` , options);\r\n  },\r\n  getUserProfile: function (userId, options) {\r\n    return AXIOS_BASE.get(`${BASE_URL}/${userId}`, options);\r\n  },\r\n  createUserProfile: function (profile, options) {\r\n    return AXIOS_BASE.post(BASE_URL, profile, options);\r\n  },\r\n  updateUserProfile: function (userId, profile, options) {\r\n    return AXIOS_BASE.put(`${BASE_URL}/${userId}`, profile, options);\r\n  },\r\n  deleteUserProfile: function (userId, options) {\r\n    return AXIOS_BASE.delete(`${BASE_URL}/${userId}`, options);\r\n  },\r\n  // Profile Videos\r\n  getProfileVideos: function (profileId, options) {\r\n    return AXIOS_BASE.get(`${BASE_URL}/${profileId}/videos`, options);\r\n  },\r\n  createProfileVideo: function (profileVideo, options) {\r\n    return AXIOS_BASE.post(`${BASE_URL}/${profileVideo.profile_id}/videos`, profileVideo, options);\r\n  },\r\n  deleteProfileVideos: function (profileId, options) {\r\n    return AXIOS_BASE.delete(`${BASE_URL}/${profileId}/videos`, options);\r\n  },\r\n  // Social Sites.\r\n  createProfileSocialSites: function (profileId, profileSites, options) {\r\n    return AXIOS_BASE.post(`${BASE_URL}/${profileId}/sites`, { profileSites }, options);\r\n  },\r\n  updateProfileSocialSites: function (profileId, updatedSites, options) {\r\n    return AXIOS_BASE.put(`${BASE_URL}/${profileId}/sites`, { updatedSites }, options);\r\n  },\r\n  deleteProfileSocialSites: function (profileId, options) {\r\n    return AXIOS_BASE.delete(`${BASE_URL}/${profileId}/sites`, options);\r\n  },\r\n  getSignedRequest: function (profileId, fileData, options) {\r\n    return AXIOS_BASE.post(`${BASE_URL}/${profileId}/profile-photo`, fileData, options);\r\n  },\r\n  uploadProfilePhoto: function (signedRequest, photoFile, options) {\r\n    return AXIOS_BASE.put(signedRequest, photoFile, options);\r\n  },\r\n  removeProfilePhoto: function (profileId, fileName, options) {\r\n    return AXIOS_BASE.delete(`${BASE_URL}/${profileId}/profile-photo/${fileName}`, options);\r\n  },\r\n};\r\n","import { AXIOS_BASE } from '../';\r\nconst BASE_URL = '/v1/battles';\r\n\r\nexport default {\r\n  /**\r\n   * @description Make an ajax GET request to get all battles.\r\n   * @returns Promise\r\n   */\r\n  getBattles: function (options) {\r\n    return AXIOS_BASE.get(BASE_URL, options);\r\n  },\r\n  getFeaturedBattles: function (options) {\r\n    return AXIOS_BASE.get(`${BASE_URL}/featured`, options);\r\n  },\r\n  /**\r\n   * @description Make an ajax GET request to a single battle.\r\n   * @returns Promise\r\n   */\r\n  getOneBattle: function (battleId, options) {\r\n    return AXIOS_BASE.get(`${BASE_URL}/${battleId}`, options);\r\n  },\r\n  /**\r\n   * @description Make an ajax DELETE request to delete a battle.\r\n   * @returns Promise\r\n   */\r\n  deleteBattle: function ([battleId], options) {\r\n    return AXIOS_BASE.delete(`${BASE_URL}/${battleId}`, options);\r\n  },\r\n  /**\r\n   * @description Make an ajax POST request to create a battle.\r\n   * @returns Promise\r\n   */\r\n  createBattle: function (battle, options) {\r\n    return AXIOS_BASE.post(BASE_URL, battle, options);\r\n  },\r\n  /**\r\n   * @description Make an ajax POST request to create an userbatttle.\r\n   * @returns Promise\r\n   */\r\n  joinBattle: function (params, options) {\r\n    const [battleId, participant] = params;\r\n    return AXIOS_BASE.post(`${BASE_URL}/${battleId}/participants`, participant, options);\r\n  },\r\n  /**\r\n   * @description Make an ajax DELETE request to delete an userbatttle.\r\n   * @returns Promise\r\n   */\r\n  leaveBattle: function (params, options) {\r\n    const [battleId, userId] = params;\r\n    return AXIOS_BASE.delete(`${BASE_URL}/${battleId}/participants/${userId}`, options);\r\n  },\r\n  getBattleResults: function (battleId, options) {\r\n    return AXIOS_BASE.get(`${BASE_URL}/${battleId}/result`, options);\r\n  },\r\n  getBattleCommentsCount: function(battleId, options) {\r\n    return AXIOS_BASE.get(`${BASE_URL}/${battleId}/comments/count`, options);\r\n  },\r\n  getBattleComments: function (battleId, options) {\r\n    return AXIOS_BASE.get(`${BASE_URL}/${battleId}/comments`, options);\r\n  },\r\n  getBattleComment: function (battleId, commentId, options) {\r\n    return AXIOS_BASE.get(`${BASE_URL}/${battleId}/comments/${commentId}`, options);\r\n  },\r\n  createBattleComment: function (battleId, comment, options) {\r\n    return AXIOS_BASE.post(`${BASE_URL}/${battleId}/comments`, comment, options);\r\n  },\r\n  updateBattleComment: function (battleId, commentId, comment, options) {\r\n    return AXIOS_BASE.put(`${BASE_URL}/${battleId}/comments/${commentId}`, comment, options);\r\n  },\r\n  deleteBattleComment: function (battleId, commentId, options) {\r\n    return AXIOS_BASE.delete(`${BASE_URL}/${battleId}/comments/${commentId}`, options);\r\n  },\r\n  createCommentReaction: function (battleId, commentReaction, options) {\r\n    const { comment_id: commentId} = commentReaction;\r\n    return AXIOS_BASE.post(`${BASE_URL}/${battleId}/comments/${commentId}/reactions`, commentReaction, options);\r\n  },\r\n  updateCommentReaction: function (battleId, commentReaction, options) {\r\n    const { comment_id: commentId, user_id: userId } = commentReaction;\r\n    return AXIOS_BASE.put(`${BASE_URL}/${battleId}/comments/${commentId}/reactions/${userId}`, commentReaction, options);\r\n  },\r\n  deleteCommentReaction: function (battleId, commentReaction, options) {\r\n    const { comment_id: commentId, user_id: userId } = commentReaction;\r\n    return AXIOS_BASE.delete(`${BASE_URL}/${battleId}/comments/${commentId}/reactions/${userId}`, options);\r\n  },\r\n  updateBattleChallenge: function (battleId, newStatusDefinition, options) {\r\n    return AXIOS_BASE.put(`${BASE_URL}/${battleId}/challenge`, { newStatusDefinition }, options);\r\n  },\r\n};\r\n","import { AXIOS_BASE } from '../';\r\nconst BASE_URL = '/v1/verses';\r\n\r\nexport default {\r\n  getAllRound(roundId, options) {\r\n    return AXIOS_BASE.get(`${BASE_URL}/rounds/${roundId}`, options);\r\n  },\r\n  getOneUser(roundId, userId, options) {\r\n    return AXIOS_BASE.get(`${BASE_URL}/rounds/${roundId}/users/${userId}`, options);\r\n  },\r\n  createVerse(verse, options) {\r\n    return AXIOS_BASE.post(BASE_URL, verse, options);\r\n  },\r\n  deleteVerse(verseId, options) {\r\n    return AXIOS_BASE.delete(`${BASE_URL}/${verseId}`,options);\r\n  }\r\n};\r\n","import { AXIOS_BASE } from '../';\r\nconst BASE_URL = '/v1/verses';\r\n\r\nexport default {\r\n  getAllVerseScoreCards: function (verseId, scoringType, options) {\r\n    const scorecardEndpoint = scoringType === 'advanced' ? 'scorecards' : 'basicscorecards';\r\n    return AXIOS_BASE.get(`${BASE_URL}/${verseId}/${scorecardEndpoint}`, options);\r\n  },\r\n  getOne: function(verseId, userId, options) {\r\n    const url = `${BASE_URL}/${verseId}/scorecards/${userId}`;\r\n    return AXIOS_BASE.get(url, options);\r\n  },\r\n  create: function({ scoreCard, scoringType, axiosOptions }) {\r\n    const scoreCardEndpoint = scoringType === 'advanced' ? 'scorecards' : 'basicscorecards';\r\n    const url = `${BASE_URL}/${scoreCard.verse_id}/${scoreCardEndpoint}`;\r\n    return AXIOS_BASE.post(url, scoreCard, axiosOptions);\r\n  },\r\n  update: function ({ scoreCard, scoringType, userId, axiosOptions }) {\r\n    const scoreCardEndpoint = scoringType === 'advanced' ? 'scorecards' : 'basicscorecards';\r\n    const url = `${BASE_URL}/${scoreCard.verse_id}/${scoreCardEndpoint}/${userId}`;\r\n    return AXIOS_BASE.put(url, scoreCard, axiosOptions);\r\n  },\r\n  delete: function (verseId, scoringType, userId, axiosOptions) {\r\n    const scoreCardEndpoint = scoringType === 'advanced' ? 'scorecards' : 'basicscorecards';\r\n    const url = `${BASE_URL}/${verseId}/${scoreCardEndpoint}/${userId}`;\r\n    return AXIOS_BASE.delete(url, axiosOptions);\r\n  },\r\n  getStandardScorecardFields: function (options) {\r\n    return AXIOS_BASE.get('/v1/standard-scorecard-fields', options);\r\n  },\r\n};\r\n","import { AXIOS_BASE } from '../';\r\nconst BASE_URL = '/v1/verses';\r\n\r\nexport default {\r\n  getTypes: function (options) {\r\n    return AXIOS_BASE.get('/v1/reactions', options);\r\n  },\r\n  getAllUserBattle: function (battleId, userId, options) {\r\n    return AXIOS_BASE.get(`/v1/battles/${battleId}/verse-reactions/${userId}`, options);\r\n  },\r\n  getAllVerseReactions: function (roundId, options) {\r\n    return AXIOS_BASE.get(`${BASE_URL}/${roundId}/reactions`, options);\r\n  },\r\n  create: function (reaction, options) {\r\n    return AXIOS_BASE.post(`${BASE_URL}/${reaction.verseId}/reactions`, reaction, options);\r\n  },\r\n  update: function (reaction, options) {\r\n    return AXIOS_BASE.put(`${BASE_URL}/${reaction.verseId}/reactions/${reaction.userId}`, { typeId: reaction.typeId }, options);\r\n  },\r\n  delete: function (reaction, options) {\r\n    return AXIOS_BASE.delete(`${BASE_URL}/${reaction.verseId}/reactions/${reaction.userId}`, options);\r\n  }\r\n};\r\n","import { AXIOS_BASE } from '../';\r\nconst BASE_URL = '/v1/battle-options';\r\n\r\nexport default {\r\n  getAll: function (options) {\r\n    return AXIOS_BASE.get(BASE_URL, options);\r\n  },\r\n  getRoleId: function(definition, options) {\r\n    return AXIOS_BASE.get(`${BASE_URL}/BattleRole/${definition}`, options);\r\n  },\r\n};\r\n","import { AXIOS_BASE } from '../';\r\nconst BASE_URL = '/v1/youtube-utility';\r\n\r\nexport default {\r\n  validateId(youtubeId, options) {\r\n    return AXIOS_BASE.get(`${BASE_URL}/validate/${youtubeId}`, options);\r\n  }\r\n};\r\n","import { AXIOS_BASE } from '..';\r\nconst BASE_URL = 'v1/notifications';\r\n\r\nexport default {\r\n  getAllUser: function (userId, options) {\r\n    return AXIOS_BASE.get(`${BASE_URL}/${userId}`, options);\r\n  },\r\n  setAllSeen: function (userId, notificationType, options) {\r\n    return AXIOS_BASE.put(`${BASE_URL}/${userId}`, { notificationType }, options);\r\n  },\r\n  update: function(userId, notificationId, updatedNotification, options) {\r\n    return AXIOS_BASE.put(`${BASE_URL}/${userId}/${notificationId}`, updatedNotification, options);\r\n  },\r\n  create: function(userId, notification, options) {\r\n    return AXIOS_BASE.post(`${BASE_URL}/${userId}`, notification, options);\r\n  }\r\n};\r\n","import { AXIOS_BASE } from '../';\r\nconst BASE_URL = 'v1/relationships';\r\n\r\nexport default {\r\n  getAllUser: function (userId, relationshipType, options) {\r\n    return AXIOS_BASE.get(`${BASE_URL}/${userId}/${relationshipType}`, options);\r\n  },\r\n  getOneType: function(userId, otherUserId, relationshipType, options) {\r\n    return AXIOS_BASE.get(`${BASE_URL}/${userId}/${otherUserId}/${relationshipType}`, options);\r\n  },\r\n  create: function(params, options) {\r\n    const [userId, relationshipType, relationship] = params;\r\n    return AXIOS_BASE.post(`${BASE_URL}/${userId}/${relationshipType}`, { relationship }, options);\r\n  },\r\n  update: function(params, options) {\r\n    const [userId, otherUserId] = params;\r\n    return AXIOS_BASE.put(`${BASE_URL}/${userId}/${otherUserId}`, {}, options);\r\n  },\r\n  delete: function(params, options) {\r\n    const [userId, otherUserId] = params;\r\n    return AXIOS_BASE.delete(`${BASE_URL}/${userId}/${otherUserId}`, options);\r\n  }\r\n};\r\n","import { AXIOS_BASE } from '../';\r\nconst BASE_URL = 'v1/favorite-rappers';\r\n\r\nexport default {\r\n  getAllUser: function (userId, options) {\r\n    return AXIOS_BASE.get(`${BASE_URL}/${userId}`, options);\r\n  },\r\n  getOne: function(userId, otherUserId, options) {\r\n    return AXIOS_BASE.get(`${BASE_URL}/${userId}/${otherUserId}`,options);\r\n  },\r\n  create: function(params, options) {\r\n    const [userId, favoriteRapper] = params;\r\n    return AXIOS_BASE.post(`${BASE_URL}/${userId}`, favoriteRapper, options);\r\n  },\r\n  update: function(userId, updatedFavoriteRappers, options) {\r\n    return AXIOS_BASE.put(`${BASE_URL}/${userId}`, updatedFavoriteRappers, options);\r\n  },\r\n  delete: function(params, options) {\r\n    const [userId, otherUserId] = params;\r\n    return AXIOS_BASE.delete(`${BASE_URL}/${userId}/${otherUserId}`, options);\r\n  }\r\n};\r\n","import { AXIOS_BASE } from '../';\r\nconst BASE_URL = '/v1/battle-requests';\r\n\r\nexport default {\r\n  getAll: function (options) {\r\n    return AXIOS_BASE.get(`${BASE_URL}`, options);\r\n  },\r\n  getAllUser: function(userId, options) {\r\n    return AXIOS_BASE.get(`${BASE_URL}/${userId}`, options);\r\n  },\r\n  getOne: function(userId, battleRequestId, options) {\r\n    return AXIOS_BASE.get(`${BASE_URL}/${userId}/${battleRequestId}`, options);\r\n  },\r\n  create: function([userId, battleRequest], options) {\r\n    return AXIOS_BASE.post(`${BASE_URL}/${userId}`, battleRequest, options);\r\n  },\r\n  update: function(userOneId, userTwoId, updatedBattleRequest, options) {\r\n    return AXIOS_BASE.put(`${BASE_URL}/${userOneId}/${userTwoId}`, updatedBattleRequest, options);\r\n  },\r\n  updateRequestedStatus: function([userId, battleRequestId, acceptDefinition, updatedRequestUser], options) {\r\n    return AXIOS_BASE.put(`${BASE_URL}/${battleRequestId}/requested-contestants/${userId}/${acceptDefinition}`, updatedRequestUser, options);\r\n  },\r\n  delete: function([userId, battleRequestId], options) {\r\n    return AXIOS_BASE.delete(`${BASE_URL}/${userId}/${battleRequestId}`, options);\r\n  },\r\n};\r\n","import { AXIOS_BASE } from '../';\r\nconst BASE_URL = '/v1/tournaments';\r\n\r\nexport default {\r\n  getAll: function(options) {\r\n    return AXIOS_BASE.get(BASE_URL, options);\r\n  },\r\n  getOne: function(tournamentId, options) {\r\n    return AXIOS_BASE.get(`${BASE_URL}/${tournamentId}`, options);\r\n  },\r\n  createContestant: function(tournamentRoundId, contestant, options) {\r\n    return AXIOS_BASE.post(`${BASE_URL}/${tournamentRoundId}/contestants`, contestant, options);\r\n  },\r\n};\r\n","import USER_UTILS from './users';\r\nimport PROFILE_UTILS from './profile';\r\nimport BATTLE_UTILS from './battles';\r\nimport VERSE_UTILS from './verses';\r\nimport SCORE_CARD_UTILS from './scorecards';\r\nimport VERSE_REACTION_UTILS from './verseReactions';\r\nimport BATTLE_ROLE_UTILS from './battleRoles';\r\nimport BATTLE_OPTION_UTILS from './battleOptions';\r\nimport BATTLE_RATING_UTILS from './battleRatings';\r\nimport YOUTUBE_UTILS from './youtubeUtility';\r\nimport PARTICIPANT_UTILS from './participants';\r\nimport SUBSCRIPTION_UTILS from './subscriptions';\r\nimport NOTIFICATION_UTILS from './notifications';\r\nimport AUDIENCE_UTILS from './audience';\r\nimport RELATIONSHIP_UTILS from './relationships';\r\nimport FAVORITE_RAPPERS from './favoriteRappers';\r\nimport BATTLE_REQUEST_UTILS from './battleRequests';\r\nimport BATTLE_CHALLENGE_UTILS from './battleChallenges';\r\nimport TOURNAMENT_UTILS from './tournaments';\r\n\r\nexport {\r\n  USER_UTILS,\r\n  PROFILE_UTILS,\r\n  BATTLE_UTILS,\r\n  VERSE_UTILS,\r\n  SCORE_CARD_UTILS,\r\n  VERSE_REACTION_UTILS,\r\n  BATTLE_ROLE_UTILS,\r\n  BATTLE_OPTION_UTILS,\r\n  BATTLE_RATING_UTILS,\r\n  YOUTUBE_UTILS,\r\n  PARTICIPANT_UTILS,\r\n  SUBSCRIPTION_UTILS,\r\n  NOTIFICATION_UTILS,\r\n  AUDIENCE_UTILS,\r\n  RELATIONSHIP_UTILS,\r\n  FAVORITE_RAPPERS,\r\n  BATTLE_REQUEST_UTILS,\r\n  BATTLE_CHALLENGE_UTILS,\r\n  TOURNAMENT_UTILS,\r\n};\r\n\r\nexport default {\r\n  USER_UTILS,\r\n  PROFILE_UTILS,\r\n  BATTLE_UTILS,\r\n  VERSE_UTILS,\r\n  SCORE_CARD_UTILS,\r\n  VERSE_REACTION_UTILS,\r\n  BATTLE_ROLE_UTILS,\r\n  BATTLE_OPTION_UTILS,\r\n  BATTLE_RATING_UTILS,\r\n  YOUTUBE_UTILS,\r\n  PARTICIPANT_UTILS,\r\n  SUBSCRIPTION_UTILS,\r\n  NOTIFICATION_UTILS,\r\n  AUDIENCE_UTILS,\r\n  RELATIONSHIP_UTILS,\r\n  FAVORITE_RAPPERS,\r\n  BATTLE_REQUEST_UTILS,\r\n  BATTLE_CHALLENGE_UTILS,\r\n  TOURNAMENT_UTILS,\r\n};\r\n","import { AXIOS_BASE } from '../';\r\nconst BASE_URL = '/v1/battle-roles';\r\n\r\nexport default {\r\n  getAll: function (options) {\r\n    return AXIOS_BASE.get(BASE_URL, options);\r\n  },\r\n  getOne: function(roleDefinition, options) {\r\n    return AXIOS_BASE.get(`${BASE_URL}/${roleDefinition}`, options);\r\n  }\r\n};\r\n","import { AXIOS_BASE } from '../';\r\nconst BASE_URL = '/v1/battles';\r\n\r\nexport default {\r\n  getAll: function (battleId, options) {\r\n    return AXIOS_BASE.get(`${BASE_URL}/${battleId}/ratings`, options);\r\n  },\r\n  getOne: function (battleId, userId, options) {\r\n    return AXIOS_BASE.get(`${BASE_URL}/${battleId}/ratings/${userId}`, options);\r\n  },\r\n  create: function (battleRating, options) {\r\n    return AXIOS_BASE.post(`${BASE_URL}/${battleRating.battle_id}/ratings`, battleRating, options);\r\n  },\r\n  update: function (battleRating, options) {\r\n    return AXIOS_BASE.put(`${BASE_URL}/${battleRating.battle_id}/ratings/${battleRating.user_id}`, battleRating, options);\r\n  },\r\n  delete: function (battleId, userId, options) {\r\n    return AXIOS_BASE.delete(`${BASE_URL}/${battleId}/ratings/${userId}`, options);\r\n  }\r\n};\r\n","import { AXIOS_BASE } from '../';\r\nconst BASE_URL = 'v1/battles';\r\n\r\nexport default {\r\n  getAllBattle: function (battleId, options) {\r\n    return AXIOS_BASE.get(`${BASE_URL}/${battleId}/participants`, options);\r\n  },\r\n  getAllUser: function(userId, options) {\r\n    return AXIOS_BASE.get(`v1/user-battles/${userId}`, options);\r\n  },\r\n  updateParticipant: function (participant, options) {\r\n    const {battle_id: battleId, user_id: userId} = participant;\r\n    return AXIOS_BASE.put(`${BASE_URL}/${battleId}/participants/${userId}`, participant, options);\r\n  },\r\n};\r\n","import { AXIOS_BASE } from '../';\r\nconst BASE_URL = 'v1/subscriptions';\r\n\r\nexport default {\r\n  getAllUser: function (userId, options) {\r\n    return AXIOS_BASE.get(`${BASE_URL}/${userId}`, options);\r\n  },\r\n  create: function(userId, subscriptions, options) {\r\n    return AXIOS_BASE.post(`${BASE_URL}/${userId}`, { subscriptions }, options);\r\n  },\r\n  delete: function(userId, roomName, options) {\r\n    return AXIOS_BASE.delete(`${BASE_URL}/${userId}/${roomName}`, options);\r\n  }\r\n};\r\n","import { AXIOS_BASE } from '../';\r\nconst BASE_URL = '/v1/battles';\r\n\r\n// Matches with \"/api/v1/battles/:battleId/audience\".\r\n\r\nexport default {\r\n  findAllBattle: function (battleId, options) {\r\n    return AXIOS_BASE.get(`${BASE_URL}/${battleId}/audience`, options);\r\n  },\r\n  findAllBattleFollowersCount: function(battleId, options) {\r\n    return AXIOS_BASE.get(`${BASE_URL}/${battleId}/followers-count`, options);\r\n  }\r\n};\r\n","import { AXIOS_BASE } from '../';\r\nconst BASE_URL = '/v1/battle-challenges';\r\n\r\nexport default {\r\n  getAllRequests: function (challengeId, options) {\r\n    return AXIOS_BASE.get(`${BASE_URL}/${challengeId}/requests`, options);\r\n  },\r\n  getOneRequest: function(userId, challengeId, options) {\r\n    return AXIOS_BASE.get(`${BASE_URL}/${challengeId}/requests/${userId}`, options);\r\n  },\r\n  createRequest: function(challengeId, challengeRequest, options) {\r\n    return AXIOS_BASE.post(`${BASE_URL}/${challengeId}/requests`, challengeRequest, options);\r\n  },\r\n  updateRequest: function(userId, challengeId, challengeRequest, options) {\r\n    return AXIOS_BASE.put(`${BASE_URL}/${challengeId}/requests/${userId}`, challengeRequest, options);\r\n  },\r\n  deleteRequest: function(userId, challengeId, options) {\r\n    return AXIOS_BASE.delete(`${BASE_URL}/${challengeId}/requests/${userId}`, options);\r\n  },\r\n};\r\n","import axios from 'axios';\r\nimport { API_URL } from './constants';\r\n\r\nexport default axios.create({ baseURL: API_URL });\r\n","import MAIN_HELPER from './mainHelper';\r\nimport BATTLE_HELPER from './battleHelper';\r\nimport VERSE_HELPER from './verseHelper';\r\nimport ROUTE_BUILDER from './routeBuilder';\r\nimport HANDLE_ASYNC_ERROR from './handleAsyncError';\r\n\r\nexport {\r\n  BATTLE_HELPER,\r\n  VERSE_HELPER,\r\n  MAIN_HELPER,\r\n  ROUTE_BUILDER,\r\n  HANDLE_ASYNC_ERROR\r\n};\r\n\r\nexport default {\r\n  BATTLE_HELPER,\r\n  VERSE_HELPER,\r\n  MAIN_HELPER,\r\n  ROUTE_BUILDER,\r\n  HANDLE_ASYNC_ERROR\r\n};\r\n","import axios from 'axios';\r\nimport { HISTORY } from '../';\r\n\r\nexport default function handleAsyncError(error) {\r\n  // Axios async cancelled.\r\n  if (axios.isCancel(error)) {\r\n    return { message: 'Request canceled', data: error.message };\r\n  }\r\n  // Handle errors.\r\n  if (error.response && error.response.status === 401) {\r\n    return HISTORY.push('/welcome');\r\n  }\r\n\r\n  const { response } = error;\r\n  if (response) {\r\n    const { status } = response;\r\n    let message = response.data;\r\n    switch (status) {\r\n      case 401:\r\n        return HISTORY.push('/welcome');\r\n      case 404:\r\n      // The user attempted to submit an invalid video.\r\n        if (message === 'Video not found') {\r\n          message += '.\\nPlease submit a video that exists.';\r\n        }\r\n        // Console.log(response.data);\r\n        break;\r\n      default:\r\n        console.log(response.data);\r\n    }\r\n    console.log(`Error: ${error}`);\r\n  }\r\n}\r\n","import React from 'react';\r\nimport { Router, Route, Switch } from 'react-router-dom';\r\n\r\n// Components.\r\nimport {\r\n  Home, CreateBattle, BattleZone, Community,\r\n  Profile, BattleStage, Help, SetUsername,\r\n  Tournament,\r\n} from '../../pages';\r\n\r\n// API utilities, helper functions, and other assets.\r\nimport { ROUTE_BUILDER } from '../../utils/helpers';\r\n\r\nexport default function AuthRouter({\r\n  history, isNicknameSet, handleLogout,\r\n}) {\r\n  const authRoutes = [\r\n    new ROUTE_BUILDER(true, '/battles/create', CreateBattle),\r\n    new ROUTE_BUILDER(true, '/battles/find', BattleZone),\r\n    new ROUTE_BUILDER(true, '/battles/:id', BattleStage),\r\n    new ROUTE_BUILDER(true, '/people/:id', Community),\r\n    new ROUTE_BUILDER(true, '/profile/:id', Profile),\r\n    new ROUTE_BUILDER(true, '/tournaments/:id', Tournament),\r\n    new ROUTE_BUILDER(false, '/help', Help),\r\n    new ROUTE_BUILDER(false, '/', Home),\r\n  ];\r\n\r\n  return (\r\n    <Router history={history}>\r\n      <Switch>\r\n        {isNicknameSet ? (\r\n          authRoutes.map(({\r\n            path, isExact, component: PageComponent,\r\n          }) => {\r\n            return (\r\n              <Route\r\n                key={path}\r\n                exact={isExact}\r\n                path={path}\r\n                render={props => (\r\n                  <PageComponent\r\n                    key={props.location.pathname}\r\n                    {...props}\r\n                  />\r\n                )}\r\n              />\r\n            );\r\n          })\r\n        ) : (\r\n          <Route\r\n            exact={false}\r\n            path=\"/\"\r\n            render={() => <SetUsername handleLogout={handleLogout} />}\r\n          />\r\n        )}\r\n      </Switch>\r\n    </Router>\r\n  );\r\n}\r\n","import React from 'react';\r\n\r\n// Components.\r\nimport { Button, Modal, ModalBody, ModalFooter } from 'reactstrap';\r\n\r\n// Font Awesome icons.\r\nimport { faTimes } from '@fortawesome/free-solid-svg-icons';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\n\r\nexport default function AlertModal({\r\n  message, isConfirmModal, confirmButtonProps,\r\n  handleConfirmOnClick, handleCloseOnClick\r\n}) {\r\n  return(\r\n    <Modal\r\n      backdrop\r\n      isOpen\r\n      style={{ top: '10vh' }}\r\n      contentClassName=\"bg-darker rounded-0\"\r\n    >\r\n      <div className=\"d-flex justify-content-between p-2 border-bottom-0 rounded-0 bg-darkest modal-header\" >\r\n        <h3 className=\"flex-fill m-0\">\r\n          ALERT\r\n        </h3>\r\n        <Button\r\n          close\r\n          onClick={handleCloseOnClick}\r\n          className=\"p-0 m-1 text-danger close\"\r\n        >\r\n          <FontAwesomeIcon icon={faTimes} />\r\n        </Button>\r\n      </div>\r\n\r\n      <ModalBody\r\n        className=\"d-flex flex-column justify-content-around p-3 bg-darker alert-body\"\r\n      >\r\n        {typeof message === 'string' ? (\r\n          message.split('\\n').map((textLine, index) => (\r\n            <p\r\n              key={textLine + index}\r\n              className={`m-0 ${textLine.includes('WARNING') ? 'text-sm text-danger' : ''}`}\r\n            >\r\n              {textLine}\r\n            </p>\r\n          ))\r\n        ) : JSON.stringify(message)}\r\n      </ModalBody>\r\n\r\n      <ModalFooter className=\"p-0 border-top-0\">\r\n        <Button\r\n          outline\r\n          size=\"md\"\r\n          id=\"close\"\r\n          onClick={handleCloseOnClick}\r\n          className={`m-0 px-5 rounded-0 ${isConfirmModal ? 'btn-outline-secondary' : 'btn-outline-primary'}`}\r\n        >\r\n          {isConfirmModal ? 'Cancel' : 'Close'}\r\n        </Button>\r\n        {isConfirmModal && (\r\n          <Button\r\n            outline\r\n            size=\"md\"\r\n            id=\"confirm\"\r\n            {...confirmButtonProps}\r\n            onClick={(event) => handleConfirmOnClick(event)}\r\n            className=\"btn-outline-primary m-0 px-5 rounded-0\"\r\n          >\r\n            Confirm\r\n          </Button>\r\n        )}\r\n      </ModalFooter>\r\n    </Modal>\r\n  );\r\n}\r\n","import React, { Component, Fragment } from 'react';\r\n\r\n// Bootstrap components.\r\nimport { Button, Modal, ModalBody, ModalFooter } from 'reactstrap';\r\n\r\n// Font Awesome icons.\r\nimport { faTimes } from '@fortawesome/free-solid-svg-icons';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\n\r\nexport default class MainModal extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      isOpen: false,\r\n    };\r\n\r\n    this.toggle = this.toggle.bind(this);\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n    this.handleClose = this.handleClose.bind(this);\r\n  }\r\n\r\n  toggle() {\r\n    this.setState(prevState => ({\r\n      isOpen: !prevState.isOpen\r\n    }), () => {\r\n      const { setIsEditing } = this.props;\r\n      if (setIsEditing) setIsEditing();\r\n    });\r\n  }\r\n\r\n  handleSubmit(event) {\r\n    const { handleSubmit } = this.props;\r\n    if (handleSubmit) handleSubmit(event);\r\n    this.toggle();\r\n  }\r\n\r\n  handleClose() {\r\n    const { handleClose } = this.props;\r\n    if (handleClose) handleClose();\r\n    this.toggle();\r\n  }\r\n\r\n  render() {\r\n    const { isOpen } = this.state;\r\n    const {\r\n      headerText, toggleButtonContent, toggleButtonProps,\r\n      toggleIconProps, isSubmitDisabled, submitForm, bodyClassName,\r\n      submitButtonText, closeButtonText, closeButtonClassName, children\r\n    } = this.props;\r\n\r\n    return (\r\n      <Fragment>\r\n        <Button\r\n          {...toggleButtonProps}\r\n          onClick={this.toggle}\r\n        >\r\n          {toggleButtonContent || (\r\n            <FontAwesomeIcon {...toggleIconProps} />\r\n          )}\r\n        </Button>\r\n        <Modal\r\n          backdrop\r\n          isOpen={isOpen}\r\n          toggle={this.toggle}\r\n          style={{ top: '10vh' }}\r\n          contentClassName=\"bg-darker rounded-0\"\r\n        >\r\n          <div className=\"d-flex justify-content-between p-2 border-bottom-0 rounded-0 bg-darkest modal-header\" >\r\n            <h3 className=\"flex-fill m-0\">\r\n              {headerText}\r\n            </h3>\r\n            <Button\r\n              close\r\n              onClick={this.handleClose}\r\n              className=\"p-0 m-1 text-danger close\"\r\n            >\r\n              <FontAwesomeIcon icon={faTimes} />\r\n            </Button>\r\n          </div>\r\n\r\n          <ModalBody style={{ minHeight: '25vh' }} className={`p-3 bg-darker ${bodyClassName || ''}`}>\r\n            {children}\r\n          </ModalBody>\r\n\r\n          <ModalFooter className=\"flex-nowrap p-0 border-top-0\">\r\n            <Button\r\n              outline\r\n              block\r\n              size=\"lg\"\r\n              onClick={this.handleSubmit}\r\n              disabled={isSubmitDisabled}\r\n              form={submitForm}\r\n              className=\"btn-outline-primary m-0 rounded-0 text-capitalize\"\r\n            >\r\n              {submitButtonText || 'confirm'}\r\n            </Button>\r\n            <Button\r\n              outline\r\n              size=\"lg\"\r\n              id=\"cancel\"\r\n              onClick={this.handleClose}\r\n              className={`btn-outline-secondary m-0 px-5 border-left-0 rounded-0 ${closeButtonClassName}`}\r\n            >\r\n              {closeButtonText || 'close'}\r\n            </Button>\r\n          </ModalFooter>\r\n        </Modal>\r\n      </Fragment>\r\n    );\r\n  }\r\n}\r\n","import React, { useState } from 'react';\r\n\r\n// Font Awesome Icons.\r\nimport { faChevronUp, faChevronDown } from '@fortawesome/free-solid-svg-icons';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\n\r\n// Components.\r\nimport { Navbar, NavbarBrand, NavbarToggler, Collapse } from 'reactstrap';\r\n\r\nexport default function DynamicHeader({\r\n  titleText, subheadingText, isContentCollapsible, navbarProps, children\r\n}) {\r\n  const { width: screenWidth } = window.screen;\r\n  const isScreenXS = screenWidth < 576;\r\n  const [isDynamicHeaderOpen, setIsDynamicHeaderOpen] = useState(!isScreenXS);\r\n\r\n  const toggleNavbar = () => setIsDynamicHeaderOpen(!isDynamicHeaderOpen);\r\n\r\n  return (\r\n    <Navbar\r\n      {...navbarProps}\r\n      className={`d-flex align-items-stretch w-100 z-index-300 py-0 px-2 pr-xl-5 border-bottom border-primary bg-darkest navbar-expand-sm ${isScreenXS && isDynamicHeaderOpen ? 'pb-2' : ''}`}\r\n    >\r\n      <div className=\"d-flex align-items-center\">\r\n        <NavbarBrand\r\n          tag=\"div\"\r\n          className=\"d-flex align-items-center p-0\"\r\n        >\r\n          <p className={`mx-0 my-2 rotated-text ${isScreenXS ? 'text-sm' : 'text-xl'}`}>SFB</p>\r\n          <div className=\"mx-2 text-left\">\r\n            <h1 className={`m-0 text-capitalize ${isScreenXS ? 'text-xl' : ''}`}>\r\n              {titleText}\r\n            </h1>\r\n            {subheadingText && (\r\n              <div className=\"d-flex justify-content-around\">\r\n                {subheadingText.map(text => (\r\n                  <p key={text} className={`m-0 font-italic ${isScreenXS ? 'text-sm' : ''}`}>\r\n                    {text}\r\n                  </p>\r\n                ))}\r\n              </div>\r\n            )}\r\n          </div>\r\n        </NavbarBrand>\r\n\r\n        {isContentCollapsible && (\r\n          <NavbarToggler\r\n            onClick={toggleNavbar}\r\n            className=\"border-0 ml-auto text-primary outline-none\"\r\n          >\r\n            <FontAwesomeIcon fixedWidth icon={isDynamicHeaderOpen ? faChevronUp : faChevronDown} />\r\n          </NavbarToggler>\r\n        )}\r\n      </div>\r\n\r\n      {isContentCollapsible ? (\r\n        <Collapse\r\n          navbar\r\n          isOpen={isDynamicHeaderOpen}\r\n          className=\"flex-fill px-2 px-sm-0\"\r\n        >\r\n          {children}\r\n        </Collapse>\r\n      ) : (children)}\r\n    </Navbar>\r\n  );\r\n}\r\n","import React from 'react';\r\n\r\n// Components.\r\nimport {\r\n  FormFeedback, FormGroup, Label, Input, Col\r\n} from 'reactstrap';\r\n\r\n// Font Awesome icons.\r\nimport { faInfoCircle } from '@fortawesome/free-solid-svg-icons';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\n\r\nimport { CustomTooltip } from '../../';\r\n\r\n// Styles, utils, and other helpers.\r\nimport { BATTLE_HELPER } from '../../../utils/helpers';\r\n\r\nexport default function BattleFormSelectInput({ option }) {\r\n  return (\r\n    <Col sm={6}>\r\n      <FormGroup className=\"form-group-lg text-left mx-3 mx-lg-5\" >\r\n        <Label for={option.id} className=\"d-flex justify-content-between align-items-center mb-0\" >\r\n          {option.text}\r\n          <FontAwesomeIcon\r\n            id={`${option.id}-info`}\r\n            icon={faInfoCircle}\r\n            className=\"text-info\"\r\n          />\r\n        </Label>\r\n        <Input\r\n          required\r\n          type=\"select\"\r\n          name={option.id}\r\n          id={option.id}\r\n          className=\"rounded-0 border-0 bg-darker-50 text-secondary text-capitalize\"\r\n        >\r\n          {!option.isAdvancedOption && (\r\n            <option\r\n              value=\"0\"\r\n              className=\"bg-darker\"\r\n            >-- Choose One --</option>\r\n          )}\r\n\r\n          {/* The option's choices */}\r\n          {option.choices.map((choice) => {\r\n            const formChoiceText = BATTLE_HELPER.getBattleFormChoiceText(choice.definition, option.id);\r\n            return (\r\n              <option\r\n                key={choice.id}\r\n                value={choice.id}\r\n                className=\"text-capitalize bg-darker\"\r\n              >\r\n                {formChoiceText}\r\n              </option>\r\n            );\r\n          })}\r\n        </Input>\r\n        <FormFeedback>This is a required field.</FormFeedback>\r\n        <CustomTooltip\r\n          targetId={`${option.id}-info`}\r\n          placement=\"left\"\r\n        >\r\n          {option.description.split('\\n').map((textLine, index) => (\r\n            <span\r\n              key={textLine + index}\r\n              className=\"d-block text-left\"\r\n            >\r\n              {textLine}\r\n            </span>\r\n          ))}\r\n        </CustomTooltip>\r\n      </FormGroup>\r\n    </Col>\r\n  );\r\n}\r\n","import React from 'react';\r\n\r\n// Components.\r\nimport { Collapse, Form, Button, Row, Col } from 'reactstrap';\r\n\r\n// Font Awesome icons.\r\nimport { faCaretDown, faCaretRight } from '@fortawesome/free-solid-svg-icons';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\n\r\nimport { UserSearch } from '../';\r\nimport { BattleFormSelectInput } from './subcomponents';\r\n\r\n// Styles, utils, and other helpers.\r\nimport { CREATE_BATTLE_FORM_ITEMS } from '../../utils/constants';\r\n\r\nexport default function CreateBattleForm({\r\n  userId, options, isAdvancedOptionsOpen, handleCreateBattle,\r\n  setChallengerUserId,toggleAdvancedOptionsIsOpen,\r\n}) {\r\n  // Add the choices to the battle form items.\r\n  const baseOptions = CREATE_BATTLE_FORM_ITEMS.map(formItem => {\r\n    const { id: fieldName, isAdvancedOption } = formItem;\r\n    const choices = options[fieldName];\r\n\r\n    if (isAdvancedOption) {\r\n      choices.sort(function(a, b) {\r\n        return a.definition - b.definition;\r\n      });\r\n    }\r\n\r\n    return {\r\n      ...formItem,\r\n      choices,\r\n    };\r\n  });\r\n\r\n  const getOptionComponents = (baseOptions) => baseOptions.map((option, index) => (\r\n    <BattleFormSelectInput\r\n      key={index}\r\n      option={option}\r\n    />\r\n  ));\r\n\r\n  const standardBaseOptions = baseOptions.filter(option => !option.isAdvancedOption);\r\n  const advancedBaseOptions = baseOptions.filter(option => option.isAdvancedOption);\r\n\r\n  const standardOptionComponents = getOptionComponents(standardBaseOptions);\r\n  const advancedOptionsComponents = getOptionComponents(advancedBaseOptions);\r\n\r\n  // Add the callout input to the standard options.\r\n  standardOptionComponents.splice(1, 0, (\r\n    <Col key={-1} sm={6}>\r\n      <UserSearch\r\n        userId={userId}\r\n        labelText=\"Call 'Em Out\"\r\n        placeholderText=\"Challenge another rapper\"\r\n        isOptional={true}\r\n        isTooltipShown={true}\r\n        setChallengerUserId={setChallengerUserId}\r\n        requestedRappers={[]}\r\n        inputClassName=\"bg-darker-50\"\r\n      />\r\n    </Col>\r\n  ));\r\n\r\n  return (\r\n    <Form\r\n      id=\"create-battle-form\"\r\n      onSubmit={handleCreateBattle}\r\n      className=\"mx-sm-5 py-3 px-md-4 bg-darkest create-battle-form\"\r\n    >\r\n      <Row form>\r\n        {standardOptionComponents}\r\n      </Row>\r\n\r\n      <Row form className=\"text-left\">\r\n        <Col>\r\n          <Button\r\n            color=\"link\"\r\n            onClick={toggleAdvancedOptionsIsOpen}\r\n            className=\"px-3 text-secondary text-left text-xl text-decoration-none\"\r\n          >\r\n            <FontAwesomeIcon\r\n              fixedWidth\r\n              size=\"lg\"\r\n              icon={isAdvancedOptionsOpen ? faCaretDown : faCaretRight}\r\n            />\r\n            <span>More Options</span>\r\n          </Button>\r\n        </Col>\r\n      </Row>\r\n\r\n      <Collapse isOpen={isAdvancedOptionsOpen}>\r\n        <Row form>\r\n          {advancedOptionsComponents}\r\n        </Row>\r\n      </Collapse>\r\n\r\n      <Button\r\n        outline\r\n        type=\"submit\"\r\n        className=\"btn btn-lg btn-outline-primary d-block ml-auto mr-3 rounded-0\"\r\n      >\r\n        Create It\r\n      </Button>\r\n    </Form>\r\n  );\r\n}\r\n","import React, { useContext } from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\n// Components.\r\nimport { Label, Progress } from 'reactstrap';\r\nimport Rating from 'react-rating';\r\nimport { UserContext } from '../../../utils/context/userContext';\r\n\r\n// Styles, utils, and other helpers.\r\nimport { MAIN_HELPER } from '../../../utils/helpers';\r\n\r\nexport default function InfoSection({\r\n  emptyStarIcon, fullStarIcon, gavelIcon, microphoneIcon,\r\n}) {\r\n  const {\r\n    profile, user_id: userId, nickname: userNickname\r\n  } = useContext(UserContext).user;\r\n\r\n  const {\r\n    popularity,\r\n    battle_count: battleCount,\r\n    win_count: winCount,\r\n    loss_count: lossCount,\r\n    draw_count: drawCount,\r\n    follower_count: followerCount,\r\n    battle_rating: battleRating,\r\n    battle_reputation: battleReputation,\r\n    judge_reputation: judgeReputation,\r\n  } = profile;\r\n\r\n  const winRatio = MAIN_HELPER.getWinRatio(battleCount, winCount, drawCount);\r\n  const popularityProgressColor = MAIN_HELPER.getPopularityColor(popularity);\r\n\r\n  return (\r\n    <div className=\"px-2 pb-md-1\">\r\n      <Link\r\n        to={`/profile/${userId}`}\r\n        className=\"d-block text-secondary text-decoration-none\"\r\n      >\r\n        <h1\r\n          style={{ letterSpacing: '3px' }}\r\n          className={`mb-0 w-100 text-truncate ${(userNickname && userNickname.length <= 13) ? 'text-xxl' : 'text-xl'}`}\r\n        >\r\n          {userNickname}\r\n        </h1>\r\n      </Link>\r\n\r\n      <div className=\"d-flex\">\r\n        <div className=\"d-flex\">\r\n          <div className=\"flex-fill py-1\">\r\n            <Rating\r\n              readonly\r\n              className=\"sidebar-rating\"\r\n              emptySymbol={emptyStarIcon}\r\n              fullSymbol={fullStarIcon}\r\n              placeholderSymbol={fullStarIcon}\r\n              placeholderRating={4.5}\r\n              initialRating={battleReputation}\r\n              direction=\"rtl\"\r\n            />\r\n            {microphoneIcon}\r\n          </div>\r\n          <div className=\"flex-fill py-1\">\r\n            <Rating\r\n              readonly\r\n              className=\"sidebar-rating\"\r\n              emptySymbol={emptyStarIcon}\r\n              fullSymbol={fullStarIcon}\r\n              placeholderSymbol={fullStarIcon}\r\n              placeholderRating={4.5}\r\n              initialRating={judgeReputation}\r\n              direction=\"rtl\"\r\n            />\r\n            {gavelIcon}\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"d-flex flex-column flex-grow-2 flex-fill px-4 px-sm-2 px-md-4\">\r\n          <Label\r\n            style={{ letterSpacing: '10px', lineHeight: '1em' }}\r\n            className=\"d-block text-xxl mb-0\"\r\n          >\r\n            {battleRating}\r\n          </Label>\r\n\r\n          <div className=\"mt-2\">\r\n            <div className=\"d-flex mb-1\">\r\n              <div className=\"flex-fill\">\r\n                <Label\r\n                  style={{ lineHeight: '0.75em' }}\r\n                  className=\"d-block mb-0 font-weight-bold text-md\">\r\n                  W/L\r\n                </Label>\r\n                <Label className=\"d-block mb-0 text-sm\">\r\n                  {`${winCount} / ${lossCount}`}\r\n                </Label>\r\n              </div>\r\n              <div className=\"flex-fill\">\r\n                <Label\r\n                  style={{ lineHeight: '0.75em' }}\r\n                  className=\"d-block mb-0 font-weight-bold text-md\">\r\n                  Ratio\r\n                </Label>\r\n                <Label className=\"d-block mb-0 text-sm\">\r\n                  {winRatio}\r\n                </Label>\r\n              </div>\r\n            </div>\r\n\r\n            <Label\r\n              style={{ lineHeight: '1em' }}\r\n              className=\"d-block text-sm my-1\"\r\n            >\r\n              <span>\r\n                {battleCount}\r\n              </span>\r\n              &nbsp;battles\r\n            </Label>\r\n            <Label\r\n              style={{ lineHeight: '1em' }}\r\n              className=\"d-block text-sm my-1\"\r\n            >\r\n              <span>\r\n                {followerCount}\r\n              </span>\r\n              &nbsp;followers\r\n            </Label>\r\n          </div>\r\n\r\n          <div\r\n            className=\"position-relative my-auto mx-sm-3 mx-md-0\"\r\n          >\r\n            <Progress\r\n              value={popularity}\r\n              className={`rounded-0 bg-darker popularity-progress ${popularityProgressColor}`}\r\n            >\r\n              <Label className=\"m-auto\"></Label>\r\n            </Progress>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import InfoSection from './InfoSection';\r\n\r\nexport {\r\n  InfoSection,\r\n};\r\n\r\nexport default {\r\n  InfoSection,\r\n};\r\n","import React from 'react';\r\n\r\n// Components.\r\nimport { DropdownItem } from 'reactstrap';\r\n\r\n// Font Awesome Icons.\r\nimport {\r\n  faStar,\r\n  faGavel,\r\n  faMicrophone,\r\n  faUserFriends,\r\n  faComments,\r\n} from '@fortawesome/free-solid-svg-icons';\r\nimport { faStar as farStar } from '@fortawesome/free-regular-svg-icons';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\n\r\n// Custom components.\r\nimport { UserConsumer } from '../../utils/context/userContext';\r\nimport { RelationshipTabs, NotificationDropdown } from '../';\r\nimport { InfoSection } from './subcomponents';\r\n\r\n// API utilities, helper functions, and other assets.\r\nimport { NOTIFICATION_LIST_ITEMS } from '../../utils/constants';\r\nimport './style.css';\r\n\r\nconst icons = { faMicrophone, faUserFriends, faComments };\r\n\r\nexport default function CollapseSideMenu({\r\n  handleSetNotificationsAsSeen,\r\n}) {\r\n  return (\r\n    <UserConsumer>\r\n      {({\r\n        notifications,\r\n        methodData: { updateUser },\r\n        user: { user_id: userId }\r\n      }) => (\r\n        <div\r\n          id=\"sidebarMenuCollapse\"\r\n          className=\"d-flex flex-column flex-sm-row flex-md-column py-1 border-bottom border-primary bg-darkest sidebar-collapse\"\r\n        >\r\n          <InfoSection\r\n            fullStarIcon={<FontAwesomeIcon fixedWidth icon={faStar} size=\"xs\" />}\r\n            emptyStarIcon={<FontAwesomeIcon fixedWidth icon={farStar} size=\"xs\" />}\r\n            gavelIcon={\r\n              <FontAwesomeIcon\r\n                fixedWidth\r\n                icon={faGavel}\r\n                size=\"lg\"\r\n                className=\"d-block mx-auto\"\r\n              />\r\n            }\r\n            microphoneIcon={\r\n              <FontAwesomeIcon\r\n                fixedWidth\r\n                icon={faMicrophone}\r\n                size=\"lg\"\r\n                className=\"d-block mx-auto\"\r\n              />\r\n            }\r\n          />\r\n\r\n          <DropdownItem divider className=\"my-0 d-sm-none d-md-block\" />\r\n\r\n          <div id=\"notification-buttons\" className=\"flex-fill border-left border-primary\">\r\n            <div className=\"d-flex justify-content-around py-1 border-bottom border-dark\">\r\n              {NOTIFICATION_LIST_ITEMS.map(({ category, icon }) => {\r\n                const listNotifications = notifications.filter(({\r\n                  Notification: { category: notificationCategory }\r\n                }) => notificationCategory.includes(category));\r\n                return (\r\n                  <NotificationDropdown\r\n                    key={category}\r\n                    type={category}\r\n                    icon={icons[icon]}\r\n                    notifications={listNotifications}\r\n                    userId={userId}\r\n                    updateUser={updateUser}\r\n                    handleSetNotificationsAsSeen={handleSetNotificationsAsSeen}\r\n                  />\r\n                );\r\n              })}\r\n            </div>\r\n\r\n            <RelationshipTabs\r\n              activeTab={1}\r\n              isUserProfileOwner={true}\r\n              profileUserId={userId}\r\n            />\r\n          </div>\r\n        </div>\r\n      )}\r\n    </UserConsumer>\r\n  );\r\n}\r\n","import React from 'react';\r\n\r\n// Bootstrap components.\r\nimport { Button } from 'reactstrap';\r\n\r\n// Font Awesome icons.\r\nimport {\r\n  faTimes, faCheck, faPencilAlt, faTrashAlt\r\n} from '@fortawesome/free-solid-svg-icons';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\n\r\nexport default function EditOverlay({\r\n  value, isEditing, toggleIsEditing, handleUpdateInfo,\r\n}) {\r\n  const overlyButtonItems = [{\r\n    order: 0,\r\n    buttonProps: {\r\n      onClick: toggleIsEditing,\r\n      disabled: false,\r\n    },\r\n    iconProps: {\r\n      icon: isEditing ? faTimes : faPencilAlt,\r\n      className: `no-pointer-events ${isEditing ? 'text-warning' : 'text-info'}`,\r\n    },\r\n  }, {\r\n    order: 1,\r\n    buttonProps: {\r\n      onClick: handleUpdateInfo,\r\n      disabled: value ? false : true,\r\n    },\r\n    iconProps: {\r\n      icon: faCheck,\r\n      className: 'text-success no-pointer-events',\r\n    }\r\n  }, {\r\n    order: 2,\r\n    buttonProps: {\r\n      disabled: value ? false : true,\r\n      'data-is-delete': true,\r\n      onClick: handleUpdateInfo,\r\n    },\r\n    iconProps: {\r\n      icon: faTrashAlt,\r\n      className: 'text-danger no-pointer-events'\r\n    }\r\n  }];\r\n\r\n  return (\r\n    <div\r\n      className={`d-flex justify-content-between my-1 ${isEditing ? 'isEditing' : ''}`}\r\n    >\r\n      {overlyButtonItems.map(({ order, buttonProps, iconProps }) => (\r\n        <Button\r\n          key={order}\r\n          {...buttonProps}\r\n          className={`mx-1 p-0 bg-transparent rounded-0 border-0 edit-button order-${order}`}\r\n        >\r\n          <FontAwesomeIcon {...iconProps} />\r\n        </Button>\r\n      ))}\r\n    </div>\r\n  );\r\n}\r\n","import EditOverlay from './EditOverlay';\r\n\r\nexport {\r\n  EditOverlay\r\n};\r\n\r\nexport default {\r\n  EditOverlay\r\n};\r\n","import React, { Component } from 'react';\r\n\r\n// Bootstrap components.\r\nimport { Container, Input, Label } from 'reactstrap';\r\n\r\n// Font Awesome icons.\r\nimport { faPencilAlt } from '@fortawesome/free-solid-svg-icons';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\n\r\n// Custom components.\r\nimport { PageContext } from '../../utils/context/pageContext';\r\nimport { EditOverlay } from './subcomponents';\r\n\r\n// API utilities, helper functions, and other assets.\r\nimport { CONSTANTS, HELPERS } from '../../utils';\r\n\r\nconst { MESSAGE_INVALID_INPUT_CHARACTERS, CLASS_METHOD_NAMES } = CONSTANTS;\r\nconst { PROFILE_METHOD_NAMES } = CLASS_METHOD_NAMES;\r\nconst { EDIT_GROUP_NAMES } = PROFILE_METHOD_NAMES;\r\nconst { MAIN_HELPER } = HELPERS;\r\n\r\nexport default class EditGroup extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      value: props.value,\r\n      isEditing: false\r\n    };\r\n\r\n    // Bind events\r\n    for (let i = 0; i < EDIT_GROUP_NAMES.length; i++) {\r\n      const methodName = EDIT_GROUP_NAMES[i];\r\n      this[methodName] = this[methodName].bind(this);\r\n    }\r\n  }\r\n\r\n  handleInputKeyUp(event) {\r\n    const { keyCode } = event;\r\n    let actionMethod;\r\n    if (keyCode === 13) {\r\n      actionMethod = this.handleUpdateInfo;\r\n    } else if (keyCode === 27) {\r\n      actionMethod = this.handleCancel;\r\n    }\r\n\r\n    if (actionMethod) actionMethod(event);\r\n  }\r\n\r\n  handleCancel() {\r\n    const hoveredElements = document.querySelectorAll(':hover');\r\n    let isCancelClicked = false;\r\n    for (let i = 0; i < hoveredElements.length; i++) {\r\n      if (hoveredElements[i].classList.contains('edit-button')) {\r\n        isCancelClicked = true;\r\n        break;\r\n      }\r\n    }\r\n\r\n    if (isCancelClicked) return;\r\n\r\n    const { value } = this.props;\r\n    this.setState(() => ({ value, isEditing: false }));\r\n  }\r\n\r\n  toggleIsEditing() {\r\n    const { isUserProfileOwner, value } = this.props;\r\n    if (!isUserProfileOwner) return;\r\n    this.setState((prevState) => ({ value, isEditing: !prevState.isEditing }));\r\n  }\r\n\r\n  handleValueChange({ target }) {\r\n    const { value } = target;\r\n    this.setState(prevState => (value !== prevState.value) ? ({ value }) : null);\r\n  }\r\n\r\n  handleUpdateInfo({ target }) {\r\n    const { value: stateValue } = this.state;\r\n    const { text, handleUpdateInfo } = this.props;\r\n\r\n    // Alert the user if they are submitting invalid characters with their input.\r\n    const isTextValid = MAIN_HELPER.isTextValid(stateValue);\r\n    if (!isTextValid) {\r\n      const { masterData: { handleOpenAlert } } = this.context;\r\n      return handleOpenAlert(MESSAGE_INVALID_INPUT_CHARACTERS, false);\r\n    }\r\n\r\n    const isDelete = target.getAttribute('data-is-delete');\r\n    const value = isDelete ? null : stateValue;\r\n\r\n    this.setState(() => ({ value, isEditing: false }));\r\n    handleUpdateInfo({ [text]: value });\r\n  }\r\n\r\n  render() {\r\n    const { isEditing, value } = this.state;\r\n    const { text, isUserProfileOwner } = this.props;\r\n\r\n    return (\r\n      <Container\r\n        fluid\r\n        className=\"d-flex flex-column position-relative px-md-1 border-0 rounded-0 bg-transparent edit-group\"\r\n      >\r\n        <Label\r\n          for={text}\r\n          onClick={isUserProfileOwner ? this.toggleIsEditing : null}\r\n          style={{ letterSpacing: '0.25em' }}\r\n          className=\"position-relative mb-0 font-weight-bolder text-sm text-uppercase edit-button\"\r\n        >\r\n          <span>{text}</span>\r\n          {isUserProfileOwner && (\r\n            <FontAwesomeIcon\r\n              size=\"sm\"\r\n              icon={faPencilAlt}\r\n              className={`position-absolute mx-2 mx-md-0 text-info edit-group-icon ${isEditing ? 'editing' : ''}`}\r\n            />\r\n          )}\r\n        </Label>\r\n\r\n        {(isUserProfileOwner && isEditing) ? (\r\n          <div style={{ top: 20 }} className=\"position-absolute overlay bg-darkest\">\r\n            <Input\r\n              id={text}\r\n              data-field={text}\r\n              type=\"text\"\r\n              bsSize=\"sm\"\r\n              placeholder={value || 'edit'}\r\n              value={value || ''}\r\n              readOnly={isEditing ? '' : 'readonly'}\r\n              onBlur={this.handleCancel}\r\n              onClick={isEditing ? null : this.toggleIsEditing}\r\n              onChange={this.handleValueChange}\r\n              onKeyUp={this.handleInputKeyUp}\r\n              className=\"h-50 rounded-0 border-0 bg-darker\"\r\n            />\r\n            <EditOverlay\r\n              value={value}\r\n              isEditing={isEditing}\r\n              toggleIsEditing={this.toggleIsEditing}\r\n              handleUpdateInfo={this.handleUpdateInfo}\r\n            />\r\n          </div>\r\n        ) : (\r\n          <Label\r\n            id={text}\r\n            onClick={isUserProfileOwner ? this.toggleIsEditing : null}\r\n            style={{ letterSpacing: '0.15em' }}\r\n            className=\"mb-0 rounded-0 text-sm text-truncate edit-button\"\r\n          >\r\n            {value || 'N/A'}\r\n          </Label>\r\n        )}\r\n      </Container>\r\n    );\r\n  }\r\n}\r\n\r\nEditGroup.contextType = PageContext;\r\n","import React from 'react';\r\n\r\n// Bootstrap components.\r\nimport { Button } from 'reactstrap';\r\n\r\nexport default function MenuCollapseToggle(props) {\r\n  const {onClick, children} = props;\r\n  return (\r\n    <Button\r\n      outline\r\n      aria-expanded=\"false\"\r\n      aria-controls=\"sidebarMenuCollapse\"\r\n      onClick={onClick}\r\n      className=\"flex-fill d-flex justify-content-around align-items-center btn btn-outline-primary py-0 px-2 py-sm-2 rounded-0\"\r\n    >\r\n      {/* The icon */}\r\n      {children}\r\n    </Button>\r\n  );\r\n}\r\n","import React from 'react';\r\n\r\n// Bootstrap Components.\r\nimport { NavLink } from 'reactstrap';\r\n\r\nexport default function SiteNavLink(props) {\r\n  const { text, userId, handleClick, children } = props;\r\n  // TODO: Put these in a constants file.\r\n  const staticRoutes = ['help', 'logout', 'battle'];\r\n  const route = `${text === 'battle' ? 'battles/find' : text}/${staticRoutes.includes(text) ? '' : userId}`;\r\n  return (\r\n    <NavLink\r\n      onClick={() => handleClick(route)}\r\n      className=\"d-flex flex-column flex-md-row justify-content-between flex-fill btn btn-outline-secondary btn-block p-2  pb-sm-0 px-sm-0 p-md-0 rounded-0 border-top-0 nav-list-item\"\r\n    >\r\n      {/* The vertical text label for the sidebar nav item. */}\r\n      <span className=\"d-none d-sm-inline-block order-1 order-md-0 text-xs nav-item-text\" >\r\n        {text}\r\n      </span>\r\n      {/* The icon component. */}\r\n      {children}\r\n    </NavLink>\r\n  );\r\n}\r\n","import MenuCollapseToggle from './MenuCollapseToggle';\r\nimport NavCollapse from './NavCollapse';\r\nimport SiteNavLink from './SiteNavLink';\r\n\r\nexport {MenuCollapseToggle};\r\nexport {NavCollapse};\r\nexport {SiteNavLink};\r\n\r\nexport default {\r\n  MenuCollapseToggle,\r\n  NavCollapse,\r\n  SiteNavLink\r\n};\r\n","import React from 'react';\r\n\r\n// Components.\r\nimport { Badge, Nav, NavItem } from 'reactstrap';\r\nimport {\r\n  faBars, faBell, faHome, faUser, faInfo,\r\n  faMicrophone, faUserFriends, faSignOutAlt\r\n} from '@fortawesome/free-solid-svg-icons';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { MenuCollapseToggle, SiteNavLink } from './subcomponents';\r\nimport { UserConsumer } from '../../utils/context/userContext';\r\n\r\n// Styles, utils, and other helpers.\r\nimport { NAVIGATION_ITEMS } from '../../utils/constants';\r\nimport './style.css';\r\n\r\nconst fontawesomeIcons = {\r\n  faHome,\r\n  faMicrophone,\r\n  faUserFriends,\r\n  faUser,\r\n  faInfo,\r\n  faSignOutAlt\r\n};\r\n\r\nexport default function MainSidebar({\r\n  goTo, toggleMenu, handleLogout\r\n}) {\r\n  return (\r\n    <UserConsumer>\r\n      {({\r\n        notifications,\r\n        user: { user_id: userId }\r\n      }) => {\r\n        const unseenNotificationsCount = notifications.filter(notification => !notification.is_seen).length;\r\n        const isNotificationsUnseen = unseenNotificationsCount > 0;\r\n        const iconColorClassName = isNotificationsUnseen ? 'text-primary' : 'text-dark';\r\n\r\n        return (\r\n          <Nav className=\"d-flex flex-md-column flex-nowrap bg-darkest sidebar\">\r\n            <NavItem className=\"d-flex flex-column\">\r\n              <MenuCollapseToggle onClick={toggleMenu}>\r\n                <FontAwesomeIcon\r\n                  icon={faBars}\r\n                  className=\"mx-1 text-dark nav-item-collapse-icon\"\r\n                />\r\n                <div className=\"flex-fill d-flex flex-column align-items-center\">\r\n                  <FontAwesomeIcon\r\n                    fixedWidth\r\n                    icon={faBell}\r\n                    className={iconColorClassName}\r\n                  />\r\n                  <Badge\r\n                    className={`px-0 pb-0 bg-transparent rounded-0 ${iconColorClassName}`}\r\n                  >\r\n                    {isNotificationsUnseen && unseenNotificationsCount}\r\n                  </Badge>\r\n                </div>\r\n              </MenuCollapseToggle>\r\n            </NavItem>\r\n\r\n            {NAVIGATION_ITEMS.map(({ icon, text }, index) => (\r\n              <NavItem key={index} className=\"d-flex flex-column flex-fill\">\r\n                <SiteNavLink\r\n                  text={text}\r\n                  userId={userId}\r\n                  handleClick={text === 'logout' ? handleLogout : goTo}\r\n                >\r\n                  <FontAwesomeIcon\r\n                    fixedWidth\r\n                    icon={fontawesomeIcons[icon]}\r\n                    className=\"align-self-center ml-md-2 mr-md-3 nav-item-icon\"\r\n                  />\r\n                </SiteNavLink>\r\n              </NavItem>\r\n            ))}\r\n          </Nav>\r\n        );\r\n      }}\r\n    </UserConsumer>\r\n  );\r\n}\r\n","/* eslint-disable complexity */\r\nimport React from 'react';\r\n\r\n// Components.\r\nimport { Container, Row, Col, Card, CardHeader, CardBody } from 'reactstrap';\r\nimport Countdown from 'react-countdown-now';\r\n\r\n// Font Awesome Icons.\r\nimport {\r\n  faPlus, faMinus\r\n} from '@fortawesome/free-solid-svg-icons';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\n\r\nimport { UsernamePopover } from '../../';\r\n\r\nexport default function BattleReview(props) {\r\n  const {\r\n    userId, battleStatus, battleCloseDate, contestants,\r\n    resultCards, updateBattle,\r\n  } = props;\r\n\r\n  let contestantOneTotal = 0;\r\n  let contestantTwoTotal = 0;\r\n  let contestantOneAudienceInfluence = 0;\r\n  let contestantTwoAudienceInfluence = 0;\r\n\r\n  if (resultCards) {\r\n    const { contestant1, contestant2 } = resultCards;\r\n    const {\r\n      finalScore: contestant1FinalScore,\r\n      judgeTotal: contestant1JudgeTotal, judgeScores: contestant1JudgeScores,\r\n    } = contestant1;\r\n    const {\r\n      finalScore: contestant2FinalScore,\r\n      judgeTotal: contestant2JudgeTotal, judgeScores: contestant2JudgeScores,\r\n    } = contestant2;\r\n\r\n    contestantOneTotal = parseFloat(contestant1FinalScore);\r\n    contestantTwoTotal = parseFloat(contestant2FinalScore);\r\n\r\n    const contestantOneJudgeAverage = parseFloat(contestant1JudgeTotal / contestant1JudgeScores.length);\r\n    const contestantTwoJudgeAverage = parseFloat(contestant2JudgeTotal / contestant2JudgeScores.length);\r\n\r\n    contestantOneAudienceInfluence = Number(Math.round(contestantOneTotal - contestantOneJudgeAverage + 'e2') + 'e-2').toFixed(3);\r\n    contestantTwoAudienceInfluence = Number(Math.round(contestantTwoTotal - contestantTwoJudgeAverage + 'e2') + 'e-2').toFixed(3);\r\n  }\r\n\r\n  const contestantCardComponents = contestants.map((contestant, index) => {\r\n    const contestantNumber = contestant.participant_number;\r\n    const contestantTotal = (contestantNumber === 1) ? contestantOneTotal : contestantTwoTotal;\r\n    const otherTotal = (contestantNumber === 1) ? contestantTwoTotal : contestantOneTotal;\r\n    const isContestantWinner = contestantTotal > otherTotal;\r\n    const isDraw = contestantTotal === otherTotal;\r\n\r\n    const contestantAudienceInfluence = contestantNumber === 1 ? contestantOneAudienceInfluence : contestantTwoAudienceInfluence;\r\n\r\n    const isAudienceInfluenceNegative = contestantAudienceInfluence < 0;\r\n\r\n    return (\r\n      <Col\r\n        key={contestant.user_id}\r\n        xs=\"12\"\r\n        sm=\"6\"\r\n        md=\"5\"\r\n        className={`p-sm-0 ${\r\n          index === 0 ? 'order-2 order-md-1 inner' : 'order-3 inner-other'\r\n        }`}\r\n      >\r\n        <Card\r\n          className={`mb-5 mb-sm-0 bg-darkest-75 rounded-0 border-left-0 border-top-0 border-right-0 review-card contestant-win-status ${contestantNumber === 1 ? 'left' : 'right'} ${!isDraw && !isContestantWinner ? 'border-danger' : ''} ${isContestantWinner ? 'border-success' : ''}`}\r\n        >\r\n          <CardHeader tag=\"h3\" className={`py-1 text-truncate bg-darkest border-bottom ${isDraw ? 'text-info' : ''} ${!isDraw && isContestantWinner ? 'border-success' : ''} ${!isDraw && !isContestantWinner ? 'border-danger' : ''}`}>\r\n            <UsernamePopover\r\n              id={`contestant-seat-overview-${contestant.participant_number}`}\r\n              userId={userId}\r\n              labelText={contestant.User.nickname}\r\n              profile={contestant.User.Profile}\r\n              userProfileUrl={`/profile/${contestant.user_id}`}\r\n            />\r\n          </CardHeader>\r\n          <CardBody className=\"d-flex flex-column justify-content-between p-0\">\r\n            <p className=\"my-auto font-weight-bold contestant-score\">\r\n              {contestantNumber === 1\r\n                ? Number(Math.round(contestantOneTotal + 'e2') + 'e-2').toFixed(1)\r\n                : Number(Math.round(contestantTwoTotal + 'e2') + 'e-2').toFixed(1)\r\n              }\r\n            </p>\r\n\r\n            <div className=\"d-flex justify-content-center align-items-center px-5 mb-5\">\r\n              <p className=\"d-flex flex-column m-0 text-sm\">\r\n                <span>Audience</span>\r\n                <span>Influence</span>\r\n              </p>\r\n\r\n              <div className={`d-flex align-items-center mx-3 ${isAudienceInfluenceNegative ? 'text-warning' : 'text-info'}`}>\r\n                <FontAwesomeIcon fixedWidth icon={isAudienceInfluenceNegative ? faMinus : faPlus} />\r\n                <span className=\"flex-fill text-xxl\">\r\n                  {Math.abs(contestantAudienceInfluence) || 0}\r\n                </span>\r\n              </div>\r\n            </div>\r\n          </CardBody>\r\n        </Card>\r\n      </Col>\r\n    );\r\n  });\r\n\r\n  const renderCountdown = ({ days, hours, minutes, seconds, completed }) => {\r\n    if (battleStatus === 'closed') {\r\n      return (\r\n        <p className=\"flex-fill\">\r\n          {'Battle Closed'}\r\n        </p>\r\n      );\r\n    } else if (completed) {\r\n      return <p className=\"flex-fill\">{'Round Over'}</p>;\r\n    }\r\n\r\n    if (days >= 1) {\r\n      return (\r\n        <p>\r\n          <React.Fragment>\r\n            <span className=\"text-xxl\">\r\n              {days}\r\n              <span className=\"text-sm\">\r\n                d\r\n              </span>\r\n              &nbsp;\r\n            </span>\r\n            {hours > 0 && (\r\n              <span className=\"text-xl\">\r\n                {hours}\r\n                <span className=\"text-sm\">\r\n                  hr\r\n                </span>\r\n              </span>\r\n            )}\r\n          </React.Fragment>\r\n        </p>\r\n      );\r\n    }\r\n\r\n    return (\r\n      <p>\r\n        <React.Fragment>\r\n          {hours > 0 && (\r\n            <span className=\"text-xxl\">\r\n              {hours}\r\n              <span className=\"text-sm\">\r\n                hr\r\n              </span>\r\n              &nbsp;\r\n            </span>\r\n          )}\r\n          <span className={`${hours > 0 ? 'text-xl' : 'text-xxl'}`}>\r\n            {minutes}\r\n            <span className=\"text-sm\">\r\n              min\r\n            </span>\r\n            &nbsp;\r\n          </span>\r\n          {hours > 0 || (\r\n            <span className=\"text-xl\">\r\n              {seconds}\r\n              <span className=\"text-sm\">\r\n                sec\r\n              </span>\r\n            </span>\r\n          )}\r\n        </React.Fragment>\r\n      </p>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <Container fluid className=\"p-3 p-md-4 round-wrapper\">\r\n      <Row>\r\n        {contestantCardComponents}\r\n        <Col\r\n          xs=\"12\"\r\n          md=\"2\"\r\n          className=\"d-flex flex-column flex-sm-row flex-md-column order-1 order-md-2 p-0\"\r\n        >\r\n          <div className=\"flex-fill\">\r\n            <h3 className=\"mb-0 text-capitalize\">overview</h3>\r\n            <p className=\"text-capitalize mb-0\">\r\n              {battleStatus === 'closed' ? 'Battle Closed' : battleStatus}\r\n            </p>\r\n            {battleStatus === 'scoring' && (\r\n              <Countdown\r\n                key={battleStatus}\r\n                date={battleCloseDate}\r\n                renderer={renderCountdown}\r\n                onComplete={updateBattle}\r\n              />\r\n            )}\r\n          </div>\r\n          <div className=\"d-none d-md-block flex-fill\">\r\n            <p className=\"m-0 font-weight-bold\">COMING SOON</p>\r\n            <ul className=\"list-group list-group-flush flex-row flex-md-column font-italic\">\r\n              <li className=\"list-group-item flex-fill p-0 rounded-0 bg-transparent\">\r\n                Live Scores\r\n              </li>\r\n              <li className=\"list-group-item flex-fill p-0 rounded-0 bg-transparent\">\r\n                Judge Scores\r\n              </li>\r\n              <li className=\"list-group-item flex-fill p-0 rounded-0 bg-transparent\">\r\n                Round Scores\r\n              </li>\r\n            </ul>\r\n          </div>\r\n        </Col>\r\n      </Row>\r\n    </Container>\r\n  );\r\n}\r\n","import BattleReview from './BattleReview';\r\n\r\nexport { BattleReview };\r\n\r\nexport default { BattleReview };\r\n","import React, { Component } from 'react';\r\n\r\n// Components.\r\nimport { Carousel, CarouselItem, CarouselIndicators } from 'reactstrap';\r\nimport { Round } from '../';\r\nimport { BattleReview } from '../Round/subcomponents';\r\n\r\n// Styles, utils, and other helpers.\r\nimport './style.css';\r\n\r\nexport default class RoundCarousel extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = { activeIndex: 0 };\r\n    // Bind class methods.\r\n    this.goToIndex = this.goToIndex.bind(this);\r\n  }\r\n\r\n  goToIndex(newIndex) {\r\n    this.setState({ activeIndex: newIndex });\r\n  }\r\n\r\n  componentDidMount() {\r\n    const { battle } = this.props;\r\n    const battleStatus = battle.Status.definition;\r\n    const roundCount = battle.Rounds.length;\r\n    const activeIndex = (battleStatus === 'closed') ? roundCount : roundCount - 1;\r\n    this.setState({ activeIndex });\r\n  }\r\n\r\n  render() {\r\n    const { activeIndex } = this.state;\r\n    const {\r\n      userId, battle, participants, isUserContestant,\r\n      isUserJudge, reactionTypes, standardScorecardFields,\r\n      resultCards, updateBattle, handleJoinLeaveBattle,\r\n      handleReadyOnClick, userNickname,\r\n    } = this.props;\r\n\r\n    const {\r\n      Status: status, closes_at: battleCloseDate, BattleChallenge: battleChallenge,\r\n    } = battle;\r\n    const { definition: battleStatus } = status;\r\n    const scoringType = battle.ScoringType.definition;\r\n    const rounds = battle.Rounds;\r\n\r\n    let isPendingInvite = false;\r\n\r\n    if(battleChallenge) {\r\n      const { BattleChallengeStatus: battleChallengeStatus } = battleChallenge;\r\n      const { definition: challengeStatus } = battleChallengeStatus;\r\n      isPendingInvite = challengeStatus === 'pending';\r\n    }\r\n\r\n    let currentRoundNumber = 0;\r\n    for (let i = 0; i < rounds.length; i++) {\r\n      const round = rounds[i];\r\n      const { number: roundNumber } = round;\r\n      currentRoundNumber = (roundNumber > currentRoundNumber) ? roundNumber : currentRoundNumber;\r\n    }\r\n\r\n    const roundComponents = rounds.map((round) => (\r\n      <CarouselItem\r\n        key={round.id}\r\n        onExiting={() => null}\r\n        onExited={() => null}\r\n      >\r\n        <Round\r\n          userId={userId}\r\n          userNickname={userNickname}\r\n          round={round}\r\n          isPendingInvite={isPendingInvite}\r\n          battleChallenge={battleChallenge}\r\n          currentRoundNumber={currentRoundNumber}\r\n          battleStatus={battleStatus}\r\n          scoringType={scoringType}\r\n          contestants={participants.contestants}\r\n          isUserContestant={isUserContestant}\r\n          isUserJudge={isUserJudge}\r\n          reactionTypes={reactionTypes}\r\n          standardScorecardFields={standardScorecardFields}\r\n          handleJoinLeaveBattle={handleJoinLeaveBattle}\r\n          updateBattle={updateBattle}\r\n          handleReadyOnClick={handleReadyOnClick}\r\n        />\r\n      </CarouselItem>\r\n    ));\r\n\r\n    if (battleStatus === 'closed' || battleStatus === 'scoring') {\r\n      roundComponents.push(\r\n        <CarouselItem\r\n          key={battle.Status.id}\r\n          onExiting={() => null}\r\n          onExited={() => null}\r\n        >\r\n          <BattleReview\r\n            userId={userId}\r\n            battleStatus={battleStatus}\r\n            battleCloseDate={battleCloseDate}\r\n            contestants={participants.contestants}\r\n            resultCards={resultCards}\r\n            updateBattle={updateBattle}\r\n          />\r\n        </CarouselItem>\r\n      );\r\n    }\r\n\r\n    return (\r\n      <Carousel\r\n        interval={false}\r\n        keyboard={false}\r\n        pause={false}\r\n        activeIndex={activeIndex}\r\n        next={() => null}\r\n        previous={() => null}\r\n      >\r\n        <CarouselIndicators\r\n          items={roundComponents}\r\n          activeIndex={activeIndex}\r\n          onClickHandler={this.goToIndex}\r\n          className=\"mb-md-5 pt-1 pt-sm-4 rounded-pill\"\r\n        />\r\n        {roundComponents}\r\n      </Carousel>\r\n    );\r\n  }\r\n}\r\n","import React from 'react';\r\nimport moment from 'moment';\r\n\r\nimport Countdown from 'react-countdown-now';\r\n\r\n// Bootstrap components.\r\nimport { Container, Row, Col } from 'reactstrap';\r\n\r\n// Custom components.\r\nimport { VerseCard } from '../';\r\n\r\nexport default function Round(props) {\r\n  const {\r\n    userId, round, currentRoundNumber, battleStatus, scoringType,\r\n    contestants, isUserContestant, isUserJudge, userNickname,\r\n    reactionTypes, standardScorecardFields, updateBattle,\r\n    handleJoinLeaveBattle, handleReadyOnClick, isPendingInvite,\r\n    battleChallenge\r\n  } = props;\r\n\r\n  const timeLeft = moment(round.ends_at).utc().diff(moment().utc());\r\n\r\n  const isStagingPhase = (battleStatus === 'staging');\r\n  const isBattleClosed = (battleStatus === 'closed');\r\n  const isRoundEnded = (timeLeft <= 0);\r\n\r\n  const verseCardComponents = contestants.map((contestant, index) => (\r\n    <Col\r\n      key={contestant.id ? contestant.user_id + contestant.verses.length : index}\r\n      xs=\"12\" sm=\"6\" md=\"5\"\r\n      className={`p-sm-0 ${(index === 0 ? 'order-2 order-md-1 inner' : 'order-3 inner-other')}`}\r\n    >\r\n      <VerseCard\r\n        userId={userId}\r\n        userNickname={userNickname}\r\n        roundId={round.id}\r\n        isPendingInvite={isPendingInvite}\r\n        battleChallenge={battleChallenge}\r\n        currentRoundNumber={currentRoundNumber}\r\n        roundNumber={round.number}\r\n        battleId={round.battle_id}\r\n        battleStatus={battleStatus}\r\n        contestant={contestant}\r\n        seatNumber={index + 1}\r\n        scoringType={scoringType}\r\n        isUserContestant={isUserContestant}\r\n        isUserJudge={isUserJudge}\r\n        isStagingPhase={isStagingPhase}\r\n        isRoundEnded={isRoundEnded}\r\n        isBattleClosed={isBattleClosed}\r\n        reactionTypes={reactionTypes}\r\n        standardScorecardFields={standardScorecardFields}\r\n        handleJoinLeaveBattle={handleJoinLeaveBattle}\r\n        handleReadyOnClick={handleReadyOnClick}\r\n      />\r\n    </Col>\r\n  ));\r\n\r\n  const renderCountdown = ({ days, hours, minutes, seconds, completed }) => {\r\n    if (battleStatus === 'closed') {\r\n      return (\r\n        <p className=\"flex-fill\">\r\n          {'Battle Closed'}\r\n        </p>\r\n      );\r\n    } else if (completed) {\r\n      return <p className=\"flex-fill\">{'Round Over'}</p>;\r\n    }\r\n\r\n    if (days >= 1) {\r\n      return (\r\n        <p>\r\n          <React.Fragment>\r\n            <span className=\"text-xxl\">\r\n              {days}\r\n              <span className=\"text-sm\">\r\n                d\r\n              </span>\r\n              &nbsp;\r\n            </span>\r\n            {hours > 0 && (\r\n              <span className=\"text-xl\">\r\n                {hours}\r\n                <span className=\"text-sm\">\r\n                  hr\r\n                </span>\r\n              </span>\r\n            )}\r\n          </React.Fragment>\r\n        </p>\r\n      );\r\n    }\r\n\r\n    return (\r\n      <p>\r\n        <React.Fragment>\r\n          {hours > 0 && (\r\n            <span className=\"text-xxl\">\r\n              {hours}\r\n              <span className=\"text-sm\">\r\n                hr\r\n              </span>\r\n              &nbsp;\r\n            </span>\r\n          )}\r\n          <span className={`${hours > 0 ? 'text-xl' : 'text-xxl'}`}>\r\n            {minutes}\r\n            <span className=\"text-sm\">\r\n              min\r\n            </span>\r\n            &nbsp;\r\n          </span>\r\n          {hours > 0 || (\r\n            <span className=\"text-xl\">\r\n              {seconds}\r\n              <span className=\"text-sm\">\r\n                sec\r\n              </span>\r\n            </span>\r\n          )}\r\n        </React.Fragment>\r\n      </p>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <Container fluid className=\"p-3 p-md-4 round-wrapper\" >\r\n      <Row>\r\n        {verseCardComponents}\r\n        <Col\r\n          xs=\"12\" md=\"2\"\r\n          className=\"d-flex flex-column order-1 mb-3 order-md-2 p-0\"\r\n        >\r\n          <h3 className=\"mb-0 text-capitalize\" >\r\n            {(battleStatus === 'staging') ? battleStatus : `round ${round.number}`}\r\n          </h3>\r\n          <Countdown\r\n            key={round.id}\r\n            date={round.ends_at}\r\n            renderer={renderCountdown}\r\n            onComplete={updateBattle}\r\n          />\r\n          <div className=\"d-none d-md-block flex-fill\">\r\n            <p className=\"m-0 font-weight-bold\">COMING SOON</p>\r\n            <ul className=\"list-group list-group-flush flex-row flex-md-column font-italic\">\r\n              <li className=\"list-group-item flex-fill p-0 rounded-0 bg-transparent\">\r\n                Live Scores\r\n              </li>\r\n              <li className=\"list-group-item flex-fill p-0 rounded-0 bg-transparent\">\r\n                Judge Scores\r\n              </li>\r\n              <li className=\"list-group-item flex-fill p-0 rounded-0 bg-transparent\">\r\n                Round Scores\r\n              </li>\r\n            </ul>\r\n          </div>\r\n        </Col>\r\n      </Row>\r\n    </Container>\r\n  );\r\n}\r\n","import React from 'react';\r\n\r\n// Components.\r\nimport {\r\n  Container, InputGroup, InputGroupAddon, Input, Button\r\n} from 'reactstrap';\r\nimport { VerseInfoItem } from './';\r\n\r\n// YouTube video player.\r\nimport YouTube from 'react-youtube';\r\n\r\n// Utilities, helper functions, and other assets.\r\nimport youtubeImage from '../yt_logo_rgb_dark.png';\r\nimport { YOUTUBE_THUMBNAIL_URL } from '../../../utils/constants';\r\n\r\nexport default function Content(props) {\r\n  // React-Youtube configuration.\r\n  // Options for YouTube video player. https://developers.google.com/youtube/player_parameters.\r\n  const youtubeOptions = {\r\n    playerVars: {\r\n      iv_load_policy: 3,\r\n      enablejsapi: 1,\r\n      modestbranding: 1,\r\n      rel: 0,\r\n      autoplay: 1,\r\n      origin: 'www.spitfacebattles.com'\r\n    }\r\n  };\r\n\r\n  const handleVerseInputKeyUp = (event) => {\r\n    const { keyCode, target } = event;\r\n    // Enter key.\r\n    if (keyCode === 13) return handleVerseSubmit();\r\n    // Escape key.\r\n    if (keyCode === 27) return (target.value = '');\r\n  };\r\n\r\n  const handleVerseSubmit = () => {\r\n    // Get the text from the submit verse input and attempt to submit the verse.\r\n    const verseUrl = document.getElementById('video-id').value.trim();\r\n    props.handleVerseSubmit(verseUrl);\r\n  };\r\n\r\n  // De-structure props for use in returned components.\r\n  const {\r\n    videoId, isUserThisContestant, isStagingPhase, isRoundEnded,\r\n    isContestantReady, dapsCount, seatNumber, dissesCount, scorecardsCount,\r\n    handleReadyOnClick\r\n  } = props;\r\n\r\n  let contentMessage = isUserThisContestant ?\r\n    'Use the controls below to submit a verse for this round.'\r\n    :\r\n    'Waiting for a verse to be submitted for this round.';\r\n  if(isUserThisContestant && isStagingPhase) contentMessage = 'You must wait until the battle starts to submit a verse.';\r\n  if(!isUserThisContestant && isStagingPhase) contentMessage = `This contestant is ${isContestantReady ? '' : 'not'} ready to start the battle.`;\r\n  if (isRoundEnded) contentMessage = 'There was no verse submitted for this round.';\r\n\r\n  const { isPlayerShown, handleShowPlayer } = props;\r\n\r\n  const verseComponent = isPlayerShown ? (\r\n    <YouTube\r\n      videoId={videoId}\r\n      opts={youtubeOptions}\r\n      className=\"w-100 h-100\"\r\n      containerClassName=\"h-100\"\r\n    />\r\n  ) : (\r\n    <div className=\"h-100\">\r\n      <Button\r\n        onClick={handleShowPlayer}\r\n        className=\"p-0 w-100 h-100 border-0\"\r\n      >\r\n        <img\r\n          src={YOUTUBE_THUMBNAIL_URL.replace('[videoId]', videoId)}\r\n          alt=\"user\"\r\n          className=\"w-100 h-100\"\r\n        />\r\n      </Button>\r\n    </div>\r\n  );\r\n\r\n  return (\r\n    <Container fluid className=\"d-flex flex-column h-100 p-0 verse-card-content\" >\r\n      {videoId ? (\r\n        verseComponent\r\n      ) : (\r\n        <div className=\"flex-fill px-3\">\r\n          <p className={isStagingPhase || !isUserThisContestant ? 'my-3 text-xl' : 'text-lg'}>\r\n            {contentMessage}\r\n          </p>\r\n\r\n          {isStagingPhase && isUserThisContestant && (\r\n            <div className=\"\">\r\n              <Button\r\n                outline\r\n                onClick={handleReadyOnClick}\r\n                className=\"btn-outline-primary rounded-0\"\r\n              >\r\n                {isContestantReady ? 'Unready' : 'Ready Up!'}\r\n              </Button>\r\n            </div>\r\n          )}\r\n\r\n          {(!isStagingPhase && !isRoundEnded && isUserThisContestant) && (\r\n            <React.Fragment>\r\n              <InputGroup>\r\n                <Input\r\n                  id=\"video-id\"\r\n                  onKeyUp={handleVerseInputKeyUp}\r\n                  placeholder=\"Youtube video ID or URL\"\r\n                  className=\"form-control rounded-0 border-0\"\r\n                />\r\n                <InputGroupAddon addonType=\"append\" >\r\n                  <Button\r\n                    outline\r\n                    className=\"btn-outline-primary rounded-0\"\r\n                    onClick={handleVerseSubmit}\r\n                  >\r\n                    Spit It!\r\n                  </Button>\r\n                </InputGroupAddon>\r\n              </InputGroup>\r\n              <small className=\"d-flex justify-content-center align-items-baseline my-2 text-muted font-italic\">\r\n                <img\r\n                  src={youtubeImage}\r\n                  alt=\"Youtube branding\"\r\n                  className=\"w-25 h-25\"\r\n                />\r\n                &nbsp;video required\r\n              </small>\r\n            </React.Fragment>\r\n          )}\r\n        </div>\r\n      )}\r\n\r\n      <div className=\"d-flex justify-content-around border-bottom border-darkest\">\r\n        <VerseInfoItem type=\"daps\" iconName=\"faThumbsUp\" value={dapsCount} seatNumber={seatNumber} />\r\n        <VerseInfoItem type=\"disses\" iconName=\"faThumbsDown\" value={dissesCount} seatNumber={seatNumber} />\r\n        <VerseInfoItem type=\"scorecards\" iconName=\"faStar\" value={scorecardsCount} seatNumber={seatNumber} />\r\n        {/* <VerseInfoItem type=\"views\" iconName=\"faEye\" value={viewsCount} seatNumber={seatNumber} /> */}\r\n      </div>\r\n    </Container>\r\n  );\r\n}\r\n","import React from 'react';\r\n\r\n// Bootstrap components.\r\nimport { Container, Button } from 'reactstrap';\r\n\r\n// Font Awesome icons.\r\nimport {\r\n  faThumbsUp as farThumbsUp,\r\n  faThumbsDown as farThumbsDown,\r\n  faStar as farStar\r\n} from '@fortawesome/free-regular-svg-icons';\r\nimport {\r\n  faThumbsUp, faThumbsDown, faStar, faEllipsisV\r\n} from '@fortawesome/free-solid-svg-icons';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\n\r\n// Custom components.\r\nimport { ScoreCardModal } from '../../';\r\nimport { VerseDropDownMenu } from './';\r\n\r\nexport default function Sidebar(props) {\r\n  // TODO: This component still needs to be refactored to reduce complexity.\r\n  const {\r\n    contestantUserId, isVerseSubmitted, seatNumber, scoringType, isUserDapped,\r\n    isUserDissed, isUserScored, userScoreCard, isUserThisContestant, isUserContestant,\r\n    standardScorecardFields, handleVerseReaction, handleScoreCardSubmit, handleScorecardRemove,\r\n    handleJoinBattleClick, handleLeaveBattleClick, handleRemoveVerse, isBattleClosed\r\n  } = props;\r\n\r\n  // Everyone except the verse owner sees the dap button.\r\n  // Everyone but the contestants sees the dis and score buttons.\r\n  const isDapButtonRendered = (isVerseSubmitted && !isUserThisContestant);\r\n  const isOtherButtonRendered = (isVerseSubmitted && !isUserContestant);\r\n\r\n  /**\r\n   * The flexFill variable is added to the verse card sidebar menu button.\r\n   * If a verse is NOT available or the user is this contestant.\r\n   * - The verse card sidebar menu button stretches to fill available vertical space.\r\n   */\r\n  const verseDropDownMenuClass = (!isOtherButtonRendered && !isDapButtonRendered) ? 'flex-fill' : '';\r\n\r\n  return (\r\n    <Container\r\n      fluid\r\n      id=\"verse-sidebar\"\r\n      className=\"d-flex flex-column h-100 p-0\"\r\n    >\r\n      {isOtherButtonRendered && (\r\n        <Button\r\n          outline\r\n          block\r\n          data-is-reacted={isUserDissed}\r\n          data-is-other-reacted={isUserDapped}\r\n          data-type-definition=\"dis\"\r\n          className={'btn-outline-primary m-0 border-top-0 rounded-0 flex-fill reaction-button'}\r\n          onClick={handleVerseReaction}\r\n        >\r\n          <FontAwesomeIcon\r\n            size=\"lg\"\r\n            icon={isUserDissed ? faThumbsDown : farThumbsDown}\r\n            className=\"align-self-center mx-auto\"\r\n          />\r\n        </Button>\r\n      )}\r\n\r\n      {isDapButtonRendered && (\r\n        <Button\r\n          outline\r\n          block\r\n          data-is-reacted={isUserDapped}\r\n          data-is-other-reacted={isUserDissed}\r\n          data-type-definition=\"dap\"\r\n          className={'btn-outline-primary m-0 border-top-0 rounded-0 flex-fill reaction-button'}\r\n          onClick={handleVerseReaction}\r\n        >\r\n          <FontAwesomeIcon\r\n            size=\"lg\"\r\n            icon={isUserDapped ? faThumbsUp : farThumbsUp}\r\n            className=\"align-self-center mx-auto\"\r\n          />\r\n        </Button>\r\n      )}\r\n\r\n      {isOtherButtonRendered && (\r\n        <ScoreCardModal\r\n          key={isUserScored}\r\n          isScored={isUserScored}\r\n          userScoreCard={userScoreCard}\r\n          scoringType={scoringType}\r\n          isBattleClosed={isBattleClosed}\r\n          standardScorecardFields={standardScorecardFields}\r\n          handleScoreCardSubmit={handleScoreCardSubmit}\r\n          handleScorecardRemove={handleScorecardRemove}\r\n          toggleIcon={isUserScored ? faStar : farStar}\r\n        >\r\n          <FontAwesomeIcon\r\n            size=\"lg\"\r\n            icon={isUserScored ? faStar : farStar}\r\n            className=\"align-self-center mx-auto\"\r\n          />\r\n        </ScoreCardModal>\r\n      )}\r\n\r\n      <VerseDropDownMenu\r\n        contestantUserId={contestantUserId}\r\n        isUserThisContestant={isUserThisContestant}\r\n        isUserContestant={isUserContestant}\r\n        isVerseSubmitted={isVerseSubmitted}\r\n        direction={seatNumber === 1 ? 'right' : 'left'}\r\n        handleJoinBattleClick={handleJoinBattleClick}\r\n        handleLeaveBattleClick={handleLeaveBattleClick}\r\n        handleRemoveVerse={handleRemoveVerse}\r\n        className={verseDropDownMenuClass}\r\n      >\r\n        <FontAwesomeIcon\r\n          size=\"lg\"\r\n          icon={faEllipsisV}\r\n          className=\"align-self-center mx-auto\"\r\n        />\r\n      </VerseDropDownMenu>\r\n    </Container>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\n// Bootstrap components.\r\nimport {\r\n  UncontrolledDropdown, DropdownToggle, DropdownMenu, DropdownItem, Button\r\n} from 'reactstrap';\r\n\r\nexport default function VerseDropDownMenu(props) {\r\n  const {\r\n    contestantUserId, isUserThisContestant, isVerseSubmitted, direction,\r\n    handleLeaveBattleClick, handleJoinBattleClick, handleRemoveVerse,\r\n    children, className,\r\n  } = props;\r\n\r\n  const isContestantAvailable = (contestantUserId !== undefined);\r\n\r\n  return (\r\n    <UncontrolledDropdown\r\n      className={`d-flex flex-column p-0 ${className}`}\r\n      direction={direction}\r\n    >\r\n      <DropdownToggle\r\n        outline\r\n        block\r\n        className={'btn-outline-primary m-0 px-0 py-2 border-top-0 rounded-0 flex-fill'}\r\n      >\r\n        {children}\r\n      </DropdownToggle>\r\n      <DropdownMenu\r\n        flip={false}\r\n        className={\r\n          `w-25 p-0 bg-darkest-90 border-0 rounded-0 text-center verse-menu ${direction} ${className === '' ? 'move-up' : ''}`\r\n        }\r\n      >\r\n        <DropdownItem header className=\"border-0 bg-darkest-90\" >\r\n          Options\r\n        </DropdownItem>\r\n\r\n        {!isContestantAvailable && (\r\n          <DropdownItem tag=\"div\" className=\"text-wrap text-left text-secondary\" >\r\n            <p className=\"mb-1\">No Contestant</p>\r\n            <p>Join this battle!</p>\r\n            <Button\r\n              outline\r\n              block\r\n              data-role=\"contestant\"\r\n              onClick={handleJoinBattleClick}\r\n              className=\"btn-outline-primary mt-4 rounded-0\"\r\n            >\r\n              Join It!\r\n            </Button>\r\n          </DropdownItem>\r\n        )}\r\n\r\n        {isContestantAvailable && (\r\n          <DropdownItem tag=\"div\" >\r\n            <Link\r\n              to={`/profile/${contestantUserId}`}\r\n              className=\"w-100 text-secondary text-decoration-none\"\r\n            >\r\n              Profile\r\n            </Link>\r\n          </DropdownItem>\r\n        )}\r\n\r\n        {isContestantAvailable && !isUserThisContestant && (\r\n          <DropdownItem disabled className=\"d-none text-left text-black-50\" >\r\n            Follow (coming soon)\r\n          </DropdownItem>\r\n        )}\r\n\r\n        {isUserThisContestant && isVerseSubmitted && (\r\n          <DropdownItem onClick={handleRemoveVerse} className=\"text-left text-secondary\" >\r\n            Remove Verse\r\n          </DropdownItem>\r\n        )}\r\n\r\n        {isUserThisContestant && (\r\n          <DropdownItem\r\n            data-role=\"contestant\"\r\n            onClick={handleLeaveBattleClick}\r\n            className=\"text-left text-secondary\"\r\n          >\r\n            Leave Battle\r\n          </DropdownItem>\r\n        )}\r\n      </DropdownMenu>\r\n    </UncontrolledDropdown>\r\n  );\r\n}\r\n","import React from 'react';\r\n\r\n// Components.\r\nimport { Badge } from 'reactstrap';\r\nimport {\r\n  faStar, faEye, faThumbsDown, faThumbsUp\r\n} from '@fortawesome/free-regular-svg-icons';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport NumericLabel from 'react-pretty-numbers';\r\nimport { CustomTooltip } from '../../';\r\n\r\nconst icons = {\r\n  faStar,\r\n  faEye,\r\n  faThumbsDown,\r\n  faThumbsUp\r\n};\r\n\r\nconst numberParams = {\r\n  commafy: false,\r\n  shortFormat: true,\r\n  shortFormatMinValue: 1000,\r\n  shortFormatPrecision: 1\r\n};\r\n\r\nexport default function VerseInfoItem({\r\n  type, iconName, value, seatNumber\r\n}) {\r\n\r\n  return (\r\n    <div id={`${iconName}-${seatNumber}-info`}>\r\n      <div id={`${iconName}-${seatNumber}-tooltip`}>\r\n        <FontAwesomeIcon\r\n          fixedWidth icon={icons[iconName]}\r\n          size=\"sm\"\r\n          className=\"text-success\"\r\n        />\r\n        <Badge className=\"bg-transparent text-secondary\">\r\n          <NumericLabel params={numberParams}>\r\n            {value}\r\n          </NumericLabel>\r\n        </Badge>\r\n      </div>\r\n\r\n      <CustomTooltip\r\n        targetId={`${iconName}-${seatNumber}-tooltip`}\r\n        placement=\"top\"\r\n        boundariesElement={`${iconName}-${seatNumber}-tooltip`}\r\n        container={`verse-card-${seatNumber}`}\r\n      >\r\n        {`${type}: ${value}`}\r\n      </CustomTooltip>\r\n    </div>\r\n  );\r\n}\r\n","import Content from './Content';\r\nimport Sidebar from './Sidebar';\r\nimport VerseDropDownMenu from './VerseDropDownMenu';\r\nimport VerseInfoItem from './VerseInfoItem';\r\n\r\nexport {\r\n  Content,\r\n  Sidebar,\r\n  VerseDropDownMenu,\r\n  VerseInfoItem,\r\n};\r\n\r\nexport default {\r\n  Content,\r\n  Sidebar,\r\n  VerseDropDownMenu,\r\n  VerseInfoItem,\r\n};\r\n","import React, { Component } from 'react';\r\nimport axios from 'axios';\r\n\r\n// Bootstrap components.\r\nimport {\r\n  Button, Container, Row, Col, Card, CardHeader, CardBody\r\n} from 'reactstrap';\r\n\r\n// Custom components.\r\nimport { PageContext } from '../../utils/context/pageContext';\r\nimport { UsernamePopover } from '../';\r\nimport { Content, Sidebar } from './subcomponents';\r\n\r\n// API utilities, helper functions, and other assets.\r\nimport {\r\n  VERSE_UTILS, VERSE_REACTION_UTILS, SCORE_CARD_UTILS, YOUTUBE_UTILS\r\n} from '../../utils/api';\r\nimport { MAIN_HELPER, VERSE_HELPER } from '../../utils/helpers';\r\nimport { MESSAGE_INVALID_INPUT_CHARACTERS } from '../../utils/constants';\r\nimport './style.css';\r\n\r\nexport default class VerseCard extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      verse: null,\r\n      contestant: null,\r\n      daps: [],\r\n      disses: [],\r\n      scoreCards: [],\r\n      isUserDapped: null, isUserDissed: null,\r\n      userScoreCard: null,\r\n      isPlayerShown: false,\r\n    };\r\n\r\n    // Bind class methods.\r\n    this.handleRemoveVerseConfirmOnClick = this.handleRemoveVerseConfirmOnClick.bind(this);\r\n    this.handleRemoveVerse = this.handleRemoveVerse.bind(this);\r\n    this.handleJoinBattle = this.handleJoinBattle.bind(this);\r\n    this.handleLeaveBattle = this.handleLeaveBattle.bind(this);\r\n    this.handleVerseReaction = this.handleVerseReaction.bind(this);\r\n    this.handleScoreCardSubmit = this.handleScoreCardSubmit.bind(this);\r\n    this.handleVerseSubmit = this.handleVerseSubmit.bind(this);\r\n    this.handleScorecardRemove = this.handleScorecardRemove.bind(this);\r\n    this.handleShowPlayer = this.handleShowPlayer.bind(this);\r\n    this.handleHidePlayer = this.handleHidePlayer.bind(this);\r\n    this.updateVerse = this.updateVerse.bind(this);\r\n  }\r\n\r\n  handleRemoveVerseConfirmOnClick() {\r\n    const {\r\n      battleStatus, currentRoundNumber, roundNumber\r\n    } = this.props;\r\n\r\n    const { masterData: { handleOpenAlert }} = this.context;\r\n\r\n    let message;\r\n    if (battleStatus !== 'round' || currentRoundNumber !== roundNumber) {\r\n      message = 'This round is over.\\nWARNING: You can not remove a verse after its round ends.';\r\n      return handleOpenAlert(message, false);\r\n    }\r\n\r\n    message = 'Are you sure you want to remove this verse?\\nWARNING: This action cannot be undone.';\r\n    return handleOpenAlert(message, true, {}, this.handleRemoveVerse);\r\n  }\r\n\r\n  handleRemoveVerse() {\r\n    const { verse } = this.state;\r\n    const { id: verseId } = verse;\r\n    const { masterData: { handleCloseAlert } } = this.context;\r\n    handleCloseAlert();\r\n    const { getAxiosOptions, handleAsyncError } = this.context.masterData;\r\n    const axiosOptions = getAxiosOptions();\r\n    VERSE_UTILS.deleteVerse(verseId, axiosOptions)\r\n      .then(() => this.setState(() => ({ verse: null })))\r\n      .catch(handleAsyncError);\r\n  }\r\n\r\n  handleJoinBattle(event) {\r\n    const {\r\n      battleStatus, contestant, isUserContestant, isUserJudge,\r\n      userId, handleJoinLeaveBattle, isPendingInvite,\r\n      battleChallenge,\r\n    } = this.props;\r\n\r\n    if (contestant.User) return;\r\n\r\n    const { masterData: { handleOpenAlert } } = this.context;\r\n\r\n    if (isPendingInvite) {\r\n      const { ChallengerUser: challengerUser, ChallengedUser: challengedUser} = battleChallenge;\r\n      const { user_id: challengerUserId } = challengerUser;\r\n      const { user_id: challengedUserId, nickname: challengedUserNickname } = challengedUser;\r\n      if (userId !== challengerUserId && userId !== challengedUserId) {\r\n        return handleOpenAlert(`Follow this battle to be notified when ${challengedUserNickname} accpets the challenge.\\nWARNING: You cannot join a battle where someone else is challenged.`, false);\r\n      }\r\n    }\r\n\r\n    if (isUserContestant || isUserJudge) {\r\n      const message = `You are already a ${isUserContestant ? 'contestant' : 'judge'} in this battle. You need to leave that role before can join another one.\\nWARNING: Leaving a battle after it has started will result in a penalty.`;\r\n      return handleOpenAlert(message);\r\n    }\r\n\r\n    if (battleStatus !== 'staging') {\r\n      const message = 'This battle has ended.\\nWARNING: You cannot join a battle that is closed';\r\n      return handleOpenAlert(message, false);\r\n    }\r\n\r\n    handleJoinLeaveBattle(event);\r\n  }\r\n\r\n  handleLeaveBattle(event) {\r\n    const { battleStatus, contestant, handleJoinLeaveBattle } = this.props;\r\n    const { Role: role} = contestant;\r\n    const { definition: userRole } = role;\r\n    const { masterData: { handleOpenAlert } } = this.context;\r\n\r\n    let message;\r\n    if (battleStatus === 'scoring' || battleStatus === 'closed') {\r\n      message = 'This battle has ended.\\nWARNING: You cannot leave a battle that is over.';\r\n      return handleOpenAlert(message, false);\r\n    }\r\n\r\n    if (userRole === 'contestant' && battleStatus !== 'staging') {\r\n      message = 'You can not leave a battle after it has started. To leave this battle you will have to concede to your opponent.\\nWARNING: Conceding will cause you to lose this battle, and you will receive battle reputation and battle score penalties.';\r\n\r\n      return handleOpenAlert(message, false);\r\n    }\r\n\r\n    message = 'Are you sure you want to leave this battle?\\nWARNING: Leaving a battle after it has started will result in a penalty.';\r\n    const confirmButtonProps = {\r\n      'data-role': event.target.getAttribute('data-role'),\r\n    };\r\n\r\n    handleOpenAlert(message, true, confirmButtonProps, handleJoinLeaveBattle);\r\n  }\r\n\r\n  handleVerseReaction(event) {\r\n    const { userId, reactionTypes } = this.props;\r\n    const reactionButton = event.target;\r\n    reactionButton.blur();\r\n\r\n    /**\r\n     * Get the string used to call the correct api method.\r\n     * @returns {string} 'delete', 'update', or 'create'\r\n     */\r\n    const getReactionMethod = () => {\r\n      const isReacted = reactionButton.getAttribute('data-is-reacted') === 'true';\r\n      const isOtherReacted = reactionButton.getAttribute('data-is-other-reacted') === 'true';\r\n      if (isReacted) return 'delete';\r\n      if (isOtherReacted) return 'update';\r\n      return 'create';\r\n    };\r\n\r\n    const verseId = this.state.verse.id;\r\n    const typeDefinition = reactionButton.getAttribute('data-type-definition');\r\n    const typeId = reactionTypes[typeDefinition].id;\r\n    const reaction = { userId, verseId, typeId };\r\n    const reactionMethod = getReactionMethod();\r\n    const { getAxiosOptions, handleAsyncError } = this.context.masterData;\r\n    const axiosOptions = getAxiosOptions();\r\n\r\n    const isUserDapped = typeDefinition === 'dap' && reactionMethod !== 'delete';\r\n    const isUserDissed = typeDefinition === 'dis' && reactionMethod !== 'delete';\r\n\r\n    this.setState(() => ({ isUserDissed, isUserDapped}), () => {\r\n      VERSE_REACTION_UTILS[reactionMethod](reaction, axiosOptions)\r\n        .then(() => VERSE_REACTION_UTILS.getAllVerseReactions(verseId, axiosOptions))\r\n        .then((reactionsResult) => {\r\n          const reactions = reactionsResult.data;\r\n          const daps = reactions.filter((reaction) => reaction.Type.definition === 'dap');\r\n          const disses = reactions.filter((reaction) => reaction.Type.definition === 'dis');\r\n          this.setState(() => ({ daps, disses }));\r\n        }).catch(handleAsyncError);\r\n    });\r\n  }\r\n\r\n  handleScoreCardSubmit(scores) {\r\n    const { verse, scoreCards, userScoreCard } = this.state;\r\n    const { battleStatus, userId, scoringType } = this.props;\r\n\r\n    if (battleStatus === 'closed') {\r\n      const { masterData: { handleOpenAlert } } = this.context;\r\n      const message = 'This battle has ended.\\nWARNING: You can not add or edit a scorecard for a closed battle.';\r\n      return handleOpenAlert(message, false);\r\n    }\r\n\r\n    // Build the score card.\r\n    const scoreCard = scores.reduce((obj, score) => {\r\n      obj[score.definition.toLowerCase()] = score.value;\r\n      return obj;\r\n    }, { user_id: userId, verse_id: verse.id });\r\n\r\n    const updatedScorecards = scoreCards.filter(stateScorecard => stateScorecard.user_id !== scoreCard.user_id);\r\n\r\n    updatedScorecards.push(scoreCard);\r\n\r\n    this.setState(() => ({updatedScorecards, userScoreCard: scoreCard}), () => {\r\n      const { getAxiosOptions, handleAsyncError } = this.context.masterData;\r\n      const axiosOptions = getAxiosOptions();\r\n      const apiMethod = userScoreCard ? 'update' : 'create';\r\n      const params = {\r\n        scoreCard,\r\n        scoringType,\r\n        axiosOptions,\r\n        userId\r\n      };\r\n\r\n      SCORE_CARD_UTILS[apiMethod](params)\r\n        .catch(handleAsyncError);\r\n    });\r\n  }\r\n\r\n  handleScorecardRemove () {\r\n    const { userScoreCard } = this.state;\r\n    const { battleStatus, userId, scoringType } = this.props;\r\n\r\n    if (!userScoreCard) return;\r\n\r\n    const {\r\n      masterData: { handleOpenAlert, handleCloseAlert }\r\n    } = this.context;\r\n\r\n    if (battleStatus === 'closed') {\r\n      const message = 'This battle has ended.\\nWARNING: You can not remove a scorecard for a closed battle.';\r\n      return handleOpenAlert(message, false);\r\n    }\r\n\r\n    const { verse_id: verseId, user_id: scorecardUserId } = userScoreCard;\r\n    if (scorecardUserId !== userId) return;\r\n\r\n    const message = 'Are you sure that you want to delete your scorecard?\\nWARNING: If you are a judge for this battle and do not submit a scorecard for this verse then you will receive a reputation penalty.';\r\n\r\n    handleOpenAlert(message, true, null, () => {\r\n      handleCloseAlert();\r\n      const { getAxiosOptions, handleAsyncError } = this.context.masterData;\r\n      const axiosOptions = getAxiosOptions();\r\n      SCORE_CARD_UTILS.delete(verseId, scoringType, userId, axiosOptions)\r\n        .then(this.updateVerse)\r\n        .catch(handleAsyncError);\r\n    });\r\n  }\r\n\r\n  /**\r\n   * 1. Validate the existence of the video being submitted then.\r\n   * 2. If the video validation succeeds.\r\n   *  - Create the verse and update the state with the new verse.\r\n   * @param {string} verseUrl\r\n   * @memberof VerseCard\r\n   */\r\n  handleVerseSubmit(verseUrl) {\r\n    // Alert the user if they are submitting invalid input characters.\r\n    const { masterData: { handleOpenAlert } } = this.context;\r\n    if (!MAIN_HELPER.isTextValid(verseUrl)) return handleOpenAlert(MESSAGE_INVALID_INPUT_CHARACTERS);\r\n\r\n    const { userId, roundId } = this.props;\r\n    // NOTE: These line are unnecessary, but they allow for shorter promise handling below.\r\n    const user_id = userId;\r\n    const round_id = roundId;\r\n    // TODO: Change video_url to youtube_id, or other after changing in db and rest of project.\r\n    // TODO: Validate the video being submitted before sending to the server, if possible.\r\n    const video_url = VERSE_HELPER.getYouTubeId(verseUrl);\r\n    const { getAxiosOptions } = this.context.masterData;\r\n    const axiosOptions = getAxiosOptions();\r\n\r\n    /**\r\n     * 1. Validate the existence of the video being submitted then.\r\n     * 2. If the video validation succeeds.\r\n     *     - Create the verse, and update the state with the new verse.\r\n     */\r\n    YOUTUBE_UTILS.validateId(video_url, axiosOptions)\r\n      .then(() => VERSE_UTILS.createVerse({ video_url, round_id, user_id }, axiosOptions))\r\n      .then((verseResult) => this.setState(() => ({ verse: verseResult.data })))\r\n      .catch((error) => {\r\n        // This doesn't use 'handleAsyncError' function because\r\n        // It should show the custom alert if it's an invalid video.\r\n        handleOpenAlert(error, false, undefined, undefined);\r\n      });\r\n  }\r\n\r\n  handleShowPlayer() {\r\n    this.setState(() => ({ isPlayerShown: true }));\r\n  }\r\n\r\n  handleHidePlayer() {\r\n    this.setState(() => ({ isPlayerShown: false }));\r\n  }\r\n\r\n  updateVerse() {\r\n    const { userId, contestant, roundId, scoringType } = this.props;\r\n    const { getAxiosOptions, handleAsyncError } = this.context.masterData;\r\n    const axiosOptions = getAxiosOptions();\r\n    // Get the verse for this round and contestant.\r\n    // Get its reactions and score cards if there is a verse..\r\n    VERSE_UTILS.getOneUser(roundId, contestant.user_id, axiosOptions)\r\n      .then((verseResult) => {\r\n        const verse = verseResult.data;\r\n        //* If a verse is not available.\r\n        //* Set the state and return without making the next requests.\r\n        if (!verse) return this.setState(() => ({ verse }));\r\n\r\n        // Get the reactions and score cards for this verse.\r\n        // TODO: Consider refactoring these requests and handler.\r\n        const requests = [\r\n          VERSE_REACTION_UTILS.getAllVerseReactions(verse.id, axiosOptions),\r\n          SCORE_CARD_UTILS.getAllVerseScoreCards(verse.id, scoringType, axiosOptions)\r\n        ];\r\n        axios.all(requests, axiosOptions)\r\n          .then(([reactionsResult, scoreCardsResult]) => {\r\n            const reactions = reactionsResult.data;\r\n            const scoreCards = scoreCardsResult.data;\r\n            const daps = reactions.filter((reaction) => reaction.Type.definition === 'dap');\r\n            const disses = reactions.filter((reaction) => reaction.Type.definition === 'dis');\r\n            const userScoreCard = scoreCards.filter((scoreCard) => scoreCard.verse_id === verse.id && scoreCard.user_id === userId)[0];\r\n            const userReaction = reactions.filter((reaction) => reaction.verse_id === verse.id && reaction.user_id === userId)[0];\r\n            let isUserDapped = false;\r\n            let isUserDissed = false;\r\n            if (userReaction) {\r\n              isUserDapped = (userReaction.Type.definition === 'dap');\r\n              isUserDissed = !isUserDapped;\r\n\r\n\r\n            }\r\n\r\n            this.setState(() => ({\r\n              verse, daps, disses, scoreCards, isUserDapped, isUserDissed,\r\n              userScoreCard\r\n            }));\r\n          });\r\n      }).catch(handleAsyncError);\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.updateVerse();\r\n    const { seatNumber, roundId, userId, nickname } = this.props;\r\n\r\n    const roomParams = {\r\n      userId,\r\n      nickname,\r\n      isBattleAudience: false,\r\n    };\r\n\r\n    const { ioSocket } = this.context.masterData;\r\n    ioSocket.emit('joinRoom', `battle-verse-${roundId}-${seatNumber}`, roomParams);\r\n    ioSocket.on('update', this.updateVerse);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    const { roundId, seatNumber } = this.props;\r\n    const roomParams = { isBattleAudience: false };\r\n\r\n    const { ioSocket } = this.context.masterData;\r\n    ioSocket.emit('leaveRoom', `battle-verse-${roundId}-${seatNumber}`, roomParams);\r\n    ioSocket.close();\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      verse, daps, disses, scoreCards, isUserDapped, isUserDissed,\r\n      userScoreCard, isPlayerShown,\r\n    } = this.state;\r\n\r\n    const {\r\n      contestant, seatNumber, scoringType, isUserContestant,\r\n      userId, standardScorecardFields, isStagingPhase,\r\n      isRoundEnded, isBattleClosed, handleReadyOnClick,\r\n      isPendingInvite, battleChallenge,\r\n    } = this.props;\r\n\r\n    // The id of the Youtube video.\r\n    const videoId = verse && verse.video_url;\r\n\r\n    const isUserThisContestant = contestant.user_id === userId;\r\n\r\n    const dapsCount = daps.length;\r\n    const dissesCount = disses.length;\r\n    const scorecardsCount = scoreCards.length;\r\n\r\n    let contestantText = isPendingInvite ? 'Pending Challenge' : 'Join It!';\r\n    let isUserChallengedUser = false;\r\n    if (battleChallenge) {\r\n      const { challenged_user_id: challengedUserId } = battleChallenge;\r\n      isUserChallengedUser = userId === challengedUserId;\r\n    }\r\n\r\n    if (isPendingInvite && isUserChallengedUser) contestantText = 'Accept Challenge';\r\n    if (contestant.User) contestantText = contestant.User.nickname;\r\n\r\n    return (\r\n      <Card\r\n        id={`verse-card-${seatNumber}`}\r\n        className={`mb-5 mb-sm-0 bg-darkest-75 rounded-0 verse-card ${seatNumber === 1 ? 'left' : 'right'}`} >\r\n        <CardHeader tag=\"div\" className=\"p-0 bg-darkest\" >\r\n          {contestant.User ? (\r\n            <UsernamePopover\r\n              id={`contestant-seat-${seatNumber}`}\r\n              userId={userId}\r\n              labelText={contestantText}\r\n              profile={contestant.User.Profile}\r\n              userProfileUrl={`/profile/${contestant.User.user_id}`}\r\n            />\r\n          ) : (\r\n            <Button\r\n              color=\"link\"\r\n              data-role=\"contestant\"\r\n              data-seat-number={seatNumber}\r\n              onClick={this.handleJoinBattle}\r\n              className=\"d-inline-block p-0 text-truncate text-xxl text-decoration-none text-secondary\"\r\n            >\r\n              {contestantText}\r\n            </Button>\r\n          )}\r\n\r\n\r\n        </CardHeader>\r\n        <CardBody className=\"p-0\" >\r\n          <Container fluid className=\"h-100\" >\r\n            <Row className=\"h-100\" >\r\n              <Col xs=\"2\" className={'p-0 ' + ((seatNumber === 2) && 'order-2')} >\r\n                <Sidebar\r\n                  verse={verse}\r\n                  contestantUserId={contestant.user_id}\r\n                  isVerseSubmitted={verse ? true : false}\r\n                  seatNumber={seatNumber}\r\n                  scoringType={scoringType}\r\n                  isUserDapped={isUserDapped}\r\n                  isUserDissed={isUserDissed}\r\n                  isUserScored={userScoreCard ? true : false}\r\n                  isBattleClosed={isBattleClosed}\r\n                  userScoreCard={userScoreCard}\r\n                  isUserThisContestant={isUserThisContestant}\r\n                  isUserContestant={isUserContestant}\r\n                  standardScorecardFields={standardScorecardFields}\r\n                  handleVerseReaction={this.handleVerseReaction}\r\n                  handleScoreCardSubmit={this.handleScoreCardSubmit}\r\n                  handleScorecardRemove={this.handleScorecardRemove}\r\n                  handleJoinBattleClick={this.handleJoinBattle}\r\n                  handleLeaveBattleClick={this.handleLeaveBattle}\r\n                  handleRemoveVerse={this.handleRemoveVerseConfirmOnClick}\r\n                />\r\n              </Col>\r\n              <Col xs=\"10\" className=\"p-0 h-100\" >\r\n                <Content\r\n                  key={videoId}\r\n                  videoId={videoId}\r\n                  seatNumber={seatNumber}\r\n                  isPlayerShown={isPlayerShown}\r\n                  isUserThisContestant={isUserThisContestant}\r\n                  isContestantReady={contestant.is_ready}\r\n                  isStagingPhase={isStagingPhase}\r\n                  isRoundEnded={isRoundEnded}\r\n                  dapsCount={dapsCount}\r\n                  dissesCount={dissesCount}\r\n                  scorecardsCount={scorecardsCount}\r\n                  handleVerseSubmit={this.handleVerseSubmit}\r\n                  handleReadyOnClick={handleReadyOnClick}\r\n                  handleShowPlayer={this.handleShowPlayer}\r\n                />\r\n              </Col>\r\n            </Row>\r\n          </Container>\r\n        </CardBody>\r\n      </Card>\r\n    );\r\n  }\r\n}\r\n\r\nVerseCard.contextType = PageContext;\r\n","import React from 'react';\r\n\r\n// Bootstrap components.\r\nimport {\r\n  Row, Col, Form, FormGroup\r\n} from 'reactstrap';\r\n\r\n// Custom components.\r\nimport { ScoreSlideRange } from './';\r\n\r\nexport default function ScoreCard(props) {\r\n  const { scores, isScored, isBattleClosed, handleScoreSliderChange } = props;\r\n\r\n  // TODO: These strings should be in the constants file.\r\n  let welcomeMessage = 'Use the sliders below to provide scores for the verse.';\r\n  if(isScored) welcomeMessage = 'Thank you for scoring this verse.';\r\n\r\n  const scoreComponents = scores.map((score, index) => (\r\n    <Col\r\n      key={index}\r\n      xs=\"12\" sm=\"6\"\r\n      className=\"px-4 mx-auto\"\r\n    >\r\n      <FormGroup>\r\n        <ScoreSlideRange\r\n          text={score.definition}\r\n          minScore={0}\r\n          maxScore={10}\r\n          value={score.value}\r\n          isBattleClosed={isBattleClosed}\r\n          order={(Math.abs(index) % 2 === 1) ? 'order-1' : ''}\r\n          handleChange={handleScoreSliderChange}\r\n        />\r\n      </FormGroup>\r\n    </Col>\r\n  ));\r\n\r\n  return (\r\n    <Form\r\n      id=\"score-card-form\"\r\n      className=\"flex-fill\"\r\n    >\r\n      <p className=\"mx-5\" >\r\n        {welcomeMessage}\r\n      </p>\r\n      <Row>\r\n        {scoreComponents}\r\n      </Row>\r\n    </Form>\r\n  );\r\n}\r\n","import React from 'react';\r\n\r\n// Bootstrap components.\r\nimport {\r\n  Label, Input, CustomInput\r\n} from 'reactstrap';\r\n\r\nexport default function ScoreSlideRange(props) {\r\n  const {\r\n    text, minScore, maxScore, value, isBattleClosed, order, handleChange\r\n  } = props;\r\n\r\n  return (\r\n    <div className=\"d-flex justify-content-md-around align-items-end\" >\r\n      <div className={`w-100 mb-1 slider ${order}`} >\r\n        <Label\r\n          id=\"score-type-label\"\r\n          for={`${text}-score-range`}\r\n          className=\"mb-0\"\r\n        >\r\n          {text}\r\n        </Label>\r\n        <CustomInput\r\n          id={`${text}-score-range`}\r\n          type=\"range\"\r\n          min={minScore}\r\n          max={maxScore}\r\n          value={value}\r\n          data-category={text}\r\n          onChange={handleChange}\r\n          disabled={isBattleClosed}\r\n          className=\"rounded bg-dark score-slider\"\r\n        />\r\n      </div>\r\n      <div className=\"slider-number\" >\r\n        <Label for=\"slider-value\" className=\"sr-only\" >\r\n          {text} Value\r\n        </Label>\r\n        <Input\r\n          id={`${text}-slider-value`}\r\n          type=\"number\"\r\n          min={minScore}\r\n          max={maxScore}\r\n          value={value}\r\n          data-category={text}\r\n          onChange={handleChange}\r\n          disabled={isBattleClosed}\r\n          className=\"h-100 p-0 bg-darker text-secondary text-center\"\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import BasicScoreCard from './BasicScoreCard';\r\nimport ScoreCard from'./ScoreCard';\r\nimport ScoreSlideRange from './ScoreSlideRange';\r\n\r\nexport {\r\n  BasicScoreCard,\r\n  ScoreCard,\r\n  ScoreSlideRange\r\n};\r\n\r\nexport default {\r\n  BasicScoreCard,\r\n  ScoreCard,\r\n  ScoreSlideRange\r\n};\r\n","import React from 'react';\r\n\r\n// Components.\r\nimport { Button } from 'reactstrap';\r\nimport { faTrashAlt } from '@fortawesome/free-solid-svg-icons';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { MainModal } from '../../components';\r\nimport { ScoreCard } from './subcomponents';\r\n\r\n// API utilities, helper functions, and other assets.\r\nimport './style.css';\r\n\r\nexport default class ScoreCardModal extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      scores: []\r\n    };\r\n\r\n    // Bind class methods.\r\n    this.getScores = this.getScores.bind(this);\r\n    this.getScorecardCategories = this.getScorecardCategories.bind(this);\r\n    this.handleScoreSliderChange = this.handleScoreSliderChange.bind(this);\r\n    this.handleScoreCardSubmit = this.handleScoreCardSubmit.bind(this);\r\n  }\r\n\r\n  getScores() {\r\n    const { userScoreCard } = this.props;\r\n    // Return an empty array of scores if the user hasn't provided a score card.\r\n    if (!userScoreCard) return this.getEmptyScores();\r\n\r\n    // Loop through userScoreCard and put the scores in an array.\r\n    const scores = [];\r\n    const categories = this.getScorecardCategories();\r\n    for (const key in userScoreCard) {\r\n      if (categories.includes(key)) {\r\n        scores.push({ definition: key, value: userScoreCard[key] });\r\n      }\r\n    }\r\n    return scores;\r\n  }\r\n\r\n  getEmptyScores() {\r\n    const categories = this.getScorecardCategories();\r\n    return categories.map((category) => {\r\n      return { definition: category, value: 0 };\r\n    });\r\n  }\r\n\r\n  getScorecardCategories() {\r\n    const { scoringType, standardScorecardFields } = this.props;\r\n    return (scoringType === 'advanced') ? standardScorecardFields : ['score'];\r\n  }\r\n\r\n  handleScoreSliderChange(event) {\r\n    const stateScores = this.state.scores;\r\n    const slider = event.target;\r\n    let scoreValue = slider.valueAsNumber;\r\n    const category = slider.getAttribute('data-category');\r\n    const minScore = slider.getAttribute('min');\r\n    const maxScore = slider.getAttribute('max');\r\n\r\n    // Pin the scoreValue to the min and max score ranges.\r\n    scoreValue = (scoreValue < minScore) ? minScore : scoreValue;\r\n    scoreValue = (scoreValue > maxScore) ? maxScore : scoreValue;\r\n\r\n    // Loop through state scores and update the scored being changed.\r\n    const scores = stateScores.map((score) => {\r\n      if (score.definition === category) score.value = scoreValue;\r\n      return score;\r\n    });\r\n\r\n    this.setState(() => ({ scores }));\r\n  }\r\n\r\n  handleScoreCardSubmit(event) {\r\n    event.preventDefault();\r\n    const { isBattleClosed, handleScoreCardSubmit } = this.props;\r\n    if (isBattleClosed) return;\r\n    handleScoreCardSubmit(this.state.scores);\r\n  }\r\n\r\n  componentDidMount() {\r\n    const scores = this.getScores();\r\n    this.setState(() => ({ scores }));\r\n  }\r\n\r\n  render() {\r\n    const { scores } = this.state;\r\n    const { isScored, toggleIcon, isBattleClosed, handleScorecardRemove } = this.props;\r\n\r\n    return (\r\n      <MainModal\r\n        headerText=\"Verse Score Card\"\r\n        toggleButtonProps={{ color: 'link', className: 'btn-outline-primary m-0 px-0 py-2 border-top-0 rounded-0 flex-fill' }}\r\n        toggleIconProps={{ icon: toggleIcon, size: 'lg', className: 'align-self-center mx-auto' }}\r\n        isSubmitDisabled={isBattleClosed ? true : false}\r\n        handleSubmit={this.handleScoreCardSubmit}\r\n      >\r\n        <div className=\"d-flex\">\r\n          <ScoreCard\r\n            scores={scores}\r\n            isScored={isScored}\r\n            isBattleClosed={isBattleClosed}\r\n            handleScoreSliderChange={this.handleScoreSliderChange}\r\n          />\r\n\r\n          <Button\r\n            outline\r\n            color=\"transparent\"\r\n            disabled={isScored ? false : true}\r\n            onClick={handleScorecardRemove}\r\n            className=\"align-self-start rounded-circle border-0 text-darkest remove-button\"\r\n          >\r\n            <FontAwesomeIcon\r\n              fixedWidth\r\n              icon={faTrashAlt}\r\n              className=\"no-pointer-events\"\r\n            />\r\n          </Button>\r\n        </div>\r\n      </MainModal>\r\n    );\r\n  }\r\n}\r\n","/* eslint-disable complexity */\r\nimport React, { useState, useContext } from 'react';\r\n\r\n// React Rating.\r\nimport Rating from 'react-rating';\r\n\r\n// Bootstrap components.\r\nimport { Button, Collapse, ListGroup, ListGroupItem } from 'reactstrap';\r\n\r\n// Font Awesome Icons.\r\nimport {\r\n  faStar, faComments, faUsers, faUserCheck, faChevronRight, faChevronDown\r\n} from '@fortawesome/free-solid-svg-icons';\r\nimport { faStar as farStar } from '@fortawesome/free-regular-svg-icons';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\n\r\n// Custom components.\r\nimport { PageContext } from '../../utils/context/pageContext';\r\nimport {\r\n  DynamicHeader, CustomTooltip, ScoreCardBreakdown, UsernamePopover,\r\n  JoinEventHeaderButtons,\r\n} from '../';\r\n\r\n// API utilities, helper functions, and other assets.\r\nimport './style.css';\r\n\r\nexport default function BattleInfoSection({\r\n  userId, rounds, audienceCount, commentsCount, battleType,\r\n  roundCount, roundLength, judges, isUserContestant, isUserJudge,\r\n  userBattleRatingValue, battleRatingCount, isUserFollowing,\r\n  averageBattleRating, handleJoinLeaveBattle,\r\n  handleBattleRatingOnChange, handleFollowBattle, handleUnfollowBattle,\r\n  followersCount, resultCards, judgingType, battleStatus, battleChallenge,\r\n}) {\r\n  const { masterData: { handleOpenAlert } } = useContext(PageContext);\r\n  const roundLengthValue = roundLength > 24 ? roundLength / 24 : roundLength;\r\n  let roundLengthText = roundLength > 24 ? 'day' : 'hour';\r\n  if (roundLengthValue > 1) roundLengthText += 's';\r\n\r\n  const roundInfoText = `${roundCount} ${roundCount > 1 ? 'rounds' : 'round'} @ ${roundLengthValue} ${roundLengthText}`;\r\n\r\n  const battleRatingContent = () => {\r\n    if (!battleRatingCount) return (\r\n      <span>\r\n        Be the first to rate!\r\n      </span>\r\n    );\r\n\r\n    if (battleRatingCount === 1 && userBattleRatingValue > 0) return (\r\n      <span>\r\n        You rated first!\r\n      </span>\r\n    );\r\n\r\n    return (\r\n      <span>\r\n        {battleRatingCount}\r\n        &nbsp;people rated&nbsp;\r\n        <span className={getRatingColor(averageBattleRating)}>\r\n          {averageBattleRating}\r\n        </span>\r\n      </span>\r\n    );\r\n  };\r\n\r\n  const getRatingColor = rating => {\r\n    let ratingColor = 'text-success';\r\n    if (rating > 0 && rating < 2) ratingColor = 'text-danger';\r\n    if (rating >= 2 && rating < 3) ratingColor = 'text-warning';\r\n\r\n    return ratingColor;\r\n  };\r\n\r\n  const handleJoinLeaveBattleClick = (event) => {\r\n    const role = event.target.getAttribute('data-role');\r\n    const seatNumber = event.target.getAttribute('data-seat-number');\r\n\r\n    let isPendingInvite = false;\r\n    if (battleChallenge) {\r\n      const { BattleChallengeStatus: battleChallengeStatus } = battleChallenge;\r\n      const { definition: challengeStatus } = battleChallengeStatus;\r\n      isPendingInvite = challengeStatus === 'pending';\r\n    }\r\n\r\n    let message;\r\n\r\n    if (isPendingInvite) {\r\n      const { ChallengerUser: challengerUser, ChallengedUser: challengedUser} = battleChallenge;\r\n      const { user_id: challengerUserId, nickname: challengerUserNickname } = challengerUser;\r\n      const { user_id: challengedUserId, nickname: challengedUserNickname } = challengedUser;\r\n\r\n      if (role === 'judge' && userId === challengedUserId) {\r\n        message = `${challengerUserNickname} challenged you to a battle.\\nWARNING: You can not judge a battle you were challenged in.`;\r\n        return handleOpenAlert(message, false);\r\n      }\r\n\r\n      if (role === 'judge' && userId === challengerUserId) {\r\n        message = `You challenged ${challengedUserNickname} to a battle.\\nWARNING: You can not judge a battle you challenged someone in.`;\r\n        return handleOpenAlert(message, false);\r\n      }\r\n\r\n      if (role === 'contestant' && userId !== challengerUserId && userId !== challengedUserId) {\r\n        message = `Follow this battle to be notified when ${challengedUserNickname} accepts the challenge.\\nWARNING: You cannot join a battle where someone else is challenged.`;\r\n        return handleOpenAlert(message, false);\r\n      }\r\n    }\r\n\r\n    if (isUserContestant || isUserJudge) {\r\n      if ((role === 'judge' && isUserContestant) || (role === 'contestant' && isUserJudge)) {\r\n        message = `You are already a ${isUserContestant ? 'contestant' : 'judge'} in this battle. You need to leave that role before can join another one.\\nWARNING: Leaving a battle after it has started will result in a penalty.`;\r\n        return handleOpenAlert(message);\r\n      }\r\n\r\n      if (battleStatus === 'scoring' || battleStatus === 'closed') {\r\n        message = 'This battle has ended.\\nWARNING: You cannot leave a battle that is over.';\r\n        return handleOpenAlert(message, false);\r\n      }\r\n\r\n      if (isUserContestant && battleStatus === 'round') {\r\n        message = 'You can not leave a battle after it has started. To leave this battle you will have to concede to your opponent.\\nWARNING: Conceding will cause you to lose this battle, and you will receive battle reputation and battle score penalties.';\r\n\r\n        return handleOpenAlert(message, false);\r\n      }\r\n\r\n      message = 'Are you sure you want to leave this battle?\\nWARNING: Leaving a battle after it has started will result in a penalty.';\r\n\r\n      const confirmButtonProps = {\r\n        'data-role': role,\r\n        'data-seat-number': seatNumber,\r\n      };\r\n\r\n      return handleOpenAlert(message, true, confirmButtonProps, handleJoinLeaveBattle);\r\n    }\r\n\r\n    if (battleStatus === 'closed') {\r\n      message = 'This battle has ended.\\nWARNING: You cannot join a batttle that is over.';\r\n      return handleOpenAlert(message, false);\r\n    }\r\n\r\n    if (role === 'contestant' && battleStatus !== 'staging') {\r\n      message = 'This battle has already started or has ended\\nWARNING: You can only join a battle as a contestant during the staging round.';\r\n      return handleOpenAlert(message, false);\r\n    }\r\n\r\n    handleJoinLeaveBattle(event);\r\n  };\r\n\r\n  const judgeComponents = judges.map((judge, index) => (\r\n    <ListGroupItem\r\n      key={judge.id ? judge.id : index}\r\n      className={`py-0 px-2 rounded-0 bg-darkest list-group-item-darker judge-panel-item same-flex-width ${index === 1 ? 'border-bottom-0 border-top-0 border-left border-right border-darker' : 'border-0'}`}\r\n    >\r\n      {judge.id ? (\r\n        <UsernamePopover\r\n          id={`judge-seat-${judge.participant_number}`}\r\n          userId={userId}\r\n          labelText={judge.User.nickname}\r\n          profile={judge.User.Profile}\r\n          userProfileUrl={`/profile/${judge.user_id}`}\r\n          buttonClassName=\"w-100 h-100 text-secondary text-truncate text-sm\"\r\n        />\r\n      ) : (\r\n        <Button\r\n          color=\"link\"\r\n          tag=\"button\"\r\n          data-role=\"judge\"\r\n          data-seat-number={index + 1}\r\n          onClick={handleJoinLeaveBattleClick}\r\n          className=\"w-100 h-100 text-secondary text-truncate text-sm text-decoration-none\"\r\n        >\r\n          JUDGE IT!\r\n        </Button>\r\n      )}\r\n    </ListGroupItem>\r\n  ));\r\n\r\n  const [isJudgePanelOpen, setIsJudgePanelOpen] = useState(false);\r\n  const toggleIsJudgePanelOpen = () => setIsJudgePanelOpen(!isJudgePanelOpen);\r\n\r\n  return (\r\n    <div>\r\n      <DynamicHeader\r\n        titleText={battleType}\r\n        subheadingText={[roundInfoText]}\r\n        isContentCollapsible={true}\r\n      >\r\n        <div className=\"flex-fill d-flex align-items-end\">\r\n          <div className=\"flex-fill\">\r\n            <Rating\r\n              fractions={2}\r\n              emptySymbol={<FontAwesomeIcon fixedWidth icon={farStar} size=\"lg\" />}\r\n              fullSymbol={<FontAwesomeIcon fixedWidth icon={faStar} size=\"lg\" />}\r\n              placeholderSymbol={<FontAwesomeIcon fixedWidth icon={farStar} size=\"lg\" />}\r\n              initialRating={userBattleRatingValue}\r\n              onChange={handleBattleRatingOnChange}\r\n              className={`d-flex justify-content-center ${getRatingColor(userBattleRatingValue)}`}\r\n            />\r\n            <p className=\"d-block mb-0\">\r\n              {battleRatingContent()}\r\n            </p>\r\n          </div>\r\n\r\n          <JoinEventHeaderButtons\r\n            judgingType={judgingType}\r\n            isUserJudge={isUserJudge}\r\n            isUserContestant={isUserContestant}\r\n            isUserFollowing={isUserFollowing}\r\n            handleJoinLeaveOnClick={handleJoinLeaveBattleClick}\r\n            handleFollowOnClick={handleFollowBattle}\r\n            handleUnfollowOnClick={handleUnfollowBattle}\r\n          />\r\n\r\n          <div className=\"d-none d-sm-block\">\r\n            <p id=\"comments-count\" className=\"d-flex justify-content-around m-0\">\r\n              <span className=\"mx-1 text-sm\">\r\n                {commentsCount}\r\n              </span>\r\n              <FontAwesomeIcon fixedWidth icon={faComments} />\r\n              <CustomTooltip targetId=\"comments-count\">\r\n                {`${commentsCount} comment(s)`}\r\n              </CustomTooltip>\r\n            </p>\r\n            <p id=\"audience-count\" className=\"d-flex justify-content-around m-0\">\r\n              <span className=\"mx-1 text-sm\">\r\n                {audienceCount}\r\n              </span>\r\n              <FontAwesomeIcon fixedWidth icon={faUsers} />\r\n              <CustomTooltip targetId=\"audience-count\">\r\n                {`${audienceCount} audience member(s)`}\r\n              </CustomTooltip>\r\n            </p>\r\n            <p id=\"followers-count\" className=\"d-flex justify-content-around m-0\">\r\n              <span className=\"mx-1 text-sm\">\r\n                {`${followersCount}`}\r\n              </span>\r\n              <FontAwesomeIcon fixedWidth icon={faUserCheck} />\r\n              <CustomTooltip targetId=\"followers-count\">\r\n                {`${followersCount} follower(s)`}\r\n              </CustomTooltip>\r\n            </p>\r\n          </div>\r\n        </div>\r\n      </DynamicHeader>\r\n\r\n      {judgingType === 'judges' && (\r\n        <div className=\"d-flex bg-darkest-90\">\r\n          <Button\r\n            outline\r\n            onClick={toggleIsJudgePanelOpen}\r\n            className=\"btn-outline-primary p-1 border-0 rounded-0 text-primary outline-none\"\r\n          >\r\n            {window.screen.width >= 576 ? (\r\n              <span className={isJudgePanelOpen ? 'vertical-text' : ''}>\r\n                Judges\r\n              </span>\r\n            ) : (\r\n              <FontAwesomeIcon\r\n                fixedWidth\r\n                icon={isJudgePanelOpen ? faChevronDown : faChevronRight}\r\n              />\r\n            )}\r\n          </Button>\r\n\r\n          <div className=\"flex-fill d-flex flex-sm-column border-left border-primary\">\r\n            {!isJudgePanelOpen && (\r\n              <ListGroup className={`list-group-horizontal justify-content-around justify-content-sm-start ${!isJudgePanelOpen ? 'flex-fill' : ''}`}>\r\n                {judgeComponents}\r\n              </ListGroup>\r\n            )}\r\n\r\n            <Collapse isOpen={isJudgePanelOpen} className=\"flex-fill\">\r\n              <ScoreCardBreakdown\r\n                roundCount={roundCount}\r\n                rounds={rounds}\r\n                resultCards={resultCards}\r\n                judges={judges}\r\n                isJudgePanelOpen={isJudgePanelOpen}\r\n                judgesListGroup={(\r\n                  <ListGroup className={`list-group-horizontal-sm justify-content-around justify-content-sm-start ${!isJudgePanelOpen ? 'flex-fill' : ''}`}>\r\n                    {judgeComponents}\r\n                  </ListGroup>\r\n                )}\r\n              />\r\n            </Collapse>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n\r\n    </div>\r\n  );\r\n}\r\n","import React, { Fragment } from 'react';\r\n\r\n// Bootstrap components.\r\nimport { ListGroupItem, Button, ListGroupItemText } from 'reactstrap';\r\n\r\n// Font Awesome icons.\r\nimport { faPlay } from '@fortawesome/free-solid-svg-icons';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\n\r\nexport default function VideoListItem({\r\n  videoId, title, handleVideoItemClick,\r\n}) {\r\n  return (\r\n    <ListGroupItem\r\n      data-video-id={videoId}\r\n      onClick={handleVideoItemClick}\r\n      className=\"d-flex bg-darkest-75 px-1 py-0 profile-video-item\"\r\n    >\r\n      <ListGroupItemText className=\"flex-fill mb-0 text-truncate no-pointer-events text-left\">\r\n        {title}\r\n      </ListGroupItemText>\r\n      <Fragment>\r\n        <Button\r\n          outline\r\n          size=\"sm\"\r\n          onClick={null}\r\n          className=\"rounded-0 btn-darkest no-pointer-events profile-play-button\"\r\n        >\r\n          <FontAwesomeIcon icon={faPlay} className=\"no-pointer-events\"/>\r\n        </Button>\r\n      </Fragment>\r\n    </ListGroupItem>\r\n  );\r\n}\r\n","import React from 'react';\r\n\r\n// Bootstrap components.\r\nimport {\r\n  Input, InputGroup, InputGroupAddon, DropdownMenu,\r\n  UncontrolledButtonDropdown, DropdownToggle,\r\n  DropdownItem, ListGroupItemText\r\n} from 'reactstrap';\r\n\r\n// Font Awesome icons.\r\nimport { faPlus, faCheck } from '@fortawesome/free-solid-svg-icons';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\n\r\nexport default function AddVideoButtonDropdown({\r\n  youtubeIcon, handleAddVideoSubmit,\r\n}) {\r\n  return (\r\n    <UncontrolledButtonDropdown\r\n      id=\"add-video-dropdown\"\r\n      direction=\"up\"\r\n      className=\"flex-fill\"\r\n    >\r\n      <DropdownToggle\r\n        outline\r\n        block\r\n        size=\"sm\"\r\n        className=\"btn-outline-primary py-1 rounded-0\"\r\n      >\r\n        <FontAwesomeIcon\r\n          icon={faPlus}\r\n          size=\"lg\"\r\n          className=\"no-pointer-events\"\r\n        />\r\n      </DropdownToggle>\r\n      <DropdownMenu\r\n        flip={false}\r\n        className=\"rounded-0 bg-darkest w-100 text-center p-0 border-bottom-0 profile-add-video-menu\"\r\n      >\r\n        <DropdownItem\r\n          header\r\n          tag=\"h4\"\r\n          className=\"d-flex justify-content-between align-items-center font-weight-bolder p-0\"\r\n        >\r\n          <ListGroupItemText className=\"flex-fill mb-0 text-capitalize\">\r\n            add video\r\n          </ListGroupItemText>\r\n          <img\r\n            style={{ width: '32px', height: '32px' }}\r\n            src={youtubeIcon}\r\n            alt=\"Youtube branding\"\r\n          />\r\n        </DropdownItem>\r\n        <InputGroup>\r\n          <Input\r\n            bsSize=\"sm\"\r\n            id=\"video-id\"\r\n            placeholder=\"Youtube&trade; video ID or URL\"\r\n            className=\"form-control bg-dark-75 rounded-0 border-0 font-italic\"\r\n          />\r\n          <InputGroupAddon\r\n            tag=\"button\"\r\n            addonType=\"append\"\r\n            onClick={handleAddVideoSubmit}\r\n            className=\"btn-outline-primary btn-sm bg-transparent rounded-0\"\r\n          >\r\n            <FontAwesomeIcon\r\n              icon={faCheck}\r\n              className=\"no-pointer-events\"\r\n            />\r\n          </InputGroupAddon>\r\n        </InputGroup>\r\n      </DropdownMenu>\r\n    </UncontrolledButtonDropdown>\r\n  );\r\n}\r\n","import VideoListItem from './VideoListItem';\r\nimport AddVideoButtonDropDown from './AddVideoButtonDropdown';\r\n\r\nexport {\r\n  VideoListItem, AddVideoButtonDropDown\r\n};\r\n\r\nexport default {\r\n  VideoListItem, AddVideoButtonDropDown\r\n};\r\n","import React, { Component } from 'react';\r\n\r\n// Bootstrap components.\r\nimport {\r\n  Button, ListGroup, ListGroupItem, ButtonGroup,\r\n  Container, ListGroupItemHeading, ListGroupItemText\r\n} from 'reactstrap';\r\n\r\n// Font Awesome icons.\r\nimport { faTrashAlt } from '@fortawesome/free-solid-svg-icons';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\n\r\n// Custom components.\r\nimport {\r\n  VideoListItem, AddVideoButtonDropDown,\r\n} from './subcomponents';\r\n\r\n// Utilities, helper functions, and other assets.\r\nimport youtubeIcon from './youtube_social_square_red.png';\r\nimport {\r\n  CLASS_METHOD_NAMES,\r\n  DEFAULT_PROFILE_VIDEO_LIST_DATA,\r\n  DEFAULT_PROFILE_OWNER_VIDEO_LIST_DATA,\r\n} from '../../utils/constants';\r\n\r\nconst { VIDEO_LIST_NAMES } = CLASS_METHOD_NAMES.PROFILE_METHOD_NAMES;\r\n\r\nexport default class VideoList extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      isBeingEdited: false,\r\n      markedRemoveVideos: []\r\n    };\r\n\r\n    // Bind class methods.\r\n    for (let i = 0; i < VIDEO_LIST_NAMES.length; i++) {\r\n      const methodName = VIDEO_LIST_NAMES[i];\r\n      this[methodName] = this[methodName].bind(this);\r\n    }\r\n  }\r\n\r\n  handleAddVideoSubmit() {\r\n    const videoId = document.getElementById('video-id').value.trim();\r\n    if (!videoId) return;\r\n    this.props.handleAddVideo(videoId);\r\n  }\r\n\r\n  handleRemoveVideoClick() {\r\n    const { isBeingEdited, markedRemoveVideos } = this.state;\r\n    const { handleRemoveVideos } = this.props;\r\n\r\n    if (isBeingEdited) {\r\n      handleRemoveVideos(markedRemoveVideos);\r\n    }\r\n\r\n    this.setState(({ isBeingEdited: prevIsBeingEdited }) => ({\r\n      isBeingEdited: !prevIsBeingEdited,\r\n      markedRemoveVideos: []\r\n    }));\r\n  }\r\n\r\n  handleVideoItemClick({ target: clickedItem }) {\r\n    const { isBeingEdited, markedRemoveVideos } = this.state;\r\n    const { handleChangeVideo } = this.props;\r\n    const videoId = clickedItem.getAttribute('data-video-id');\r\n\r\n    // Show the video.\r\n    if (!isBeingEdited) {\r\n      return handleChangeVideo(videoId);\r\n    }\r\n\r\n    // Add or remove the video to/from the videos to be removed.\r\n    const videoIndex = markedRemoveVideos.indexOf(videoId);\r\n    if (videoIndex >= 0) {\r\n      markedRemoveVideos.splice(videoIndex, 1);\r\n    } else {\r\n      markedRemoveVideos.push(videoId);\r\n    }\r\n\r\n    clickedItem.classList.toggle('mark-video-remove');\r\n\r\n    this.setState(() => ({ markedRemoveVideos }));\r\n  }\r\n\r\n  render() {\r\n    const { isBeingEdited } = this.state;\r\n    const { videos, defaultVideoId, isUserProfileOwner } = this.props;\r\n\r\n    const defaultVideoListData = isUserProfileOwner ? DEFAULT_PROFILE_OWNER_VIDEO_LIST_DATA : DEFAULT_PROFILE_VIDEO_LIST_DATA;\r\n\r\n    const videoListItemComponents = videos.map(({ id, video_id, title }) => (\r\n      <VideoListItem\r\n        key={id}\r\n        videoId={video_id}\r\n        title={title}\r\n        handleVideoItemClick={this.handleVideoItemClick}\r\n      />\r\n    ));\r\n\r\n    return (\r\n      <Container\r\n        fluid\r\n        className={`order-1 order-md-0 border-right p-0 border-darker bg-darkest-75 video-list overflow-auto scroll-box ${isBeingEdited ? 'edit' : 'border-darker'}`}\r\n      >\r\n        <ListGroup flush className=\"h-100 video-list-group\">\r\n          {!videos.length && (\r\n            <ListGroupItem\r\n              key={0}\r\n              data-video-id={defaultVideoId}\r\n              onClick={this.handleVideoItemClick}\r\n              className=\"flex-fill bg-darkest-75 mb-0 profile-video-item\"\r\n            >\r\n              <ListGroupItemHeading>\r\n                {defaultVideoListData.headingText}\r\n              </ListGroupItemHeading>\r\n              <ListGroupItemText>\r\n                {defaultVideoListData.bodyText}\r\n              </ListGroupItemText>\r\n            </ListGroupItem>\r\n          )}\r\n\r\n          {videoListItemComponents}\r\n\r\n          {isUserProfileOwner && (\r\n            <ListGroupItem style={{ zIndex: 1029 }} className=\"mt-auto bg-darkest-90 p-0\">\r\n              <ButtonGroup className=\"w-100\">\r\n                <AddVideoButtonDropDown\r\n                  youtubeIcon={youtubeIcon}\r\n                  handleAddVideoSubmit={this.handleAddVideoSubmit}\r\n                />\r\n                <Button\r\n                  outline\r\n                  size=\"sm\"\r\n                  color=\"dark\"\r\n                  onClick={this.handleRemoveVideoClick}\r\n                  className=\"flex-grow-0 px-5 px-md-3 bg-transparent border-0 rounded-0 remove-button\"\r\n                >\r\n                  <FontAwesomeIcon\r\n                    icon={faTrashAlt}\r\n                    className=\"no-pointer-events\"\r\n                  />\r\n                </Button>\r\n              </ButtonGroup>\r\n            </ListGroupItem>\r\n          )}\r\n        </ListGroup>\r\n      </Container>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from 'react';\r\n\r\n// Components.\r\nimport { Container } from 'reactstrap';\r\nimport YouTube from 'react-youtube';\r\nimport { PageContext } from '../../utils/context/pageContext';\r\nimport { VideoList } from '../';\r\n\r\n// API utilities, helper functions, and other assets.\r\nimport { API_UTILS, CONSTANTS, HELPERS } from '../../utils/';\r\n\r\nconst { PROFILE_UTILS, YOUTUBE_UTILS } = API_UTILS;\r\nconst { MAIN_HELPER, VERSE_HELPER } = HELPERS;\r\nconst {\r\n  YOUTUBE_OPTIONS_PROFILE,\r\n  DEFAULT_PROFILE_YOUTUBE_ID,\r\n  MESSAGE_PROFILE_VIDEO_EXISTS,\r\n  MESSAGE_INVALID_INPUT_CHARACTERS,\r\n} = CONSTANTS;\r\nconst { PROFILE_TOP_CONTENT_NAMES } = CONSTANTS.CLASS_METHOD_NAMES.PROFILE_METHOD_NAMES;\r\n\r\nexport default class ProfileTopContent extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      defaultVideoId: DEFAULT_PROFILE_YOUTUBE_ID,\r\n      videoId: undefined,\r\n      videos: []\r\n    };\r\n\r\n    // Bind class methods.\r\n    for (let i = 0; i < PROFILE_TOP_CONTENT_NAMES.length; i++) {\r\n      const methodName = PROFILE_TOP_CONTENT_NAMES[i];\r\n      this[methodName] = this[methodName].bind(this);\r\n    }\r\n  }\r\n\r\n  handleChangeVideo(videoId) {\r\n    this.setState(prevState => (\r\n      (videoId !== prevState.videoId) ? { videoId } : null\r\n    ));\r\n  }\r\n\r\n  handleAddVideo(videoURL) {\r\n    const { videos: stateVideos, videoId: stateVideoId } = this.state;\r\n    const {\r\n      profileId, getAxiosOptions,\r\n    } = this.props;\r\n\r\n    const newVideoId = VERSE_HELPER.getYouTubeId(videoURL);\r\n    const isTextValid = MAIN_HELPER.isTextValid(videoURL);\r\n    const isVideoInList = MAIN_HELPER.isVideoInList(stateVideos, newVideoId);\r\n\r\n    const { masterData: { handleOpenAlert } } = this.context;\r\n    if (!isTextValid || isVideoInList) {\r\n      const message = isTextValid ? MESSAGE_PROFILE_VIDEO_EXISTS : MESSAGE_INVALID_INPUT_CHARACTERS;\r\n      return handleOpenAlert(message, false);\r\n    }\r\n\r\n    const axiosOptions = getAxiosOptions();\r\n    YOUTUBE_UTILS.validateId(newVideoId, axiosOptions)\r\n      .then(({ data: youtubeData }) => {\r\n        const profileVideo = {\r\n          title: youtubeData.title,\r\n          video_id: newVideoId,\r\n          profile_id: profileId\r\n        };\r\n        return PROFILE_UTILS.createProfileVideo(profileVideo, axiosOptions);\r\n      })\r\n      .then(({ data: video }) => {\r\n        const videos = stateVideos.concat([video]);\r\n        const videoId = videos.length ? videos[0].video_id : stateVideoId;\r\n        this.setState(() => ({ videos, videoId }));\r\n      })\r\n      .catch(({ response }) => handleOpenAlert(response.data, false));\r\n  }\r\n\r\n  handleRemoveVideos(videoIds) {\r\n    const { profileId, handleAsyncError, getAxiosOptions } = this.props;\r\n\r\n    const axiosOptions = getAxiosOptions();\r\n    axiosOptions.data = { videoIds };\r\n\r\n    PROFILE_UTILS.deleteProfileVideos(profileId, axiosOptions)\r\n      .then(() => {\r\n        const { videos: stateVideos, defaultVideoId } = this.state;\r\n\r\n        const videos = stateVideos.filter(({ video_id: videoId }) => (\r\n          !videoIds.includes(videoId)\r\n        ));\r\n\r\n        const firstVideo = videos[0];\r\n        const videoId = firstVideo ? firstVideo.video_id : defaultVideoId;\r\n        this.setState(() => ({ videos, videoId }));\r\n      })\r\n      .catch(handleAsyncError);\r\n  }\r\n\r\n  componentDidMount() {\r\n    const { profileId, handleAsyncError, getAxiosOptions } = this.props;\r\n    const axiosOptions = getAxiosOptions();\r\n    PROFILE_UTILS.getProfileVideos(profileId, axiosOptions)\r\n      .then(({ data: videos }) => {\r\n        const [firstVideo] = videos;\r\n        const videoId = videos.length ? firstVideo.video_id : undefined;\r\n        this.setState(() => ({ videos, videoId }));\r\n      })\r\n      .catch(handleAsyncError);\r\n  }\r\n\r\n  render() {\r\n    const { defaultVideoId, videoId, videos } = this.state;\r\n    const { isUserProfileOwner } = this.props;\r\n\r\n    return (\r\n      <Container fluid className=\"d-flex flex-column flex-md-row p-0 my-5 my-md-0\">\r\n        <VideoList\r\n          videos={videos}\r\n          defaultVideoId={defaultVideoId}\r\n          isUserProfileOwner={isUserProfileOwner}\r\n          handleChangeVideo={this.handleChangeVideo}\r\n          handleAddVideo={this.handleAddVideo}\r\n          handleRemoveVideos={this.handleRemoveVideos}\r\n        />\r\n        <YouTube\r\n          videoId={videoId ? videoId : defaultVideoId}\r\n          opts={YOUTUBE_OPTIONS_PROFILE}\r\n          onReady={(event) => event.target.pauseVideo()}\r\n          className=\"w-100 h-100 youtube-player\"\r\n          containerClassName=\"flex-fill order-0 order-md-1 youtube-container\"\r\n        />\r\n      </Container>\r\n    );\r\n  }\r\n}\r\n\r\nProfileTopContent.contextType = PageContext;\r\n","import React, { Component } from 'react';\r\n\r\n// Components.\r\nimport { Container } from 'reactstrap';\r\nimport { PageContext } from '../../utils/context/pageContext';\r\nimport {\r\n  ProfileActionHeader, RelationshipTabs, BattleListTabs,\r\n} from '../';\r\n\r\n// Styles, utils, and other helpers.\r\nimport { API_UTILS, CONSTANTS, HELPERS } from '../../utils';\r\nconst { PARTICIPANT_UTILS, BATTLE_REQUEST_UTILS } = API_UTILS;\r\nconst {\r\n  CLASS_METHOD_NAMES,\r\n  PROFILE_BATTLE_ITEMS,\r\n  MESSAGE_REMOVE_FRIEND,\r\n  MESSAGE_CANCEL_FRIEND_REQUEST,\r\n} = CONSTANTS;\r\nconst { PROFILE_METHOD_NAMES } = CLASS_METHOD_NAMES;\r\nconst { PROFILE_BOTTOM_CONTENT_NAMES } = PROFILE_METHOD_NAMES;\r\nconst { BATTLE_HELPER, MAIN_HELPER } = HELPERS;\r\n\r\nexport default class ProfileBottomContent extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      currentBattles: [],\r\n      pendingBattles: [],\r\n      requestedBattles: [],\r\n      historyBattles: [],\r\n      selectedBattleId: undefined,\r\n    };\r\n\r\n    // Bind class methods.\r\n    for (let i = 0; i < PROFILE_BOTTOM_CONTENT_NAMES.length; i++) {\r\n      const methodName = PROFILE_BOTTOM_CONTENT_NAMES[i];\r\n      this[methodName] = this[methodName].bind(this);\r\n    }\r\n  }\r\n\r\n  handleSortBattleList(sortField) {\r\n    if (sortField === -1) return;\r\n    const { currentBattles: stateCurrentBattles } = this.state;\r\n    const currentBattles = MAIN_HELPER.sortBattles(stateCurrentBattles, sortField);\r\n    this.setState(() => ({ currentBattles }));\r\n  }\r\n\r\n  handleRelationshipOnClick() {\r\n    const {\r\n      handleRelationshipOnClick,\r\n      relationshipData: {\r\n        isUserFriend, isPendingFriendRequest, isUserFriendRequestor,\r\n      }\r\n    } = this.props;\r\n\r\n    if (isUserFriend || (isPendingFriendRequest && isUserFriendRequestor)) {\r\n      const message = isPendingFriendRequest ? (\r\n        MESSAGE_CANCEL_FRIEND_REQUEST\r\n      ) : MESSAGE_REMOVE_FRIEND;\r\n\r\n      const { masterData: {\r\n        handleOpenAlert, handleCloseAlert,\r\n      } } = this.context;\r\n      return handleOpenAlert(message, true, null, () => {\r\n        handleCloseAlert();\r\n        handleRelationshipOnClick();\r\n      });\r\n    }\r\n\r\n    handleRelationshipOnClick();\r\n  }\r\n\r\n  componentDidMount() {\r\n    const {\r\n      profileUserId, getAxiosOptions, handleAsyncError\r\n    } = this.props;\r\n    const axiosOptions = getAxiosOptions();\r\n\r\n    const apiRequests = [\r\n      PARTICIPANT_UTILS.getAllUser(profileUserId, axiosOptions),\r\n      BATTLE_REQUEST_UTILS.getAllUser(profileUserId, axiosOptions),\r\n    ];\r\n\r\n    Promise.all(apiRequests)\r\n      .then(([{ data: userBattlesData }, { data: requestedBattles }]) => {\r\n        const filteredUserBattles = userBattlesData.filter(userBattle => userBattle.Role.definition === 'contestant');\r\n\r\n        const battles = filteredUserBattles.map(userBattle => userBattle.Battle);\r\n        const battlesData = BATTLE_HELPER.getBattleListData(battles);\r\n\r\n        this.setState(() => ({\r\n          ...battlesData,\r\n          requestedBattles,\r\n        }));\r\n      })\r\n      .catch(handleAsyncError);\r\n  }\r\n\r\n  render() {\r\n    const { selectedBattleId } = this.state;\r\n\r\n    const {\r\n      profileUserId, isUserProfileOwner, relationshipData,\r\n    } = this.props;\r\n\r\n    const battlesData = PROFILE_BATTLE_ITEMS.map(item => ({\r\n      ...item,\r\n      battles: this.state[item.stateProperty]\r\n    }));\r\n\r\n    return (\r\n      <Container fluid className=\"d-flex flex-column flex-sm-row p-0 border-top border-primary mh-400-px\">\r\n        <div className=\"bg-darkest border-right border-primary community-panel\">\r\n          <RelationshipTabs\r\n            activeTab={0}\r\n            isUserProfileOwner={isUserProfileOwner}\r\n            profileUserId={profileUserId}\r\n          />\r\n\r\n        </div>\r\n\r\n        <div className=\"flex-fill position-relative\">\r\n          <ProfileActionHeader\r\n            isUserProfileOwner={isUserProfileOwner}\r\n            relationshipData={relationshipData}\r\n            handleRelationshipOnClick={this.handleRelationshipOnClick}\r\n          />\r\n\r\n          <div className=\"position-absolute w-100 overflow-auto profile-battle-list\">\r\n            <BattleListTabs\r\n              battlesData={battlesData}\r\n              selectedBattleId={selectedBattleId}\r\n              handleSortBattleList={this.handleSortBattleList}\r\n              handleBattleItemOnClick={this.handleBattleItemOnClick}\r\n            />\r\n          </div>\r\n        </div>\r\n      </Container>\r\n    );\r\n  }\r\n}\r\n\r\nProfileBottomContent.contextType = PageContext;\r\n","import React from 'react';\r\n\r\n// Components.\r\nimport { Button } from 'reactstrap';\r\n\r\n// Font Awesome Icons.\r\nimport { faTrashAlt } from '@fortawesome/free-solid-svg-icons';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\n\r\nexport default function UploadHeader({\r\n  isDeleteButtonDisabled,\r\n  handlePhotoUploadOpen,\r\n  handleRemovePhoto,\r\n}) {\r\n  return (\r\n    <div className=\"pb-2 text-right\">\r\n      <Button\r\n        outline\r\n        color=\"success\"\r\n        size=\"sm\"\r\n        onClick={handlePhotoUploadOpen}\r\n        className=\"rounded-pill text-capitalize\"\r\n      >\r\n        add photo\r\n      </Button>\r\n      <Button\r\n        outline\r\n        color=\"transparent\"\r\n        disabled={isDeleteButtonDisabled}\r\n        onClick={handleRemovePhoto}\r\n        className=\"rounded-circle border-0 text-darkest remove-button\"\r\n      >\r\n        <FontAwesomeIcon\r\n          fixedWidth\r\n          icon={faTrashAlt}\r\n          className=\"no-pointer-events\"\r\n        />\r\n      </Button>\r\n    </div>\r\n  );\r\n}\r\n","import React from 'react';\r\n\r\n// Components.\r\nimport { Button } from 'reactstrap';\r\nimport { faTimes } from '@fortawesome/free-solid-svg-icons';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\n\r\nexport default function UploadDropArea({\r\n  thumbnailUrl, isThumbnailDefault, isDelete, rootProps,\r\n  inputProps, handleRemovePhoto\r\n}) {\r\n  return (\r\n    <div\r\n      { ...rootProps }\r\n      className=\"dropzone DropZone flex-fill d-flex justify-content-around align-items-center py-2 border-darkest overflow-hidden\"\r\n      style={{ height: '250px' }}\r\n    >\r\n      <input {...inputProps} />\r\n      {(!isThumbnailDefault && !isDelete) ? (\r\n        <div className=\"position-relative\">\r\n          <img\r\n            src={thumbnailUrl}\r\n            alt=\"selected profile\"\r\n            style={{ maxHeight: '200px' }}\r\n            className=\"d-block img-fluid\"\r\n          />\r\n          <Button\r\n            close\r\n            onClick={handleRemovePhoto}\r\n            style={{ top: '-5px', right: '-25px' }}\r\n            className=\"position-absolute text-danger close\"\r\n          >\r\n            <FontAwesomeIcon icon={faTimes} />\r\n          </Button>\r\n        </div>\r\n      ) : (\r\n        <p className=\"m-0 text-xxl\">\r\n          Click Or Drag-N-Drop\r\n        </p>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","import UploadHeader from './UploadHeader';\r\nimport UploadDropArea from './UploadDropArea';\r\n\r\nexport {\r\n  UploadHeader,\r\n  UploadDropArea,\r\n};\r\n\r\nexport default {\r\n  UploadHeader,\r\n  UploadDropArea,\r\n};\r\n","import React, { Component, createRef } from 'react';\r\n\r\n// File upload component.\r\nimport Dropzone from 'react-dropzone';\r\nimport 'react-drop-zone/dist/styles.css';\r\n\r\n// Components.\r\nimport { Container } from 'reactstrap';\r\nimport { MainModal } from '../';\r\nimport { UploadHeader, UploadDropArea } from './subcomponents';\r\n\r\n// Styles, utils, and other helpers.\r\nimport { DEFAULT_PROFILE_PHOTO_URL, } from '../../utils/constants';\r\nimport { PROFILE_PHOTO_NAMES } from '../../utils/constants/classMethodNames/profile';\r\n\r\nexport default class ProfilePhoto extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      files: [],\r\n      isDelete: false,\r\n    };\r\n\r\n    // Class variables.\r\n    this.dropzoneRef = createRef();\r\n\r\n    // Bind class methods.\r\n    for (let i = 0; i < PROFILE_PHOTO_NAMES.length; i++) {\r\n      const methodName = PROFILE_PHOTO_NAMES[i];\r\n      this[methodName] = this[methodName].bind(this);\r\n    }\r\n  }\r\n\r\n  handlePhotoUploadOpen() {\r\n    const { current: dropzoneRefCurrent } = this.dropzoneRef;\r\n    if (dropzoneRefCurrent) dropzoneRefCurrent.open();\r\n  }\r\n\r\n  handlePhotoDrop(acceptedFiles) {\r\n    const files = acceptedFiles.map((file) => Object.assign(file, {\r\n      preview: URL.createObjectURL(file)\r\n    }));\r\n    this.setState(() => ({ files }));\r\n  }\r\n\r\n  handleRemovePhoto(event) {\r\n    event.stopPropagation();\r\n    const { profilePhoto } = this.props;\r\n    this.setState(() => ({\r\n      files: [],\r\n      isDelete: profilePhoto !== DEFAULT_PROFILE_PHOTO_URL\r\n    }));\r\n  }\r\n\r\n  handleCloseModal() {\r\n    this.setState(() => ({ isDelete: false }));\r\n  }\r\n\r\n  render() {\r\n    const { files, isDelete } = this.state;\r\n    const {\r\n      profilePhoto, isUserProfileOwner, handleUploadPhoto, handleRemovePhoto\r\n    } = this.props;\r\n    const isDefaultPhotoUrl = profilePhoto === DEFAULT_PROFILE_PHOTO_URL;\r\n    const thumbnailUrl = files[0] ? files[0].preview : profilePhoto;\r\n    const handleModalSubmitRemove = isDelete ? handleRemovePhoto : () => null;\r\n\r\n    const profileImageComponent = (\r\n      <img\r\n        src={profilePhoto}\r\n        alt=\"user\"\r\n        className=\"w-100 h-100\"\r\n      />\r\n    );\r\n\r\n    return (\r\n      <Container className=\"flex-fill px-0 profile-photo-container\">\r\n        {isUserProfileOwner ? (\r\n          <MainModal\r\n            headerText=\"Profile Photo\"\r\n            isSubmitDisabled={false}\r\n            closeButtonText=\"Cancel\"\r\n            toggleButtonContent={profileImageComponent}\r\n            toggleButtonProps={{ className: 'img-fluid w-100 h-100 border-0 rounded-0 p-0' }}\r\n            handleSubmit={(event) => files.length ? handleUploadPhoto(files[0]) : handleModalSubmitRemove(event)}\r\n            handleClose={this.handleCloseModal}\r\n            bodyClassName=\"d-flex flex-column flex-fill\"\r\n          >\r\n            <UploadHeader\r\n              isDeleteButtonDisabled={!isDefaultPhotoUrl || files.length ? false : true}\r\n              handlePhotoUploadOpen={this.handlePhotoUploadOpen}\r\n              handleRemovePhoto={this.handleRemovePhoto}\r\n            />\r\n\r\n            <Dropzone\r\n              noKeyboard\r\n              accept={['image/jpeg', 'image/png']}\r\n              multiple={false}\r\n              maxSize={8000000}\r\n              ref={this.dropzoneRef}\r\n              onDrop={this.handlePhotoDrop}\r\n            >\r\n              {({ getRootProps, getInputProps }) => (\r\n                <UploadDropArea\r\n                  thumbnailUrl={thumbnailUrl}\r\n                  isThumbnailDefault={thumbnailUrl === DEFAULT_PROFILE_PHOTO_URL}\r\n                  isDelete={isDelete}\r\n                  rootProps={getRootProps()}\r\n                  inputProps={getInputProps()}\r\n                  handleRemovePhoto={this.handleRemovePhoto}\r\n                />\r\n              )}\r\n            </Dropzone>\r\n          </MainModal>\r\n        ) : (\r\n          profileImageComponent\r\n        )}\r\n      </Container>\r\n    );\r\n  }\r\n}\r\n","import React from 'react';\r\n\r\n// Bootstrap components.\r\nimport {\r\n  Button, Input, InputGroup, InputGroupAddon,\r\n} from 'reactstrap';\r\n\r\n// Font Awesome icons.\r\nimport { faTrashAlt } from '@fortawesome/free-solid-svg-icons';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\n\r\n// Custom components.\r\nimport { MainModal } from '../../';\r\nimport { SocialsToggleContent } from './';\r\n\r\nexport default function SocialSitesModal({\r\n  approvedSocialSites, profileSocialSites, icons,\r\n  handleRemoveSiteClick, handleUpdateSocialLinks,\r\n}) {\r\n  const ToggleButtonContent = (\r\n    <SocialsToggleContent isLabelDisplayed={!profileSocialSites.length} />\r\n  );\r\n  return (\r\n    <MainModal\r\n      headerText=\"Profile Social Links\"\r\n      toggleButtonProps={{ color: 'link', block: false, className: 'p-0 border-0 rounded-0' }}\r\n      isSubmitDisabled={false}\r\n      toggleButtonContent={ToggleButtonContent}\r\n      handleSubmit={handleUpdateSocialLinks}\r\n      bodyClassName=\"d-flex flex-column\"\r\n    >\r\n      <div className=\"d-flex flex-column\">\r\n        {approvedSocialSites.map((approvedSite, index) => {\r\n          const linkedProfileSite = profileSocialSites.filter(profileSite => (\r\n            profileSite.SocialSite.definition === approvedSite.definition\r\n          ))[0];\r\n\r\n          const isUserLinked = linkedProfileSite ? true : false;\r\n          const linkUrl = isUserLinked ? linkedProfileSite.username : undefined;\r\n\r\n          const {\r\n            definition: approvedSiteName,\r\n            additional_url: approvedSiteAdditionalUrl\r\n          } = approvedSite;\r\n\r\n          const approvedSitePlaceholder = `https://www.${approvedSiteName}.com/${approvedSiteAdditionalUrl ? approvedSiteAdditionalUrl + '/' : ''}`;\r\n          const approvedSiteValue = isUserLinked ? approvedSitePlaceholder + linkUrl : '';\r\n\r\n          return (\r\n            <InputGroup\r\n              key={approvedSite.id}\r\n              className={`my-3 align-items-center profile-site-group order-${approvedSite.display_order}`}\r\n            >\r\n              <InputGroupAddon addonType=\"prepend\" className=\"mr-2\">\r\n                <FontAwesomeIcon\r\n                  fixedWidth\r\n                  size=\"2x\"\r\n                  icon={icons[approvedSite.icon]}\r\n                  style={{ color: `#${approvedSite.color}` }}\r\n                  className=\"no-pointer-events\"\r\n                />\r\n              </InputGroupAddon>\r\n              <Input\r\n                id={approvedSite.id}\r\n                bsSize=\"sm\"\r\n                data-site-username={linkUrl}\r\n                data-site-index={index}\r\n                defaultValue={approvedSiteValue}\r\n                placeholder={approvedSitePlaceholder}\r\n                className={`rounded-pill site-url-input ${isUserLinked ? 'border border-success' : 'border-0'}`}\r\n              />\r\n              <InputGroupAddon\r\n                addonType=\"append\"\r\n              >\r\n                <Button\r\n                  outline\r\n                  color=\"transparent\"\r\n                  size=\"sm\"\r\n                  disabled={!isUserLinked}\r\n                  tabIndex={-1}\r\n                  data-site-index={index}\r\n                  onClick={handleRemoveSiteClick}\r\n                  className=\"rounded-circle border-0 text-darkest remove-button\"\r\n                >\r\n                  <FontAwesomeIcon\r\n                    fixedWidth\r\n                    icon={faTrashAlt}\r\n                    className=\"no-pointer-events\"\r\n                  />\r\n                </Button>\r\n              </InputGroupAddon>\r\n            </InputGroup>\r\n          );\r\n        })}\r\n      </div>\r\n    </MainModal>\r\n  );\r\n}\r\n","import React, { Fragment } from 'react';\r\n\r\n// Bootstrap components.\r\nimport { Label } from 'reactstrap';\r\n\r\n// Font Awesome icons.\r\nimport { faPlus } from '@fortawesome/free-solid-svg-icons';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\n\r\nexport default function SocialsToggleContent({ isLabelDisplayed }) {\r\n  return (\r\n    <Fragment>\r\n      <FontAwesomeIcon\r\n        icon={faPlus}\r\n        size=\"lg\"\r\n        className=\"mb-2 mb-sm-0 text-success no-pointer-events\"\r\n      />\r\n      {isLabelDisplayed && (\r\n        <Label className=\"m-0 ml-sm-3 text-sm text-success cursor-pointer\">\r\n          Add Socials\r\n        </Label>\r\n      )}\r\n    </Fragment>\r\n  );\r\n}\r\n","import SocialSitesModal from './SocialSitesModal';\r\nimport SocialsToggleContent from './SocialsToggleContent';\r\n\r\nexport {\r\n  SocialSitesModal,\r\n  SocialsToggleContent,\r\n};\r\n\r\nexport default {\r\n  SocialSitesModal,\r\n  SocialsToggleContent,\r\n};\r\n","import React, { Component } from 'react';\r\n\r\n// Bootstrap components.\r\nimport { ListGroup, ListGroupItem } from 'reactstrap';\r\n\r\n// Font Awesome icons.\r\nimport { faStar } from '@fortawesome/free-solid-svg-icons';\r\nimport { fab } from '@fortawesome/free-brands-svg-icons';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\n\r\n// Custom components.\r\nimport { PageConsumer, PageContext } from '../../utils/context/pageContext';\r\nimport { SocialSitesModal } from './subcomponents';\r\n\r\n// API utilities, helper functions, and other assets.\r\nimport { CONSTANTS, HELPERS } from '../../utils';\r\nimport { SOCIAL_LINKS_NAMES } from '../../utils/constants/classMethodNames/profile';\r\n\r\nconst { MESSAGE_INVALID_INPUT_CHARACTERS } = CONSTANTS;\r\nconst { MAIN_HELPER } = HELPERS;\r\n\r\nconst icons = {\r\n  ...fab,\r\n  faStar,\r\n};\r\n\r\n// TODO: Consider making this a functional component.\r\nexport default class SocialLinks extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    // Bind events and functions.\r\n    for (let i = 0; i < SOCIAL_LINKS_NAMES.length; i++) {\r\n      const methodName = SOCIAL_LINKS_NAMES[i];\r\n      this[methodName] = this[methodName].bind(this);\r\n    }\r\n  }\r\n\r\n  handleUpdateSocialLinks() {\r\n    const {\r\n      profileId, handleUpdateSocialSites\r\n    } = this.props;\r\n    const { approvedSocialSites } = this.context.pageData;\r\n    const siteUrlInputs = document.querySelectorAll('.site-url-input');\r\n    const newSites = [];\r\n    const updatedSites = [];\r\n\r\n    for (let i = 0; i < siteUrlInputs.length; i++) {\r\n      const siteInput = siteUrlInputs[i];\r\n      const siteIndex = siteInput.getAttribute('data-site-index');\r\n      const approvedSite = approvedSocialSites[siteIndex];\r\n      const siteUsername = siteInput.getAttribute('data-site-username');\r\n\r\n      const newSiteUsername = MAIN_HELPER.getSocialSiteUsername(siteInput.value, approvedSite.definition, approvedSite.additional_url);\r\n\r\n      if (newSiteUsername && (newSiteUsername !== siteUsername)) {\r\n        // Validate the input text.\r\n        if (!MAIN_HELPER.isTextValid(newSiteUsername)) {\r\n          const { masterData: { handleOpenAlert } } = this.context;\r\n          return handleOpenAlert(MESSAGE_INVALID_INPUT_CHARACTERS, false);\r\n        }\r\n\r\n        const newSocialSite = {\r\n          username: newSiteUsername,\r\n          profile_id: profileId,\r\n          social_site_id: approvedSite.id\r\n        };\r\n\r\n        if (siteUsername) {\r\n          updatedSites.push(newSocialSite);\r\n        } else {\r\n          newSites.push(newSocialSite);\r\n        }\r\n      }\r\n    }\r\n\r\n    handleUpdateSocialSites(newSites, updatedSites);\r\n  }\r\n\r\n  handleRemoveSiteClick(event) {\r\n    const { handleRemoveSocialSite } = this.props;\r\n    const removeButton = event.target;\r\n    const approvedSiteIndex = removeButton.getAttribute('data-site-index');\r\n    const { approvedSocialSites } = this.context.pageData;\r\n    const approvedSiteId = approvedSocialSites[approvedSiteIndex].id;\r\n    handleRemoveSocialSite(approvedSiteId);\r\n    document.getElementById(approvedSiteId).value = null;\r\n  }\r\n\r\n  render() {\r\n    const { isUserProfileOwner } = this.props;\r\n\r\n    return (\r\n      <PageConsumer>\r\n        {({ pageData: {\r\n          approvedSocialSites,\r\n          profile: {\r\n            ProfileSocialSites: profileSocialSites,\r\n          }\r\n        }}) => (\r\n          <ListGroup\r\n            className=\"flex-wrap list-group-horizontal-sm justify-content-sm-around align-items-center bg-darkest-75\"\r\n          >\r\n            {profileSocialSites.map((profileSite) => {\r\n              return (\r\n                <ListGroupItem\r\n                  key={profileSite.id}\r\n                  tag=\"a\"\r\n                  href={MAIN_HELPER.getProfileSocialSiteUrl(profileSite)}\r\n                  target=\"_blank\"\r\n                  rel=\"noopener noreferrer\"\r\n                  className={`p-2 p-md-1 bg-transparent border-0 social-link order-${profileSite.SocialSite.display_order}`}\r\n                >\r\n                  <FontAwesomeIcon\r\n                    icon={icons[profileSite.SocialSite.icon]}\r\n                    size=\"lg\"\r\n                    style={{ color: `#${profileSite.SocialSite.color}` }}\r\n                    className=\"no-pointer-events\"\r\n                  />\r\n                </ListGroupItem>\r\n              );\r\n            })}\r\n\r\n            {isUserProfileOwner && (\r\n              <ListGroupItem className={`p-2 p-md-1 bg-transparent border-0 order-6 ${!profileSocialSites.length ? 'flex-grow-1' : ''}`}>\r\n                <div className=\"d-flex flex-column flex-sm-row justify-content-center align-items-center\">\r\n                  <SocialSitesModal\r\n                    approvedSocialSites={approvedSocialSites}\r\n                    profileSocialSites={profileSocialSites}\r\n                    icons={icons}\r\n                    handleRemoveSiteClick={this.handleRemoveSiteClick}\r\n                    handleUpdateSocialLinks={this.handleUpdateSocialLinks}\r\n                  />\r\n                </div>\r\n              </ListGroupItem>\r\n            )}\r\n          </ListGroup>\r\n        )}\r\n      </PageConsumer>\r\n    );\r\n  }\r\n}\r\n\r\nSocialLinks.contextType = PageContext;\r\n","import React from 'react';\r\n\r\n// Bootstrap components.\r\nimport { ListGroup, ListGroupItem } from 'reactstrap';\r\n\r\n// Custom components.\r\nimport { EditGroup } from '..';\r\n\r\n// Styles, utils, and other helpers.\r\nimport { PROFILE_INFO_ITEMS } from '../../utils/constants';\r\n\r\nexport default function ProfileInfoItems({\r\n  profile, isUserProfileOwner, handleUpdateInfo,\r\n}) {\r\n  return (\r\n    <ListGroup flush className=\"flex-wrap flex-sm-nowrap flex-md-wrap list-group-horizontal p-1\">\r\n      {PROFILE_INFO_ITEMS.map(infoItem => {\r\n        const { labelText, order } = infoItem;\r\n        return (\r\n          <ListGroupItem\r\n            key={`${labelText}-${order}`}\r\n            className={`flex-fill m-0 p-0 bg-transparent border-0 rounded-0 order-${order}`}\r\n          >\r\n            <EditGroup\r\n              text={labelText}\r\n              value={profile[labelText] || 'N/A'}\r\n              isUserProfileOwner={isUserProfileOwner}\r\n              handleUpdateInfo={handleUpdateInfo}\r\n            />\r\n          </ListGroupItem>\r\n        );\r\n      })}\r\n    </ListGroup>\r\n  );\r\n}\r\n","import React from 'react';\r\n\r\n// Bootstrap components.\r\nimport {\r\n  Container, Label, ListGroup, ListGroupItem,\r\n} from 'reactstrap';\r\n\r\n// Font Awesome Icons.\r\nimport {\r\n  faStar, faGavel, faMicrophone,\r\n} from '@fortawesome/free-solid-svg-icons';\r\nimport { faStar as farStar } from '@fortawesome/free-regular-svg-icons';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\n\r\n// React Rating.\r\nimport Rating from 'react-rating';\r\n\r\n// Styles, utils, and other helpers.\r\nimport { MAIN_HELPER } from '../../utils/helpers';\r\n\r\nexport default function ProfileBattleStats({ profile: {\r\n  battle_count: battleCount,\r\n  draw_count: drawCount,\r\n  quit_count: quitCount,\r\n  win_count: winCount,\r\n  loss_count: lossCount,\r\n  battle_reputation: battleReputation,\r\n  judge_reputation: judgeReputation,\r\n  battle_rating: battleRating,\r\n}}) {\r\n  const subStatsData = {\r\n    battles: battleCount,\r\n    draws: drawCount,\r\n    quits: quitCount,\r\n  };\r\n\r\n  const statsData = {\r\n    wins: {\r\n      value: winCount,\r\n      className: 'border-0 text-success',\r\n    },\r\n    losses: {\r\n      value: lossCount,\r\n      className: 'text-danger border-top-0 border-bottom-0 border-left border-right border-darkest',\r\n    },\r\n    ratio: {\r\n      value: MAIN_HELPER.getWinRatio(battleCount, winCount, drawCount),\r\n      className: 'border-0 text-info',\r\n    },\r\n  };\r\n\r\n  const reputationItems = [{\r\n    icon: faMicrophone,\r\n    value: battleReputation,\r\n  }, {\r\n    icon: faGavel,\r\n    value: judgeReputation,\r\n  }];\r\n\r\n  return (\r\n    <Container fluid className=\"d-flex flex-column px-0\">\r\n      <div className=\"d-flex flex-wrap justify-content-around flex-sm-nowrap flex-md-wrap border-bottom border-darkest p-1 text-sm\">\r\n        <ListGroup flush style={{ letterSpacing: '0.3em' }} className=\"my-1 px-2 px-md-1 text-left\">\r\n          {Object.keys(subStatsData).map(statKey => (\r\n            <ListGroupItem\r\n              key={statKey}\r\n              tag=\"label\"\r\n              className=\"mb-0 p-0 bg-transparent border-darkest\"\r\n            >\r\n              <span className=\"font-weight-bolder text-lg\">\r\n                {subStatsData[statKey]}\r\n              </span>\r\n              &nbsp;\r\n              <span className=\"text-uppercase text-xs\">\r\n                {statKey}\r\n              </span>\r\n            </ListGroupItem>\r\n          ))}\r\n        </ListGroup>\r\n\r\n        <div className=\"d-flex align-items-center my-1 px-2 px-md-1 border-left border-darkest\">\r\n          <Label className=\"m-0 font-weight-bolder text-right text-xl vertical-text\">\r\n            BR\r\n          </Label>\r\n          <Label className=\"m-0 text-warning text-xxl\">\r\n            {battleRating}\r\n          </Label>\r\n        </div>\r\n      </div>\r\n\r\n      <ListGroup flush style={{ letterSpacing: '0.4em' }} className=\"flex-wrap list-group-horizontal border-bottom border-darkest py-1\">\r\n        {Object.keys(statsData).map(statKey => (\r\n          <ListGroupItem\r\n            key={statKey}\r\n            tag=\"label\"\r\n            className={`flex-fill m-0 py-0 px-auto px-md-0 bg-transparent rounded-0 ${statsData[statKey].className}`}\r\n          >\r\n            <span className=\"d-md-block font-weight-bolder text-xl\">\r\n              {statsData[statKey].value}\r\n            </span>\r\n            <span className=\"d-md-block text-xs text-uppercase font-italic\">\r\n              {statKey}\r\n            </span>\r\n          </ListGroupItem>\r\n        ))}\r\n      </ListGroup>\r\n\r\n      <div className=\"d-flex align-items-center flex-wrap flex-sm-nowrap py-1 px-2\">\r\n        <div className=\"flex-fill order-sm-1 mx-auto text-success text-xxl\">\r\n          {((battleReputation + judgeReputation) / 2).toFixed(1)}\r\n        </div>\r\n        <div className=\"d-flex flex-sm-column flex-wrap justify-content-around flex-fill\">\r\n          {reputationItems.map(({ icon, value }, index) => (\r\n            <div\r\n              key={`${value}-${index}`}\r\n              className=\"d-flex align-items-center flex-fill py-1 px-3 px-sm-0\"\r\n            >\r\n              <FontAwesomeIcon\r\n                size=\"lg\"\r\n                fixedWidth\r\n                icon={icon}\r\n                className=\"mx-1\"\r\n              />\r\n              <Rating\r\n                readonly\r\n                className=\"d-flex justify-content-around flex-fill flex-wrap flex-sm-nowrap\"\r\n                emptySymbol={<FontAwesomeIcon icon={farStar} />}\r\n                fullSymbol={<FontAwesomeIcon icon={faStar} />}\r\n                placeholderSymbol={<FontAwesomeIcon icon={faStar} />}\r\n                placeholderRating={3.5}\r\n                initialRating={value}\r\n              />\r\n            </div>\r\n          ))}\r\n        </div>\r\n      </div>\r\n    </Container>\r\n  );\r\n}\r\n","/* eslint-disable complexity */\r\nimport React, { Component, Fragment } from 'react';\r\nimport moment from 'moment';\r\n\r\n// Components.\r\nimport { Link } from 'react-router-dom';\r\nimport {\r\n  Button, ButtonDropdown, Collapse, DropdownToggle,\r\n  DropdownItem, DropdownMenu,\r\n} from 'reactstrap';\r\n\r\n// Custom components.\r\nimport { PageContext } from '../../../utils/context/pageContext';\r\nimport { UsernamePopover } from '../../';\r\nimport { CommentInput } from './';\r\n\r\n// Font Awesome icons.\r\nimport {\r\n  faThumbsUp as farThumbsUp,\r\n  faThumbsDown as farThumbsDown,\r\n  faCommentAlt as farCommentAlt,\r\n} from '@fortawesome/free-regular-svg-icons';\r\nimport {\r\n  faEllipsisV,\r\n  faThumbsUp,\r\n  faThumbsDown,\r\n  faHandMiddleFinger,\r\n} from '@fortawesome/free-solid-svg-icons';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\n\r\n// Styles, helpers, and other utils.\r\nimport {\r\n  DEFAULT_PROFILE_PHOTO_URL, MESSAGE_CONFIRM_DELETE,\r\n  MESSAGE_SAFETY_PENDING_FEATURE, MESSAGE_ALL_PENDING_FEATURE\r\n} from '../../../utils/constants';\r\n\r\nexport default class Comment extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      isOptionsMenuOpen: false,\r\n      isEditing: false,\r\n      isRepliesCollapseOpen: false,\r\n      isReplyInputOpen: false,\r\n    };\r\n\r\n    // Bind class methods.\r\n    this.handleToggleOptionsMenuOnClick = this.handleToggleOptionsMenuOnClick.bind(this);\r\n    this.hanldeEditCommentOnClick = this.hanldeEditCommentOnClick.bind(this);\r\n    this.handleCancelComment = this.handleCancelComment.bind(this);\r\n    this.handleToggleRepliesCollapseOnClick = this.handleToggleRepliesCollapseOnClick.bind(this);\r\n    this.handleToggleReplyInputOnClick = this.handleToggleReplyInputOnClick.bind(this);\r\n  }\r\n\r\n  handleToggleOptionsMenuOnClick() {\r\n    this.setState(prevState => ({ isOptionsMenuOpen: !prevState.isOptionsMenuOpen}));\r\n  }\r\n\r\n  hanldeEditCommentOnClick() {\r\n    this.setState(() => ({ isEditing: true }));\r\n  }\r\n\r\n  handleCancelComment() {\r\n    this.setState(() => ({\r\n      isEditing: false,\r\n      isReplyInputOpen: false,\r\n    }));\r\n  }\r\n\r\n  handleToggleRepliesCollapseOnClick() {\r\n    this.setState(prevState => ({ isRepliesCollapseOpen: !prevState.isRepliesCollapseOpen }));\r\n  }\r\n\r\n  handleToggleReplyInputOnClick() {\r\n    this.setState(prevState => ({ isReplyInputOpen: !prevState.isReplyInputOpen }));\r\n  }\r\n\r\n  render() {\r\n    const { isOptionsMenuOpen, isEditing, isRepliesCollapseOpen, isReplyInputOpen } = this.state;\r\n    const {\r\n      userId, userPhoto, comment, commentUser, replies, isUserOwner,\r\n      parentCommentId, contestants, rounds, handleCreateComment,\r\n      handleDeleteComment, handleUpdateComment, handleCommentReaction,\r\n    } = this.props;\r\n    const { masterData: { handleOpenAlert } } = this.context;\r\n\r\n    if (!userId || !comment.id) return null;\r\n\r\n    const {\r\n      message, createdAt, id: commentId, battle_id: battleId,\r\n      discussion_id: discussionId, CommentReactions: reactions,\r\n      Contestant: contestant, Round: round\r\n    } = comment;\r\n\r\n    const { Profile: profile, nickname, user_id: commentorId } = commentUser;\r\n    const { photo: commentorPhoto } = profile;\r\n\r\n    const createdTimeFromNow = moment(createdAt).utc().fromNow();\r\n\r\n    const daps = reactions.filter(reaction => reaction.Type.definition === 'dap');\r\n    const isUserDapped = daps.filter(dap => dap.user_id === userId).length > 0;\r\n\r\n    const disses = reactions.filter(reaction => reaction.Type.definition === 'dis');\r\n    const isUserDissed = disses.filter(dis => dis.user_id === userId).length > 0;\r\n\r\n    const flipOffs = reactions.filter(reaction => reaction.Type.definition === 'flip off');\r\n    const isUserFlippedOff = flipOffs.filter(flipOff => flipOff.user_id === userId).length > 0;\r\n\r\n    const replyComponents = replies.map(reply => {\r\n      const { User: replyUser, Replies: replies, ...rest } = reply;\r\n      return (\r\n        <Comment\r\n          key={reply.id}\r\n          userId={userId}\r\n          userPhoto={userPhoto}\r\n          comment={rest}\r\n          parentCommentId={parentCommentId}\r\n          commentUser={replyUser}\r\n          replies={replies || []}\r\n          isUserOwner={userId === replyUser.user_id}\r\n          handleCreateComment={handleCreateComment}\r\n          handleUpdateComment={handleUpdateComment}\r\n          handleDeleteComment={handleDeleteComment}\r\n          handleCommentReaction={handleCommentReaction}\r\n        />\r\n      );\r\n    });\r\n\r\n    const alertConfirmProps = { 'data-comment-id': commentId };\r\n\r\n    return (\r\n      (isEditing ? (\r\n        <CommentInput\r\n          existingMessage={message}\r\n          existingRoundId={comment.Round ? comment.Round.id : undefined}\r\n          existingContestantId={comment.Contestant ? comment.Contestant.user_id : undefined}\r\n          commentId={commentId}\r\n          discussionId={battleId || discussionId}\r\n          foreignKeyField={battleId ? 'battle_id' : 'discussion_id'}\r\n          userPhoto={userPhoto}\r\n          contestants={contestants || []}\r\n          rounds={rounds || []}\r\n          handleCancelComment={this.handleCancelComment}\r\n          handleSubmitComment={handleUpdateComment}\r\n        />\r\n      ) : (\r\n        <div className=\"d-flex flex-column flex-sm-row align-items-start my-3 border border-darker text-sm\">\r\n          <div>\r\n            <Link\r\n              to={`/profile/${commentorId}`}\r\n              className=\"d-inline-block text-decoration-none text-secondary\"\r\n            >\r\n              <img\r\n                src={commentorPhoto || DEFAULT_PROFILE_PHOTO_URL}\r\n                alt=\"user profile\"\r\n                className={discussionId ? 'comment-image' : 'comment-image-lg'}\r\n              />\r\n            </Link>\r\n          </div>\r\n\r\n          <div className=\"d-flex flex-column w-100 mw-100 bg-darkest-75\">\r\n            <div className=\"d-flex justify-content-between\">\r\n              <div className={`d-flex flex-fill align-items-baseline ${battleId ? 'mt-1' : ''}`}>\r\n                {/* <Link\r\n                  to={`/profile/${commentorId}`}\r\n                  className=\"d-inline-block ml-2 font-weight-bold text-decoration-none text-md text-secondary\"\r\n                >\r\n                  {nickname}\r\n                </Link> */}\r\n\r\n                <UsernamePopover\r\n                  id={`comment-${commentorId}-${discussionId}`}\r\n                  userId={userId}\r\n                  labelText={nickname}\r\n                  profile={profile}\r\n                  userProfileUrl={`/profile/${commentorId}`}\r\n                  buttonClassName=\"ml-2 text-md font-weight-bold\"\r\n                />\r\n\r\n                {battleId && (\r\n                  <div className=\"flex-fill\">\r\n                    {round && (\r\n                      <span className=\"mx-3 font-weight-bold\">{`Round ${round.number}`}</span>\r\n                    )}\r\n\r\n                    {contestant && (\r\n                      <Link\r\n                        to={`/profile/${commentorId}`}\r\n                        className=\"d-inline-block mx-3 font-weight-bold text-decoration-none text-secondary\"\r\n                      >\r\n                        {`${contestant.nickname}`}\r\n                      </Link>\r\n                    )}\r\n                  </div>\r\n                )}\r\n              </div>\r\n\r\n              <ButtonDropdown\r\n                isOpen={isOptionsMenuOpen}\r\n                direction=\"left\"\r\n                toggle={this.handleToggleOptionsMenuOnClick}\r\n              >\r\n                <DropdownToggle\r\n                  outline\r\n                  color=\"link\"\r\n                  onClick={null}\r\n                  className=\"p-0 mx-2 text-secondary\"\r\n                >\r\n                  <FontAwesomeIcon icon={faEllipsisV} />\r\n                </DropdownToggle>\r\n                <DropdownMenu className=\"rounded-0 bg-darkest-90 comment-menu\">\r\n                  {isUserOwner && (\r\n                    <Fragment>\r\n                      <DropdownItem\r\n                        data-comment-id={commentId}\r\n                        onClick={this.hanldeEditCommentOnClick}\r\n                        className=\"text-secondary\"\r\n                      >\r\n                        Edit\r\n                      </DropdownItem>\r\n                      <DropdownItem\r\n                        data-comment-id={commentId}\r\n                        onClick={() => (\r\n                          handleOpenAlert(MESSAGE_CONFIRM_DELETE, true, alertConfirmProps, handleDeleteComment)\r\n                        )}\r\n                        className=\"text-secondary\"\r\n                      >\r\n                          Delete\r\n                      </DropdownItem>\r\n                    </Fragment>\r\n                  )}\r\n                  <DropdownItem\r\n                    onClick={() => (\r\n                      handleOpenAlert(MESSAGE_SAFETY_PENDING_FEATURE + MESSAGE_ALL_PENDING_FEATURE, false, null, null)\r\n                    )}\r\n                    className=\"text-secondary\"\r\n                  >\r\n                    Report\r\n                  </DropdownItem>\r\n                </DropdownMenu>\r\n              </ButtonDropdown>\r\n            </div>\r\n\r\n            <p className=\"mx-3 my-1 px-2 py-1 rounded-10 bg-dark-75 text-left text-md\">\r\n              {message}\r\n            </p>\r\n\r\n            <div className=\"mx-3 d-flex align-items-baseline\">\r\n              <Button\r\n                outline\r\n                data-is-reacted={isUserDapped}\r\n                data-is-other-reacted={isUserDissed}\r\n                data-type-definition=\"dap\"\r\n                data-comment-id={commentId}\r\n                onClick={handleCommentReaction}\r\n                className={`d-flex m-0 py-0 px-2 rounded-0 border-0 bg-transparent comment-reaction-button ${isUserDapped ? 'isReacted' : ''}`}\r\n              >\r\n                <FontAwesomeIcon\r\n                  size=\"sm\"\r\n                  icon={isUserDapped ? faThumbsUp : farThumbsUp}\r\n                  className=\"align-self-center mx-auto\"\r\n                />\r\n                <span className=\"mx-1 text-xs\">{daps.length || ''}</span>\r\n              </Button>\r\n\r\n              <Button\r\n                outline\r\n                data-is-reacted={isUserDissed}\r\n                data-is-other-reacted={isUserDapped}\r\n                data-type-definition=\"dis\"\r\n                data-comment-id={commentId}\r\n                onClick={handleCommentReaction}\r\n                className={`d-flex m-0 py-0 px-2 rounded-0 border-0 bg-transparent comment-reaction-button ${isUserDissed ? 'isReacted' : ''}`}\r\n              >\r\n                <FontAwesomeIcon\r\n                  size=\"sm\"\r\n                  icon={isUserDissed ? faThumbsDown : farThumbsDown}\r\n                  className=\"align-self-center mx-auto\"\r\n                />\r\n                <span className=\"mx-1 text-xs\">{disses.length || ''}</span>\r\n              </Button>\r\n\r\n              {/* <Button\r\n                outline\r\n                data-is-reacted={isUserFlippedOff}\r\n                data-type-definition=\"flip off\"\r\n                data-comment-id={commentId}\r\n                onClick={handleCommentReaction}\r\n                className={`d-flex m-0 py-0 px-2 rounded-0 border-0 bg-transparent comment-reaction-button ${isUserFlippedOff ? 'isReacted' : ''}`}\r\n              >\r\n                <FontAwesomeIcon\r\n                  size=\"sm\"\r\n                  icon={faHandMiddleFinger}\r\n                  className={`align-self-center mx-auto ${isUserFlippedOff ? 'text-primary' : ''}`}\r\n                />\r\n                <span className=\"mx-1 text-xs\">{flipOffs.length || ''}</span>\r\n              </Button> */}\r\n\r\n              <Button\r\n                outline\r\n                color=\"success\"\r\n                onClick={this.handleToggleReplyInputOnClick}\r\n                className=\"d-flex align-items-baseline mx-2 p-0 border-0 bg-transparent text-decoration-none replies-toggle\"\r\n              >\r\n                <FontAwesomeIcon\r\n                  size=\"sm\"\r\n                  icon={farCommentAlt}\r\n                  className=\"align-self-center mx-auto\"\r\n                />\r\n                <span className=\"mx-2\">\r\n                  {isReplyInputOpen ? 'cancel' : 'reply'}\r\n                </span>\r\n              </Button>\r\n\r\n              <small className=\"ml-auto mr-sm-3 text-muted text-truncate\">\r\n                {createdTimeFromNow}\r\n              </small>\r\n            </div>\r\n\r\n            {isReplyInputOpen && (\r\n              <Collapse\r\n                isOpen={isReplyInputOpen}\r\n                className=\"mx-sm-3\"\r\n              >\r\n                <CommentInput\r\n                  commentId={parentCommentId}\r\n                  discussionId={parentCommentId}\r\n                  foreignKeyField=\"discussion_id\"\r\n                  userPhoto={userPhoto}\r\n                  contestants={contestants || []}\r\n                  rounds={rounds || []}\r\n                  handleCancelComment={this.handleCancelComment}\r\n                  handleSubmitComment={handleCreateComment}\r\n                />\r\n              </Collapse>\r\n            )}\r\n\r\n            {replies.length > 0 && (\r\n              <div className=\"text-left\">\r\n                <Button\r\n                  block\r\n                  color=\"link\"\r\n                  onClick={this.handleToggleRepliesCollapseOnClick}\r\n                  className=\"d-flex align-items-center p-1 text-sm text-decoration-none bg-darkest-90 rounded-0 replies-toggle\"\r\n                >\r\n                  <i className={`mx-2 arrow ${isRepliesCollapseOpen ? 'up' : 'down'}`} />\r\n                  <span>\r\n                    {isRepliesCollapseOpen ? (\r\n                      `Hide ${replies.length > 1 ? 'replies' : 'reply'}`\r\n                    ) : (\r\n                      `View ${replies.length} ${replies.length > 1 ? 'replies' : 'reply'}`\r\n                    )}\r\n                  </span>\r\n                </Button>\r\n                <Collapse\r\n                  isOpen={isRepliesCollapseOpen}\r\n                  className=\"mx-sm-3\"\r\n                >\r\n                  {replyComponents}\r\n                </Collapse>\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n      ))\r\n\r\n    );\r\n  }\r\n}\r\n\r\nComment.contextType = PageContext;\r\n\r\nComment.defaultProps = {};\r\n\r\nComment.propTypes = {};\r\n","import React, { Component, Fragment } from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\n// Components.\r\nimport { Button, Input } from 'reactstrap';\r\nimport { PageContext } from '../../../utils/context/pageContext';\r\n\r\n// Styles, helpers, and other utils.\r\nimport { CONSTANTS, HELPERS } from '../../../utils';\r\n\r\nconst { DEFAULT_PROFILE_PHOTO_URL, MESSAGE_INVALID_INPUT_CHARACTERS } = CONSTANTS;\r\nconst { MAIN_HELPER } = HELPERS;\r\n\r\nexport default class CommentInput extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      isInputDirty: (props.foreignKeyField === 'discussion_id' || props.existingMessage) ? true : false,\r\n      commentText: props.existingMessage || '',\r\n      roundId: props.existingRoundId || null,\r\n      contestantId: props.existingContestantId || null,\r\n    };\r\n\r\n    // Bind class methods.\r\n    this.handleInputOnChange = this.handleInputOnChange.bind(this);\r\n    this.handleInputOnFocus = this.handleInputOnFocus.bind(this);\r\n    this.handleCancelCommentOnClick = this.handleCancelCommentOnClick.bind(this);\r\n    this.handleSubmitOnClick = this.handleSubmitOnClick.bind(this);\r\n    this.handleRoundTagOnChange = this.handleRoundTagOnChange.bind(this);\r\n    this.handleContestantTagOnChange = this.handleContestantTagOnChange.bind(this);\r\n  }\r\n\r\n  handleInputOnChange(event) {\r\n    // Auto size the input based on text content.\r\n    const commentTextArea = event.target;\r\n    commentTextArea.style.height = 'inherit';\r\n    commentTextArea.style.height = Math.min(commentTextArea.scrollHeight) + 'px';\r\n\r\n    // Update the state text value.\r\n    const commentText = commentTextArea.value;\r\n    this.setState((prevState) => prevState.commentText !== commentText ? ({ commentText }) : null);\r\n  }\r\n\r\n  handleInputOnFocus(event) {\r\n    event.target.focus();\r\n    const { value } = event.target;\r\n    event.target.value = '';\r\n    event.target.value = value;\r\n    this.setState(() => ({ isInputDirty: true }));\r\n  }\r\n\r\n  handleCancelCommentOnClick() {\r\n    let commentTextArea = document.getElementById('comment-input-repy');\r\n    if (!commentTextArea) commentTextArea = document.getElementById('comment-input-parent');\r\n    commentTextArea.style.height = 'initial';\r\n    const { foreignKeyField } = this.props;\r\n\r\n    const { handleCancelComment } = this.props;\r\n    if (handleCancelComment) handleCancelComment();\r\n\r\n    this.setState(() => ({\r\n      isInputDirty: foreignKeyField === 'discussion_id',\r\n      commentText: '',\r\n      roundId: null,\r\n      contestantId: null,\r\n    }));\r\n  }\r\n\r\n  handleSubmitOnClick() {\r\n    const { commentText, roundId, contestantId } = this.state;\r\n    const {\r\n      commentId, discussionId, existingMessage,\r\n      foreignKeyField, handleSubmitComment\r\n    } = this.props;\r\n\r\n    const newMessage = commentText.trim();\r\n    // Validate the input text.\r\n    if (!MAIN_HELPER.isTextValid(newMessage)) {\r\n      const { masterData: { handleOpenAlert } } = this.context;\r\n      return handleOpenAlert(MESSAGE_INVALID_INPUT_CHARACTERS);\r\n    }\r\n\r\n    const comment = { message: newMessage };\r\n    comment[foreignKeyField] = discussionId;\r\n\r\n    if (roundId) comment.round_id = roundId;\r\n    if (contestantId) comment.contestant_id = contestantId;\r\n\r\n    handleSubmitComment(comment, commentId, existingMessage);\r\n    this.handleCancelCommentOnClick();\r\n  }\r\n\r\n  handleRoundTagOnChange(event) {\r\n    const roundId = event.target.value;\r\n    this.setState(() => ({ roundId }));\r\n  }\r\n\r\n  handleContestantTagOnChange(event) {\r\n    const contestantId = event.target.value;\r\n    this.setState(() => ({ contestantId }));\r\n  }\r\n\r\n  render() {\r\n    const { isInputDirty, commentText, roundId, contestantId } = this.state;\r\n    const { commentId, contestants, existingMessage, foreignKeyField, userPhoto, rounds } = this.props;\r\n\r\n    const actualContestants = contestants.filter(contestant => contestant);\r\n\r\n    return (\r\n      <div className={`d-flex my-3 ${isInputDirty ? 'border border-darker' : ''}`}>\r\n        <img\r\n          src={userPhoto || DEFAULT_PROFILE_PHOTO_URL}\r\n          alt=\"user profile\"\r\n          className={foreignKeyField === 'discussion_id' ? 'comment-image' : 'comment-image-lg'}\r\n        />\r\n\r\n        <div className=\"d-flex flex-column flex-fill\">\r\n          <Input\r\n            id={`comment-input-${foreignKeyField === 'battle_id' && !existingMessage ? 'parent' : 'reply'}`}\r\n            name=\"comment-input\"\r\n            type=\"textarea\"\r\n            placeholder=\"Say something...\"\r\n            value={commentText}\r\n            autoFocus={foreignKeyField !== 'battle_id' || isInputDirty}\r\n            onChange={this.handleInputOnChange}\r\n            onFocus={this.handleInputOnFocus}\r\n            className=\"flex-fill bg-darkest-75 py-0 rounded-0 border-0 resize-none comment-input scroll-box\"\r\n          />\r\n\r\n          {isInputDirty && (\r\n            <div className=\"d-flex flex-fill justify-content-end align-items-end bg-darkest pt-2\">\r\n              {foreignKeyField === 'battle_id' && (\r\n                <div className=\"d-flex flex-column flex-sm-row flex-sm-fill\">\r\n                  {(rounds && rounds.filter(round => round.number !== 0).length > 0) && (\r\n                    <Fragment>\r\n                      <Input\r\n                        type=\"select\"\r\n                        value={roundId || 0}\r\n                        onChange={this.handleRoundTagOnChange}\r\n                        className=\"form-control-sm w-75 rounded-0 bg-darkest-50\"\r\n                      >\r\n                        <option\r\n                          value={0}\r\n                          className=\"bg-darker\"\r\n                        >Tag Round</option>\r\n                        {rounds.map(round => (\r\n                          <option\r\n                            key={round.id}\r\n                            value={round.id}\r\n                            className=\"bg-darker\"\r\n                          >\r\n                            {`Round ${round.number}`}\r\n                          </option>\r\n                        ))}\r\n                      </Input>\r\n                      <Input\r\n                        type=\"select\"\r\n                        value={contestantId || 0}\r\n                        onChange={this.handleContestantTagOnChange}\r\n                        className=\"form-control-sm w-75 rounded-0 bg-darkest-50\"\r\n                      >\r\n                        <option\r\n                          value={0}\r\n                          className=\"bg-darker\"\r\n                        >Tag Contestant</option>\r\n                        {actualContestants.map(contestant => (\r\n                          <option\r\n                            key={contestant.user_id}\r\n                            value={contestant.user_id}\r\n                            className=\"bg-darker\"\r\n                          >\r\n                            {contestant.nickname}\r\n                          </option>\r\n                        ))}\r\n                      </Input>\r\n                    </Fragment>\r\n                  )}\r\n                </div>\r\n              )}\r\n\r\n              <div className=\"d-flex flex-fill align-items-end\">\r\n                <Button\r\n                  outline\r\n                  color=\"link\"\r\n                  onClick={this.handleCancelCommentOnClick}\r\n                  className=\"btn btn-sm mx-md-2 pb-0 rounded-0 text-secondary text-sm\"\r\n                >\r\n                  Cancel\r\n                </Button>\r\n                <Button\r\n                  outline\r\n                  data-comment-id={commentId}\r\n                  disabled={!commentText}\r\n                  onClick={this.handleSubmitOnClick}\r\n                  className=\"flex-fill btn btn-sm btn-outline-primary w-25 rounded-0\"\r\n                >\r\n                  Say It!\r\n                </Button>\r\n              </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nCommentInput.contextType = PageContext;\r\n\r\nCommentInput.defaultProps = {\r\n  commentId: undefined,\r\n  discussionId: undefined,\r\n  userPhoto: undefined,\r\n  handleSubmitComment: undefined,\r\n};\r\n\r\nCommentInput.propTypes = {\r\n  commentId: PropTypes.string,\r\n  discussionId: PropTypes.string,\r\n  userPhoto: PropTypes.string,\r\n  handleSubmitComment: PropTypes.func,\r\n};\r\n","import React, { useContext } from 'react';\r\n\r\n// Components.\r\nimport { ListGroup, ListGroupItem } from 'reactstrap';\r\nimport { PageContext } from '../../../utils/context/pageContext';\r\n\r\nexport default function AudienceList({\r\n  audienceUsers\r\n}) {\r\n  const { goTo } = useContext(PageContext).masterData;\r\n  return (\r\n    <div className=\"align-self-sm-start my-3 ml-sm-2 py-1 px-2 border border-darkest bg-darkest audience-members\">\r\n      <h6 className=\"text-sm\">Audience</h6>\r\n\r\n      <ListGroup>\r\n        {audienceUsers.map(audienceUser => (\r\n          <ListGroupItem\r\n            action\r\n            key={audienceUser.userId}\r\n            tag=\"button\"\r\n            onClick={() => goTo(`profile/${audienceUser.userId}`)}\r\n            className=\"d-flex align-items-center p-0 mb-1 rounded-0 border-0 bg-transparent text-left outline-none\"\r\n          >\r\n            <img\r\n              src={audienceUser.photo}\r\n              alt={audienceUser.nickname}\r\n              className=\"audience-image\"\r\n            />\r\n\r\n            <span className=\"mx-1 text-xs\">\r\n              {audienceUser.nickname}\r\n            </span>\r\n          </ListGroupItem>\r\n        ))}\r\n      </ListGroup>\r\n    </div>\r\n  );\r\n}\r\n","import Comment from './Comment';\r\nimport CommentInput from './CommentInput';\r\nimport AudienceList from './AudienceList';\r\n\r\nexport {\r\n  Comment,\r\n  CommentInput,\r\n  AudienceList,\r\n};\r\n\r\nexport default {\r\n  Comment,\r\n  CommentInput,\r\n  AudienceList,\r\n};\r\n","import React, { Component } from 'react';\r\n\r\n// Components.\r\nimport { PageContext } from '../../utils/context/pageContext';\r\nimport { AlertModal } from '../';\r\nimport { Comment, CommentInput, AudienceList } from './subcomponents';\r\n\r\n// Styles, helpers, and other utils.\r\nimport { API_UTILS } from '../../utils';\r\n\r\nconst { BATTLE_UTILS } = API_UTILS;\r\n\r\nexport default class BattleAudience extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      parentComments: [],\r\n    };\r\n\r\n    // Class methods.\r\n    this.handleCreateComment = this.handleCreateComment.bind(this);\r\n    this.handleUpdateComment = this.handleUpdateComment.bind(this);\r\n    this.handleDeleteComment = this.handleDeleteComment.bind(this);\r\n    this.handleRefreshBattleComments = this.handleRefreshBattleComments.bind(this);\r\n    this.handleCommentReaction = this.handleCommentReaction.bind(this);\r\n  }\r\n\r\n  handleCreateComment(comment) {\r\n    const { parentComments: stateParentComments } = this.state;\r\n    const { battleId } = this.props;\r\n    const {\r\n      masterData: { getAxiosOptions, handleAsyncError },\r\n      userContext: { user }\r\n    } = this.context;\r\n\r\n    const { user_id: userId, profile: { photo } } = user;\r\n\r\n    const newComment = {\r\n      user_id: userId,\r\n      Replies: [],\r\n      User: {\r\n        Profile: { photo },\r\n        ...user\r\n      },\r\n      ...comment\r\n    };\r\n\r\n    const parentComments = [].concat(stateParentComments);\r\n    if (Object.keys(newComment).includes('battle_id')) parentComments.push(newComment);\r\n\r\n    this.setState(() => ({ parentComments }), () => {\r\n      const axiosOptions = getAxiosOptions();\r\n      BATTLE_UTILS.createBattleComment(battleId, newComment, axiosOptions)\r\n        .then(this.handleRefreshBattleComments)\r\n        .catch(handleAsyncError);\r\n    });\r\n  }\r\n\r\n  handleUpdateComment(comment, commentId) {\r\n    const { parentComments: stateParentComments } = this.state;\r\n    const { battleId } = this.props;\r\n    const {\r\n      masterData: { getAxiosOptions, handleAsyncError },\r\n      userContext: { user }\r\n    } = this.context;\r\n    const { user_id: userId, profile: { photo } } = user;\r\n\r\n    const updatedComment = {\r\n      user_id: userId,\r\n      Replies: [],\r\n      User: {\r\n        Profile: { photo },\r\n        ...user\r\n      },\r\n      ...comment\r\n    };\r\n\r\n    const parentComments = stateParentComments.filter(({ id }) => id !== commentId);\r\n    parentComments.push(updatedComment);\r\n\r\n    this.setState(() => ({ parentComments }), () => {\r\n      const axiosOptions = getAxiosOptions();\r\n      BATTLE_UTILS.updateBattleComment(battleId, commentId, updatedComment, axiosOptions)\r\n        .then(this.handleRefreshBattleComments)\r\n        .catch(handleAsyncError);\r\n    });\r\n  }\r\n\r\n  handleDeleteComment(event) {\r\n    const { parentComments: stateParentComments } = this.state;\r\n    const { battleId } = this.props;\r\n    const commentId = event.target.getAttribute('data-comment-id');\r\n\r\n    const parentComments = stateParentComments.filter(comment => comment.id !== commentId);\r\n    const { masterData: { handleCloseAlert } } = this.context;\r\n\r\n    this.setState(() => ({ parentComments }), () => {\r\n      handleCloseAlert();\r\n      const { getAxiosOptions, handleAsyncError } = this.context.masterData;\r\n      const axiosOptions = getAxiosOptions();\r\n      BATTLE_UTILS.deleteBattleComment(battleId, commentId, axiosOptions)\r\n        .then(this.handleRefreshBattleComments)\r\n        .catch(handleAsyncError);\r\n    }, handleCloseAlert);\r\n  }\r\n\r\n  handleRefreshBattleComments() {\r\n    const { battleId } = this.props;\r\n    const { getAxiosOptions, handleAsyncError } = this.context.masterData;\r\n    const axiosOptions = getAxiosOptions();\r\n    BATTLE_UTILS.getBattleComments(battleId, axiosOptions)\r\n      .then(battleCommentsResult => {\r\n        const parentComments = battleCommentsResult.data || [];\r\n        this.setState(() => ({ parentComments }));\r\n      })\r\n      .catch(handleAsyncError);\r\n  }\r\n\r\n  handleCommentReaction(event) {\r\n    const { battleId, reactionTypes } = this.props;\r\n\r\n    const reactionButton = event.target;\r\n    reactionButton.blur();\r\n\r\n    const getReactionMethod = () => {\r\n      const isReacted = reactionButton.getAttribute('data-is-reacted') === 'true';\r\n      const isOtherReacted = reactionButton.getAttribute('data-is-other-reacted') === 'true';\r\n      if (isReacted) return 'delete';\r\n      if (isOtherReacted) return 'update';\r\n      return 'create';\r\n    };\r\n\r\n    const commentId = reactionButton.getAttribute('data-comment-id');\r\n\r\n    const reactionType = reactionButton.getAttribute('data-type-definition');\r\n    const { id: reactionTypeId, definition: reactionTypeDefinition } = reactionTypes[reactionType];\r\n\r\n    let reactionMethod = getReactionMethod();\r\n\r\n    if (reactionTypeDefinition === 'flip off' && reactionMethod === 'delete') {\r\n      reactionMethod = 'create';\r\n    }\r\n\r\n    const {\r\n      masterData: { getAxiosOptions, handleAsyncError },\r\n      userContext: { user: { user_id: userId } },\r\n    } = this.context;\r\n    const axiosOptions = getAxiosOptions();\r\n\r\n    const commentReaction = {\r\n      comment_id: commentId,\r\n      user_id: userId,\r\n      type_id: reactionTypeId,\r\n    };\r\n\r\n    BATTLE_UTILS[`${reactionMethod}CommentReaction`](battleId, commentReaction, axiosOptions)\r\n      .then(this.handleRefreshBattleComments)\r\n      .catch(handleAsyncError);\r\n  }\r\n\r\n  componentDidMount() {\r\n    const { battleId } = this.props;\r\n    const { user_id: userId, nickname } = this.context.userContext.user;\r\n\r\n    const roomParams = {\r\n      userId,\r\n      nickname,\r\n      isBattleAudience: true,\r\n    };\r\n\r\n    const { ioSocket } = this.context.masterData;\r\n    ioSocket.emit('joinRoom', `battle-audience-${battleId}`, roomParams);\r\n    ioSocket.on('update', this.handleRefreshBattleComments);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    const { battleId } = this.props;\r\n\r\n    const audienceRoomParams = { isBattleAudience: true };\r\n\r\n    const { ioSocket } = this.context.masterData;\r\n    ioSocket.emit('leaveRoom', `battle-audience-${battleId}`, audienceRoomParams);\r\n    ioSocket.close();\r\n  }\r\n\r\n  render() {\r\n    const { parentComments } = this.state;\r\n    const {\r\n      battleId, contestants, rounds, audienceUsers,\r\n    } = this.props;\r\n\r\n    const { profile, user_id: userId } = this.context.userContext.user;\r\n    const { photo: userPhoto } = profile;\r\n\r\n    parentComments.sort((a,b) => new Date(a.createdAt) - new Date(b.createdAt));\r\n\r\n    const parentCommentComponents = parentComments.map(({\r\n      User: commentUser, Replies: replies, ...rest\r\n    }, index) => (\r\n      <Comment\r\n        key={index}\r\n        userId={userId}\r\n        userPhoto={userPhoto}\r\n        comment={rest}\r\n        parentCommentId={rest.id}\r\n        commentUser={commentUser}\r\n        replies={replies}\r\n        contestants={contestants}\r\n        rounds={rounds}\r\n        isUserOwner={userId === commentUser.user_id}\r\n        handleUpdateComment={this.handleUpdateComment}\r\n        handleCreateComment={this.handleCreateComment}\r\n        handleDeleteComment={this.handleDeleteComment}\r\n        handleCommentReaction={this.handleCommentReaction}\r\n      />\r\n    ));\r\n\r\n    return (\r\n      <div className=\"d-flex flex-column flex-sm-row my-sm-5 mx-md-3 mx-lg-5 pb-5 pb-sm-0 px-lg-5\">\r\n        <div className=\"flex-fill\">\r\n          <CommentInput\r\n            discussionId={battleId}\r\n            foreignKeyField=\"battle_id\"\r\n            userPhoto={userPhoto}\r\n            contestants={contestants}\r\n            rounds={rounds}\r\n            handleSubmitComment={this.handleCreateComment}\r\n          />\r\n\r\n          <div>\r\n            {!parentComments.length && (\r\n              <p>No comments. Be the first to comment!</p>\r\n            )}\r\n\r\n            {parentCommentComponents}\r\n          </div>\r\n        </div>\r\n\r\n        <AudienceList audienceUsers={audienceUsers} />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nBattleAudience.contextType = PageContext;\r\n","import React, { useContext } from 'react';\r\n\r\n// Components.\r\nimport { ListGroup, ListGroupItem } from 'reactstrap';\r\nimport { PageContext } from '../../utils/context/pageContext';\r\nimport {\r\n  MainModal, ChangePasswordInput, UsernameInput,\r\n  ChangeEmailInput,\r\n} from '..';\r\n\r\nexport default function EditProfileModal ({ setIsEditing }) {\r\n  const { user: { authMethod, user_id: userId } } = useContext(PageContext).userContext;\r\n  const listItems = [(\r\n    <UsernameInput key={`change-username-${userId}`} />\r\n  )];\r\n\r\n  if (authMethod === 'auth0') {\r\n    const emailComponent = (\r\n      <ChangeEmailInput\r\n        key={`change-email-${userId}`}\r\n        inputId=\"email\"\r\n        labelText=\"Email\"\r\n        inputType=\"email\"\r\n      />\r\n    );\r\n    const passwordComponent = (\r\n      <ChangePasswordInput\r\n        key={`change-password-${userId}`}\r\n        userId={userId}\r\n      />\r\n    );\r\n    listItems.push(emailComponent, passwordComponent);\r\n  }\r\n\r\n  listItems.push('Coming Soon: Delete your account');\r\n\r\n  return (\r\n    <MainModal\r\n      headerText=\"Edit Profile\"\r\n      submitButtonText=\"close\"\r\n      toggleButtonContent=\"Edit\"\r\n      toggleButtonProps={{\r\n        outline: true,\r\n        className: 'dropdown-item text-secondary border-0 rounded-0 outline-none'\r\n      }}\r\n      closeButtonClassName=\"d-none\"\r\n      setIsEditing={setIsEditing}\r\n      handleSubmit={null}\r\n    >\r\n      <ListGroup>\r\n        {listItems.map((item, index) => (\r\n          <ListGroupItem\r\n            key={index}\r\n            className=\"my-1 pb-0 py-1 rounded-0 bg-darkest text-left\"\r\n          >\r\n            {item}\r\n          </ListGroupItem>\r\n        ))}\r\n      </ListGroup>\r\n    </MainModal>\r\n  );\r\n}\r\n","import React, { Component } from 'react';\r\n\r\n// Components.\r\nimport { Button, Input, FormFeedback, Label } from 'reactstrap';\r\nimport { PageContext } from '../../utils/context/pageContext';\r\n\r\n// Styles, utils, and other helpers.\r\nimport { API_UTILS, CONSTANTS, HELPERS } from '../../utils';\r\nimport { MESSAGE_UNCHANGED_USERNAME } from '../../utils/constants';\r\n\r\nconst { USER_UTILS } = API_UTILS;\r\nconst { MESSAGE_UNAVAILABLE_USERNAME } = CONSTANTS;\r\nconst { MAIN_HELPER } = HELPERS;\r\n\r\nexport default class UsernameInput extends Component {\r\n  constructor(props, context) {\r\n    super(props, context);\r\n\r\n    const { nickname, socialNickname } = context.userContext.user;\r\n\r\n    this.state = {\r\n      username: nickname || socialNickname,\r\n      isValid: true,\r\n      isAvailable: false,\r\n      validationMessage: '',\r\n      isUpdateSuccessful: false,\r\n    };\r\n\r\n    // Bind class methods.\r\n    this.validateUsernameInput = this.validateUsernameInput.bind(this);\r\n    this.validateUsernameAvailability = this.validateUsernameAvailability.bind(this);\r\n    this.handleUsernameOnChange = this.handleUsernameOnChange.bind(this);\r\n    this.handleUsernameOnBlur = this.handleUsernameOnBlur.bind(this);\r\n    this.handleUsernameOnSubmit = this.handleUsernameOnSubmit.bind(this);\r\n  }\r\n\r\n  handleUsernameOnChange({ target: { value: username } }) {\r\n    this.setState(() => ({ username }));\r\n  }\r\n\r\n  handleUsernameOnBlur() {\r\n    this.validateUsernameInput();\r\n    this.validateUsernameAvailability();\r\n  }\r\n\r\n  validateUsernameInput() {\r\n    const { username } = this.state;\r\n    const usernameValidation = MAIN_HELPER.validateUsername(username);\r\n    const { isValid, validationMessage } = usernameValidation;\r\n\r\n    this.setState(() => ({\r\n      username,\r\n      isValid,\r\n      validationMessage,\r\n      isAvailable: false,\r\n    }));\r\n\r\n    return isValid;\r\n  }\r\n\r\n  validateUsernameAvailability(callback) {\r\n    const { username } = this.state;\r\n\r\n    const {\r\n      masterData: { getAxiosOptions, handleAsyncError },\r\n      userContext: {\r\n        user: { nickname: userNickname, user_id: userId }\r\n      }\r\n    } = this.context;\r\n\r\n    const axiosOptions = getAxiosOptions();\r\n    const trimmedUsername = username.trim();\r\n    const isUsernameChanged = userNickname !== trimmedUsername;\r\n\r\n    USER_UTILS.isUsernameAvailable(userId, trimmedUsername, axiosOptions)\r\n      .then(usernameAvailabilityResult => {\r\n        const { isUsernameAvailable } = usernameAvailabilityResult.data;\r\n\r\n        this.setState(() => ({\r\n          isValid: isUsernameChanged ? isUsernameAvailable : true,\r\n          validationMessage: isUsernameChanged ? MESSAGE_UNAVAILABLE_USERNAME : MESSAGE_UNCHANGED_USERNAME,\r\n          isAvailable: isUsernameChanged ? isUsernameAvailable : false,\r\n        }));\r\n\r\n        if (callback) return callback(isUsernameAvailable);\r\n      })\r\n      .catch(handleAsyncError);\r\n  }\r\n\r\n  handleUsernameOnSubmit(event) {\r\n    event.preventDefault();\r\n\r\n    const isInputValid = this.validateUsernameInput();\r\n    if (!isInputValid) return;\r\n\r\n    const { username } = this.state;\r\n\r\n    const {\r\n      masterData: { getAxiosOptions, handleAsyncError },\r\n      userContext: {\r\n        user: { user_id: userId },\r\n        methodData: { updateUser },\r\n      }\r\n    } = this.context;\r\n\r\n    const trimmedUsername = username.trim();\r\n\r\n    this.validateUsernameAvailability(isAvailable => {\r\n      if (!isAvailable) return;\r\n\r\n      const updatedUser = {\r\n        user_id: userId,\r\n        nickname: trimmedUsername\r\n      };\r\n\r\n      const axiosOptions = getAxiosOptions();\r\n      USER_UTILS.update(updatedUser, axiosOptions)\r\n        .then(() => this.setState(() => ({ isUpdateSuccessful: true }), updateUser))\r\n        .catch(handleAsyncError);\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      username, isValid, isAvailable, validationMessage,\r\n      isUpdateSuccessful,\r\n    } = this.state;\r\n\r\n    return (\r\n      <form onSubmit={this.handleUsernameOnSubmit}>\r\n        <div>\r\n          <Label\r\n            for=\"username\"\r\n            className=\"m-0\"\r\n          >Username</Label>\r\n          <Input\r\n            id=\"username\"\r\n            valid={isAvailable}\r\n            invalid={!isValid}\r\n            value={username}\r\n            onChange={this.handleUsernameOnChange}\r\n            onBlur={this.handleUsernameOnBlur}\r\n            className=\"form-control-sm\"\r\n          />\r\n          <FormFeedback>{validationMessage}</FormFeedback>\r\n        </div>\r\n\r\n        <div className=\"d-flex flex-wrap flex-sm-nowrap\">\r\n          {isUpdateSuccessful && (\r\n            <small className=\"flex-fill mx-3 form-text text-success\">\r\n              Successfully updated username.\r\n            </small>\r\n          )}\r\n\r\n          <Button\r\n            color=\"link\"\r\n            type=\"submit\"\r\n            className=\"btn-sm d-block ml-auto text-decoration-none\"\r\n          >\r\n            continue\r\n          </Button>\r\n        </div>\r\n      </form>\r\n    );\r\n  }\r\n}\r\n\r\nUsernameInput.contextType = PageContext;\r\n","import React, { Component } from 'react';\r\nimport bcrypt from 'bcrypt-nodejs';\r\n\r\n// Components.\r\nimport { Button, FormFeedback, Input, Label } from 'reactstrap';\r\nimport { PageContext } from '../../utils/context/pageContext';\r\n\r\n// Styles, utils, and other helpers.\r\nimport { API_UTILS, HELPERS } from '../../utils';\r\n\r\nconst { USER_UTILS } = API_UTILS;\r\nconst { MAIN_HELPER } = HELPERS;\r\n\r\nexport default class ChangePasswordInput extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      password: {\r\n        value: '',\r\n        isValid: false,\r\n        validationMessage: '',\r\n      },\r\n      confirmPassword: {\r\n        value: '',\r\n        isValid: false,\r\n        validationMessage: '',\r\n      },\r\n      isUpdateSuccessful: false,\r\n    };\r\n\r\n    // Bind class methods.\r\n    this.handlePasswordOnChange = this.handlePasswordOnChange.bind(this);\r\n    this.handlePasswordOnBlur = this.handlePasswordOnBlur.bind(this);\r\n    this.handlePasswordOnSubmit = this.handlePasswordOnSubmit.bind(this);\r\n  }\r\n\r\n  handlePasswordOnChange(event) {\r\n    const { target: passwordInput } = event;\r\n    const stateProperty = passwordInput.id;\r\n    const passwordValue = passwordInput.value;\r\n    const { password, confirmPassword } = this.state;\r\n\r\n    const updatedState = {\r\n      password,\r\n      confirmPassword\r\n    };\r\n\r\n    const passwordValidation = MAIN_HELPER.validatePassword(passwordValue);\r\n\r\n    let { isValid, validationMessage } = passwordValidation;\r\n\r\n    if (stateProperty === 'confirmPassword' && isValid) {\r\n      isValid = password.value.trim() === passwordValue.trim();\r\n      if (!isValid) {\r\n        validationMessage = 'Passwords do not match.';\r\n      }\r\n    }\r\n\r\n    updatedState[stateProperty] = {\r\n      value: passwordValue,\r\n      isValid: isValid || !passwordValue.trim(),\r\n      validationMessage\r\n    };\r\n\r\n    this.setState(() => updatedState);\r\n  }\r\n\r\n  handlePasswordOnBlur(event) {\r\n    const { target: passwordInput } = event;\r\n    const stateProperty = passwordInput.id;\r\n    const { password, confirmPassword } = this.state;\r\n\r\n    const updatedState = {\r\n      password,\r\n      confirmPassword\r\n    };\r\n\r\n    const stateToValidate = updatedState[stateProperty];\r\n    const { value: passwordValue } = stateToValidate;\r\n    const trimmedPassword = passwordValue.trim();\r\n\r\n    const passwordValidation = MAIN_HELPER.validatePassword(trimmedPassword);\r\n\r\n    let { isValid, validationMessage } = passwordValidation;\r\n\r\n    if (stateProperty === 'confirmPassword' && isValid) {\r\n      isValid = password.value.trim() === passwordValue.trim();\r\n      if (!isValid) {\r\n        validationMessage = 'Passwords do not match.';\r\n      }\r\n    }\r\n\r\n    updatedState[stateProperty] = {\r\n      ...updatedState[stateProperty],\r\n      isValid: isValid || !trimmedPassword,\r\n      validationMessage\r\n    };\r\n\r\n    this.setState(() => (updatedState));\r\n  }\r\n\r\n  handlePasswordOnSubmit(event) {\r\n    event.preventDefault();\r\n\r\n    const { password, confirmPassword } = this.state;\r\n    const { userId } = this.props;\r\n    const { getAxiosOptions, handleAsyncError } = this.context.masterData;\r\n    const axiosOptions = getAxiosOptions();\r\n\r\n    if (password.value.trim() !== confirmPassword.value.trim()) {\r\n      return this.setState(() => ({\r\n        confirmPassword: {\r\n          ...confirmPassword,\r\n          isValid: false,\r\n          validationMessage: 'Passwords do not match.'\r\n        }\r\n      }));\r\n    }\r\n\r\n    if (!password.value.trim() || !confirmPassword.value.trim()) return;\r\n\r\n    bcrypt.hash(password.value.trim(), null, null, (error, hashedPassword) => {\r\n      if (error) throw error;\r\n\r\n      this.setState(() => ({ isUpdateSuccessful: false }), () => {\r\n        const updatedUser = {\r\n          user_id: userId,\r\n          password: hashedPassword,\r\n        };\r\n\r\n        USER_UTILS.update(updatedUser, axiosOptions)\r\n          .then(() => this.setState(() => ({ isUpdateSuccessful: true })))\r\n          .catch(handleAsyncError);\r\n      });\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      isUpdateSuccessful,\r\n      password: {\r\n        value: passwordValue,\r\n        isValid: isPasswordValid,\r\n        validationMessage: passwordValidationMessage\r\n      },\r\n      confirmPassword: {\r\n        value: confirmPasswordValue,\r\n        isValid: isConfirmPasswordValid,\r\n        validationMessage: confirmPasswordValidationMessage,\r\n      }\r\n    } = this.state;\r\n\r\n    return (\r\n      <form onSubmit={this.handlePasswordOnSubmit}>\r\n        <div>\r\n          <Label\r\n            for=\"password\"\r\n            className=\"m-0\"\r\n          >New Password</Label>\r\n          <Input\r\n            id=\"password\"\r\n            type=\"password\"\r\n            valid={isPasswordValid && passwordValue !== ''}\r\n            invalid={!isPasswordValid && passwordValue !== ''}\r\n            value={passwordValue}\r\n            onChange={this.handlePasswordOnChange}\r\n            onBlur={this.handlePasswordOnBlur}\r\n            className=\"form-control-sm\"\r\n          />\r\n          <FormFeedback>{passwordValidationMessage}</FormFeedback>\r\n        </div>\r\n\r\n        <div>\r\n          <Label\r\n            for=\"confirmPassword\"\r\n            className=\"m-0\"\r\n          >Confirm Password</Label>\r\n          <Input\r\n            id=\"confirmPassword\"\r\n            type=\"password\"\r\n            valid={isConfirmPasswordValid && confirmPasswordValue !== ''}\r\n            invalid={!isConfirmPasswordValid && confirmPasswordValue !== ''}\r\n            value={confirmPasswordValue}\r\n            onChange={this.handlePasswordOnChange}\r\n            onBlur={this.handlePasswordOnBlur}\r\n            className=\"form-control-sm\"\r\n          />\r\n          <FormFeedback>{confirmPasswordValidationMessage}</FormFeedback>\r\n        </div>\r\n\r\n        <div className=\"d-flex align-items-center flex-wrap flex-sm-nowrap\">\r\n          {isUpdateSuccessful && (\r\n            <small className=\"flex-fill mx-3 form-text text-success\">\r\n              Successfully updated password.\r\n            </small>\r\n          )}\r\n\r\n          <Button\r\n            color=\"link\"\r\n            type=\"submit\"\r\n            className=\"btn-sm d-block ml-auto text-decoration-none\"\r\n          >\r\n            continue\r\n          </Button>\r\n        </div>\r\n      </form>\r\n    );\r\n  }\r\n}\r\n\r\nChangePasswordInput.contextType = PageContext;\r\n","import React, { Component } from 'react';\r\n\r\n// Components.\r\nimport { PageContext } from '../../utils/context/pageContext';\r\nimport {\r\n  BattleListTabs, DynamicBattleInfo, DynamicTournamentInfo\r\n} from '../';\r\n\r\n// Styles, helpers and other utils.\r\nimport { API_UTILS, HELPERS } from '../../utils';\r\n\r\nconst {\r\n  BATTLE_UTILS, BATTLE_REQUEST_UTILS, BATTLE_ROLE_UTILS,\r\n  BATTLE_OPTION_UTILS, BATTLE_CHALLENGE_UTILS,\r\n  TOURNAMENT_UTILS,\r\n} = API_UTILS;\r\nconst { BATTLE_HELPER, MAIN_HELPER } = HELPERS;\r\n\r\nexport default class FindBattle extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      selectedBattle: {},\r\n      currentBattles: [],\r\n      pendingBattles: [],\r\n      requestedBattles: [],\r\n      historyBattles: [],\r\n      battleRoles: {},\r\n      selectedBattleType: null,\r\n    };\r\n\r\n    // Bind class methods.\r\n    this.getBattleRoles = this.getBattleRoles.bind(this);\r\n    this.getBattles = this.getBattles.bind(this);\r\n    this.updateBattle = this.updateBattle.bind(this);\r\n    this.handleJoinBattle = this.handleJoinBattle.bind(this);\r\n    this.handleSortBattleList = this.handleSortBattleList.bind(this);\r\n    this.handleBattleItemOnClick = this.handleBattleItemOnClick.bind(this);\r\n    this.handleAddRemoveBattleRequest = this.handleAddRemoveBattleRequest.bind(this);\r\n    this.handleBattleChallengeResponse = this.handleBattleChallengeResponse.bind(this);\r\n  }\r\n\r\n  getBattleRoles() {\r\n    const { getAxiosOptions, handleAsyncError } = this.context.masterData;\r\n    const axiosOptions = getAxiosOptions();\r\n    BATTLE_ROLE_UTILS.getAll(axiosOptions)\r\n      .then(({ data: battleRolesData }) => {\r\n        const battleRoles = BATTLE_HELPER.getBattleRolesObject(battleRolesData);\r\n        this.getBattles(battleRoles);\r\n      }).catch(handleAsyncError);\r\n  }\r\n\r\n  getBattles(battleRoles) {\r\n    const { getAxiosOptions, handleAsyncError } = this.context.masterData;\r\n    const axiosOptions = getAxiosOptions();\r\n\r\n    const serverRequests = [\r\n      BATTLE_UTILS.getBattles(axiosOptions),\r\n      BATTLE_REQUEST_UTILS.getAll(axiosOptions),\r\n      TOURNAMENT_UTILS.getAll(axiosOptions)\r\n    ];\r\n\r\n    Promise.all(serverRequests)\r\n      .then(([battlesResult, battleRequestsResult, tournamentsResult]) => this.setState(() => {\r\n        const { data: battlesData } = battlesResult;\r\n        const { data: requestedBattles } = battleRequestsResult;\r\n        const { data: tournaments } = tournamentsResult;\r\n\r\n        const currentBattles = battlesData.filter(battle => {\r\n          const { definition: battleStatus } = battle.Status;\r\n          return (battleStatus !== 'staging') && (battleStatus !== 'closed');\r\n        });\r\n\r\n        const pendingBattles = battlesData.filter(battle => battle.Status.definition === 'staging');\r\n\r\n        const historyBattles = battlesData.filter(battle => battle.Status.definition === 'closed');\r\n\r\n        return ({\r\n          currentBattles,\r\n          pendingBattles,\r\n          historyBattles,\r\n          requestedBattles,\r\n          tournaments,\r\n          battleRoles\r\n        });\r\n      }))\r\n      .catch(handleAsyncError);\r\n  }\r\n\r\n  updateBattle() {\r\n    const { currentBattles, selectedBattle } = this.state;\r\n    const { getAxiosOptions, handleAsyncError } = this.context.masterData;\r\n\r\n    const { id: battleId } = selectedBattle;\r\n    const axiosOptions = getAxiosOptions();\r\n\r\n    BATTLE_UTILS.getOneBattle(battleId, axiosOptions)\r\n      .then(battleResult => {\r\n        const updatedBattle = battleResult.data;\r\n        const updatedBattles = currentBattles.map(battle => {\r\n          if (battle.id === updatedBattle.id) {\r\n            battle = updatedBattle;\r\n          }\r\n          return battle;\r\n        });\r\n        this.setState(() => ({\r\n          currentBattles: updatedBattles,\r\n          selectedBattle: updatedBattle\r\n        }));\r\n      })\r\n      .catch(handleAsyncError);\r\n  }\r\n\r\n  handleJoinBattle(event) {\r\n    const { selectedBattle, battleRoles } = this.state;\r\n    const { userId } = this.props;\r\n\r\n    const {\r\n      getAxiosOptions, handleAsyncError, handleOpenAlert,\r\n      handleCloseAlert\r\n    } = this.context.masterData;\r\n\r\n    const { UserBattles: userBattles, Rounds: rounds, Status: status } = selectedBattle;\r\n    const { definition: battleStatus } = status;\r\n\r\n    const participants = BATTLE_HELPER.getAllParticipants(userBattles, rounds);\r\n    const { contestants, judges } = participants;\r\n    const isUserContestant = BATTLE_HELPER.isUserParticipant(contestants, userId);\r\n    const isUserJudge = BATTLE_HELPER.isUserParticipant(judges, userId);\r\n\r\n    const participantButton = event.target;\r\n    const role = participantButton.getAttribute('data-role');\r\n    const seatNumber = participantButton.getAttribute('data-seat-number');\r\n    const roleId = battleRoles[role].id;\r\n    const roleParticipants = participants[`${role}s`];\r\n\r\n    const participantsCount = roleParticipants.filter(participant => participant.id).length;\r\n    const maxParticipantCount = role === 'contestant' ? 2 : 3;\r\n    const isRoleFull = participantsCount === maxParticipantCount;\r\n\r\n    let message;\r\n    if (battleStatus === 'closed') {\r\n      message = 'This battle has ended.\\nWARNING: You cannot join a batttle that is over.';\r\n      return handleOpenAlert(message, false);\r\n    }\r\n\r\n    if (role === 'contestant' && battleStatus !== 'staging') {\r\n      message = 'This battle has already started or has ended\\nWARNING: You can only join a battle as a contestant during the staging round.';\r\n      return handleOpenAlert(message, false);\r\n    }\r\n\r\n    if (isRoleFull) {\r\n      message = `All of the ${role} seats are full. Consider joining another battle or joining this one as a ${role === 'contestant' ? 'judge' : 'contestant'}`;\r\n      return handleOpenAlert(message, false);\r\n    }\r\n\r\n    if (isUserContestant || isUserJudge) {\r\n      message = `You are already a ${isUserContestant ? 'contestant' : 'judge'} in this battle. You need to leave that role before can join another one.\\nWARNING: Leaving a battle after it has started will result in a penalty.`;\r\n      return handleOpenAlert(message);\r\n    }\r\n\r\n    message = `Are you sure that you want to join this battle as a ${role}?\\nWARNING: Leaving a battle after it has started will result in a penalty.`;\r\n    handleOpenAlert(message, true, null, () => {\r\n      handleCloseAlert();\r\n      const participantNumber = seatNumber ? seatNumber : BATTLE_HELPER.getSeatNumber(roleParticipants);\r\n\r\n      const axiosOptions = getAxiosOptions();\r\n\r\n      const newParticipant = {\r\n        userId,\r\n        roleId,\r\n        participantNumber: parseInt(participantNumber, 10),\r\n        isReady: role === 'judge',\r\n      };\r\n\r\n      const params = [\r\n        selectedBattle.id,\r\n        newParticipant\r\n      ];\r\n\r\n      BATTLE_UTILS.joinBattle(params, axiosOptions)\r\n        .then(this.updateBattle)\r\n        .catch(handleAsyncError);\r\n    });\r\n  }\r\n\r\n  handleSortBattleList(sortField) {\r\n    if (sortField === -1) return;\r\n    const { currentBattles: stateCurrentBattles } = this.state;\r\n    const currentBattles = MAIN_HELPER.sortBattles(stateCurrentBattles, sortField);\r\n    this.setState(() => ({ currentBattles }));\r\n  }\r\n\r\n  handleBattleItemOnClick(event) {\r\n    const {\r\n      currentBattles, pendingBattles, tournaments,\r\n      requestedBattles, historyBattles,\r\n    } = this.state;\r\n\r\n    const battleLists = {\r\n      currentBattles, pendingBattles, tournaments,\r\n      requestedBattles, historyBattles,\r\n    };\r\n\r\n    const { target: battleItem } = event;\r\n    const selectedBattleId = battleItem.getAttribute('data-battle-id');\r\n    const selectedBattleStateList = battleItem.getAttribute('data-state-property');\r\n    const selectedBattle = battleLists[selectedBattleStateList].filter(battle => battle.id === selectedBattleId)[0];\r\n\r\n    this.setState(prevState => {\r\n      if (!prevState.selectedBattle.id) {\r\n        return {\r\n          selectedBattle,\r\n          selectedBattleType: selectedBattleStateList\r\n        };\r\n      }\r\n\r\n      if (prevState.selectedBattle.id === selectedBattleId) {\r\n        return {\r\n          selectedBattle: {},\r\n          selectedBattleType: null,\r\n        };\r\n      }\r\n\r\n      return {\r\n        selectedBattle,\r\n        selectedBattleType: selectedBattleStateList,\r\n      };\r\n    });\r\n  }\r\n\r\n  handleAddRemoveBattleRequest(event) {\r\n    const { selectedBattle, requestedBattles } = this.state;\r\n    const { userId } = this.props;\r\n    const { getAxiosOptions, handleAsyncError } = this.context.masterData;\r\n    const {\r\n      id: battleRequestId,\r\n      RequestedContestants: requestedContestants,\r\n      RequestingUsers: requestingUsers,\r\n    } = selectedBattle;\r\n    const axiosOptions = getAxiosOptions();\r\n\r\n    const userBattleRequest = requestingUsers.filter(userData => {\r\n      return userData.user_id === userId;\r\n    })[0];\r\n\r\n    const [contestantOneData, contestantTwoData] = requestedContestants;\r\n    const { user_id: contestantOneUserId } = contestantOneData;\r\n    const { user_id: contestantTwoUserId } = contestantTwoData;\r\n\r\n    let apiMethod = userBattleRequest ? 'delete' : 'create';\r\n    const isUserRequestedContestant = (contestantOneUserId === userId || contestantTwoUserId === userId);\r\n\r\n    if (isUserRequestedContestant) {\r\n      apiMethod = 'updateRequestedStatus';\r\n    }\r\n\r\n    const userRequestContestant = (isUserRequestedContestant && contestantOneUserId === userId) ? contestantOneData : contestantTwoData;\r\n\r\n    const { BattleRequestStatus: battleRequestStatus } = userRequestContestant;\r\n    const { definition: currentStatus } = battleRequestStatus;\r\n    const statusDefinition = event.target.getAttribute('data-status-definition');\r\n\r\n    if (isUserRequestedContestant && (currentStatus === statusDefinition)) return;\r\n\r\n    const apiRequestParams = [userId];\r\n    switch (apiMethod) {\r\n      case 'create':\r\n        apiRequestParams.push({\r\n          requestor_user_id: userId,\r\n          user_one_id: contestantOneUserId,\r\n          user_two_id: contestantTwoUserId,\r\n        });\r\n        break;\r\n      case 'delete':\r\n        apiRequestParams.push(userBattleRequest.battle_request_id);\r\n        break;\r\n      case 'updateRequestedStatus':\r\n        apiRequestParams.push(battleRequestId, statusDefinition || currentStatus, {});\r\n        break;\r\n\r\n      default:\r\n        break;\r\n    }\r\n\r\n    BATTLE_REQUEST_UTILS[apiMethod](apiRequestParams, axiosOptions)\r\n      .then(({ data: resultData }) => {\r\n        let updatedSelectedBattle = { ...selectedBattle };\r\n        let updatedRequestedBattles = requestedBattles.concat([]);\r\n\r\n        const updateStateData = (updatedBattleRequest) => {\r\n          if (updatedBattleRequest) {\r\n            updatedRequestedBattles = requestedBattles.map(requestedBattle => {\r\n              if (requestedBattle.id === selectedBattle.id) {\r\n                updatedSelectedBattle = updatedBattleRequest;\r\n                return updatedSelectedBattle;\r\n              }\r\n\r\n              return requestedBattle;\r\n            });\r\n          } else {\r\n            updatedSelectedBattle = {};\r\n            updatedRequestedBattles = requestedBattles.filter(requestedBattle => {\r\n              return (requestedBattle.id !== selectedBattle.id);\r\n            });\r\n          }\r\n\r\n          this.setState(() => ({\r\n            selectedBattle: updatedSelectedBattle,\r\n            requestedBattles: updatedRequestedBattles,\r\n          }));\r\n        };\r\n\r\n        const {\r\n          isFinalRequest,\r\n          battle_request_id: battleRequestId,\r\n        } = resultData;\r\n        if (battleRequestId) {\r\n          BATTLE_REQUEST_UTILS.getOne(userId, battleRequestId, axiosOptions)\r\n            .then(({ data: battleRequestData }) => {\r\n              updateStateData(battleRequestData);\r\n            });\r\n        } else {\r\n          const updatedRequestingUsers = requestingUsers.filter(userData => userData.user_id !== userId);\r\n\r\n          updatedSelectedBattle = {\r\n            ...selectedBattle,\r\n            RequestingUsers: updatedRequestingUsers,\r\n          };\r\n\r\n          if (isFinalRequest) updatedSelectedBattle = null;\r\n\r\n          updateStateData(updatedSelectedBattle);\r\n        }\r\n      })\r\n      .catch(handleAsyncError);\r\n  }\r\n\r\n  handleBattleChallengeResponse(event) {\r\n    const { target: responseButton } = event;\r\n\r\n    const newStatusDefinition = responseButton.getAttribute('data-status-definition');\r\n\r\n    // Returns if battle challenge request.\r\n    if (!newStatusDefinition) return;\r\n\r\n\r\n    const { selectedBattle, pendingBattles } = this.state;\r\n    const {\r\n      id: battleId,\r\n      BattleChallenge: battleChallenge,\r\n    } = selectedBattle;\r\n    const { userId, updateUser } = this.props;\r\n    const { getAxiosOptions, handleAsyncError } = this.context.masterData;\r\n    const axiosOptions = getAxiosOptions();\r\n    const apiRequests = [];\r\n\r\n    const {\r\n      id: challengeId,\r\n      BattleChallengeRequests: challengeRequests,\r\n    } = battleChallenge;\r\n\r\n    const isUserChallengeRequestor = challengeRequests.filter(challengeRequest => challengeRequest.user_id === userId).length > 0;\r\n\r\n    const challengeRequest = {\r\n      user_id: userId,\r\n      battle_challenge_id: challengeId,\r\n    };\r\n\r\n    switch (newStatusDefinition) {\r\n      case 'accepted':\r\n        apiRequests.push(\r\n          BATTLE_OPTION_UTILS.getRoleId('contestant', axiosOptions),\r\n          BATTLE_UTILS.updateBattleChallenge(battleId, newStatusDefinition, axiosOptions),\r\n        );\r\n        break;\r\n      case 'rejected':\r\n        apiRequests.push(BATTLE_UTILS.deleteBattle([battleId], axiosOptions));\r\n        break;\r\n      case 'request':\r\n        if (isUserChallengeRequestor) {\r\n          apiRequests.push(BATTLE_CHALLENGE_UTILS.deleteRequest(userId, challengeId, axiosOptions));\r\n        } else {\r\n          apiRequests.push(BATTLE_CHALLENGE_UTILS.createRequest(challengeId, challengeRequest, axiosOptions));\r\n        }\r\n        break;\r\n      default:\r\n        alert('An unexpected error occurred. Please refresh the page');\r\n        break;\r\n    }\r\n\r\n    apiRequests.push(\r\n      // NOTIFICATION_UTILS.update(userId, notificationId, {\r\n      //   is_request_accepted: isRequestAccepted,\r\n      //   is_read: true,\r\n      // }, axiosOptions),\r\n    );\r\n\r\n    Promise.all(apiRequests)\r\n      .then(([roleResult]) => {\r\n        const { id: roleId } = roleResult.data;\r\n        let updatedSelectedBattle = { ...selectedBattle };\r\n        let updatedPendingBattles = pendingBattles.concat([]);\r\n\r\n        const updateStateData = (updatedBattle) => {\r\n          if (updatedBattle) {\r\n            updatedPendingBattles = pendingBattles.map(pendingBattle => {\r\n              if (pendingBattle.id === selectedBattle.id) {\r\n                updatedSelectedBattle = updatedBattle;\r\n                return updatedSelectedBattle;\r\n              }\r\n              return pendingBattle;\r\n            });\r\n          } else {\r\n            updatedSelectedBattle = {};\r\n            updatedPendingBattles = pendingBattles.filter(pendingBattle => {\r\n              return (pendingBattle.id !== selectedBattle.id);\r\n            });\r\n          }\r\n\r\n          this.setState(() => ({\r\n            selectedBattle: updatedSelectedBattle,\r\n            pendingBattles: updatedPendingBattles,\r\n          }), updateUser);\r\n        };\r\n\r\n\r\n        if (roleId || newStatusDefinition === 'request') {\r\n          const participant = {\r\n            userId,\r\n            roleId,\r\n            participantNumber: 2,\r\n            isReady: false,\r\n          };\r\n\r\n          const nextApiRequests = [];\r\n          if (newStatusDefinition === 'accepted') {\r\n            nextApiRequests.push(BATTLE_UTILS.joinBattle([battleId, participant], axiosOptions));\r\n          }\r\n\r\n          Promise.all(nextApiRequests)\r\n            .then(() => BATTLE_UTILS.getOneBattle(battleId, axiosOptions))\r\n            .then(({ data: updatedBattle }) => updateStateData(updatedBattle));\r\n        } else {\r\n          updateStateData(null);\r\n        }\r\n      })\r\n      .catch(handleAsyncError);\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.getBattleRoles();\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      currentBattles, pendingBattles, requestedBattles, historyBattles,\r\n      tournaments, battleRoles, selectedBattle, selectedBattleType,\r\n    } = this.state;\r\n    const { userId } = this.props;\r\n    const selectedBattleId = selectedBattle.id || 0;\r\n\r\n    const battlesData = [{\r\n      labelText: 'pending',\r\n      order: 0,\r\n      battles: pendingBattles,\r\n      stateProperty: 'pendingBattles'\r\n    }, {\r\n      labelText: 'current',\r\n      order: 1,\r\n      battles: currentBattles,\r\n      stateProperty: 'currentBattles'\r\n    }, {\r\n      labelText: 'tournaments',\r\n      order: 2,\r\n      battles: tournaments || [],\r\n      stateProperty: 'tournaments'\r\n    }, {\r\n      labelText: 'requests',\r\n      order: 3,\r\n      battles: requestedBattles,\r\n      stateProperty: 'requestedBattles'\r\n    }, {\r\n      labelText: 'history',\r\n      order: 4,\r\n      battles: historyBattles,\r\n      stateProperty: 'historyBattles'\r\n    }];\r\n\r\n    return (\r\n      <div className=\"d-flex flex-column flex-sm-row my-5\">\r\n        <BattleListTabs\r\n          battlesData={battlesData}\r\n          selectedBattleId={selectedBattleId}\r\n          handleSortBattleList={this.handleSortBattleList}\r\n          handleBattleItemOnClick={this.handleBattleItemOnClick}\r\n        />\r\n\r\n        {selectedBattleType === 'tournaments' ? (\r\n          <DynamicTournamentInfo\r\n            key={selectedBattleId}\r\n            selectedTournament={selectedBattle}\r\n          />\r\n        ) : (\r\n          <DynamicBattleInfo\r\n            key={selectedBattleId}\r\n            userId={userId}\r\n            selectedBattle={selectedBattle}\r\n            isSelectedBattleRequested={selectedBattle.RequestedContestants ? true : false}\r\n            isSelectedBattleChallenge={selectedBattle.BattleChallenge ? true : false}\r\n            battleRoles={battleRoles}\r\n            handleJoinBattleOnClick={this.handleJoinBattle}\r\n            handleAddRemoveBattleRequest={this.handleAddRemoveBattleRequest}\r\n            handleBattleChallengeResponse={this.handleBattleChallengeResponse}\r\n          />\r\n        )}\r\n\r\n\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nFindBattle.contextType = PageContext;\r\n","import React, { useContext } from 'react';\r\nimport { PageContext } from '../../utils/context/pageContext';\r\n\r\n// Components.\r\nimport { Button } from 'reactstrap';\r\nimport { CreateBattleDropdown } from '../';\r\n\r\nexport default function BattleActions({ userId }) {\r\n  const { masterData: { handleOpenAlert } } = useContext(PageContext);\r\n  return (\r\n    <div className=\"flex-fill d-flex justify-content-around\">\r\n      <CreateBattleDropdown userId={userId} />\r\n\r\n      <Button\r\n        outline\r\n        onClick={() => handleOpenAlert('We want you to be able to quickly join a battle.\\nWARNING: This feature is currently being developed. Please be patient while we get it just right for you.', false)}\r\n        className=\"flex-fill d-flex flex-column align-items-center justify-content-center btn btn-outline-success ml-3 mx-sm-3 rounded-0 text-xxl font-weight-bolder\"\r\n      >\r\n        <span>Battle</span>\r\n        <span>Now</span>\r\n      </Button>\r\n    </div>\r\n  );\r\n}\r\n","import React, { Component } from 'react';\r\n\r\n// Components.\r\nimport { Button, Carousel, CarouselItem, CarouselControl } from 'reactstrap';\r\nimport { PageConsumer, PageContext } from '../../utils/context/pageContext';\r\n\r\n// Styles, utils, and other helpers.\r\nimport { API_UTILS, CONSTANTS, HELPERS } from '../../utils';\r\n\r\nconst { BATTLE_UTILS } = API_UTILS;\r\nconst { DEFAULT_PROFILE_PHOTO_URL, MESSAGE_ALL_PENDING_FEATURE } = CONSTANTS;\r\nconst { BATTLE_HELPER } = HELPERS;\r\n\r\nexport default class FeaturedBattles extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      featuredBattles: [],\r\n      activeCarouselIndex: 0,\r\n      isCarouselAnimating: false,\r\n    };\r\n\r\n    // Bind class methods.\r\n    this.handleSetActiveCarouselIndex = this.handleSetActiveCarouselIndex.bind(this);\r\n    this.handleSetIsCarouselAnimating = this.handleSetIsCarouselAnimating.bind(this);\r\n    this.handleShowNextCarouselSlide = this.handleShowNextCarouselSlide.bind(this);\r\n    this.handleShowPreviousCarouselSlide = this.handleShowPreviousCarouselSlide.bind(this);\r\n    this.handleTempClick = this.handleTempClick.bind(this);\r\n  }\r\n\r\n  handleSetActiveCarouselIndex (newIndex) {\r\n    this.setState(prevState => prevState.activeCarouselIndex !== newIndex ? { activeCarouselIndex: newIndex } : null);\r\n  }\r\n\r\n  handleSetIsCarouselAnimating (isAnimating) {\r\n    this.setState(prevState => prevState.isCarouselAnimating !== isAnimating ? { isCarouselAnimating: isAnimating } : null);\r\n  }\r\n\r\n  handleShowNextCarouselSlide () {\r\n    const { activeCarouselIndex, featuredBattles, isCarouselAnimating } = this.state;\r\n    if (isCarouselAnimating) return;\r\n    const nextIndex = activeCarouselIndex === featuredBattles.length - 1 ? 0 : activeCarouselIndex + 1;\r\n    this.handleSetActiveCarouselIndex(nextIndex);\r\n  }\r\n\r\n  handleShowPreviousCarouselSlide () {\r\n    const { activeCarouselIndex, featuredBattles, isCarouselAnimating } = this.state;\r\n    if (isCarouselAnimating) return;\r\n\r\n    const previousIndex = activeCarouselIndex === 0 ? featuredBattles.length - 1 : activeCarouselIndex - 1;\r\n    this.handleSetActiveCarouselIndex(previousIndex);\r\n  }\r\n\r\n  handleTempClick () {\r\n    this.context.masterData.handleOpenAlert(MESSAGE_ALL_PENDING_FEATURE);\r\n  }\r\n\r\n  componentDidMount() {\r\n    const { getAxiosOptions, handleAsyncError } = this.context.masterData;\r\n    const axiosOption = getAxiosOptions();\r\n\r\n    BATTLE_UTILS.getFeaturedBattles(axiosOption)\r\n      .then(featuredBattlesResult => {\r\n        const featuredBattles = featuredBattlesResult.data.map(featuredBattle => featuredBattle.Battle);\r\n        this.setState(() => ({ featuredBattles }));\r\n      })\r\n      .catch(handleAsyncError);\r\n  }\r\n\r\n  render() {\r\n    const { featuredBattles, activeCarouselIndex } = this.state;\r\n    const carouselSlides = featuredBattles.map(battle => {\r\n      const {\r\n        id: battleId, UserBattles: userBattles, Rounds: rounds, RoundCount, RoundLength,\r\n        Status, Type, JudgingType\r\n      } = battle;\r\n      const { definition: roundCount } = RoundCount;\r\n      const { definition: roundLength } = RoundLength;\r\n      const { definition: battleStatus } = Status;\r\n      const { definition: battleType } = Type;\r\n      const { definition: judgingType } = JudgingType;\r\n      const participants = BATTLE_HELPER.getAllParticipants(userBattles || [], rounds);\r\n      const { contestants } = participants;\r\n\r\n      const roundLengthValue = roundLength > 24 ? roundLength / 24 : roundLength;\r\n      let roundLengthText = roundLength > 24 ? 'day' : 'hour';\r\n      if (roundLengthValue > 1) roundLengthText += 's';\r\n\r\n      const roundInfoText = `${roundCount} ${roundCount > 1 ? 'rounds' : 'round'} @ ${roundLengthValue} ${roundLengthText}`;\r\n\r\n      return (\r\n        <CarouselItem\r\n          key={battleId}\r\n          onExiting={() => this.handleSetIsCarouselAnimating(true)}\r\n          onExited={() => this.handleSetIsCarouselAnimating(false)}\r\n          className=\"h-100\"\r\n        >\r\n          <PageConsumer key={battleId}>\r\n            {({ masterData: { goTo } }) => (\r\n              <div className=\"d-flex flex-column h-100 py-2\">\r\n                <div className=\"d-flex justify-content-center\">\r\n                  {contestants.map((contestant, index) => {\r\n                    const { User: contestantUser } = contestant;\r\n                    const isSeatFilled = (contestant.user_id !== undefined) && (contestant.user_id !== null);\r\n\r\n                    const contestantPhotoUrl = isSeatFilled && contestant.id && contestant.User.Profile.photo ? contestant.User.Profile.photo : DEFAULT_PROFILE_PHOTO_URL;\r\n\r\n                    return (\r\n                      <div\r\n                        key={isSeatFilled ? `${contestantUser.id}-${index}-${battleId}` : battleId}\r\n                        className=\"mx-3\"\r\n                      >\r\n                        <img\r\n                          src={contestantPhotoUrl}\r\n                          alt={isSeatFilled ? `contestant ${contestantUser.nickname}` : `contestant ${index + 1}`}\r\n                          style={{ height: '96px', width: '128px'}}\r\n                          className=\"\"\r\n                        />\r\n                        <div className=\"\">\r\n                          <p\r\n                            className={`m-0 px-1 font-weight-bolder text-truncate ${isSeatFilled ? 'text-secondary' : 'text-success'}`}\r\n                          >\r\n                            {isSeatFilled ? contestantUser.nickname : 'Join'}\r\n                          </p>\r\n                        </div>\r\n                      </div>\r\n                    );\r\n                  })}\r\n                </div>\r\n\r\n                <div className=\"flex-fill\">\r\n                  <h3 className=\"mb-0 text-capitalize\">\r\n                    {battleType === 'standard' ? `${battleType} battle` : battleType}\r\n                  </h3>\r\n                  <div className=\"d-flex justify-content-around\">\r\n                    <p>{roundInfoText}</p>\r\n                    <p>{battleStatus}</p>\r\n                  </div>\r\n                  <div className=\"d-flex justify-content-center justify-content-sm-around flex-sm-wrap mx-5\">\r\n                    {judgingType === 'judges' && (\r\n                      <Button\r\n                        outline\r\n                        size=\"sm\"\r\n                        data-seat-number={1}\r\n                        onClick={this.handleTempClick}\r\n                        className=\"flex-fill btn-outline-primary m-sm-1 rounded-0\"\r\n                      >\r\n                        Judge\r\n                      </Button>\r\n                    )}\r\n                    <Button\r\n                      outline\r\n                      size=\"sm\"\r\n                      data-seat-number={1}\r\n                      onClick={this.handleTempClick}\r\n                      className={`flex-fill mx-1 my-sm-1 rounded-0 ${judgingType === 'judges' ? 'btn-outline-secondary' : 'btn-outline-primary'}`}\r\n                    >\r\n                      Contestant\r\n                    </Button>\r\n\r\n                    <Button\r\n                      outline\r\n                      size=\"sm\"\r\n                      onClick={() => goTo(`battles/${battleId}`)}\r\n                      className=\"flex-fill m-sm-1 rounded-0\"\r\n                    >\r\n                      GOTO\r\n                    </Button>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            )}\r\n          </PageConsumer>\r\n        </CarouselItem>\r\n\r\n\r\n      );\r\n    });\r\n\r\n    return (\r\n      <div className=\"flex-fill mt-3 mt-sm-0 border border-primary featured-battles\">\r\n        {carouselSlides.length === 0 ? (\r\n          <div className=\"d-flex flex-column justify-content-center h-100\">\r\n            <span className=\"text-xxl\">No Featured Battles</span>\r\n            <span className=\"text-xl\">Coming Soon!</span>\r\n            <span className=\"text-xl\">Promoted Battles</span>\r\n          </div>\r\n        ) : (\r\n          <Carousel\r\n            activeIndex={activeCarouselIndex}\r\n            next={this.handleShowNextCarouselSlide}\r\n            previous={this.handleShowPreviousCarouselSlide}\r\n            className=\"d-flex h-100\"\r\n          >\r\n            {carouselSlides}\r\n            <div>\r\n              <CarouselControl\r\n                direction=\"prev\"\r\n                directionText=\"Previous\"\r\n                onClickHandler={this.handleShowPreviousCarouselSlide}\r\n                className=\"w-auto featured-battles-controls\"\r\n              />\r\n              <CarouselControl\r\n                direction=\"next\"\r\n                directionText=\"Next\"\r\n                onClickHandler={this.handleShowNextCarouselSlide}\r\n                className=\"w-auto featured-battles-controls\"\r\n              />\r\n            </div>\r\n          </Carousel>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nFeaturedBattles.contextType = PageContext;\r\n","/* eslint-disable complexity */\r\nimport React, { Fragment, useState, useContext } from 'react';\r\n\r\n// Components.\r\nimport { Button, Collapse, ListGroup, ListGroupItem } from 'reactstrap';\r\n// Font Awesome Icons.\r\nimport { faChevronUp, faChevronDown } from '@fortawesome/free-solid-svg-icons';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\n\r\n// Custom components.\r\nimport { PageContext } from '../../utils/context/pageContext';\r\nimport { BattleInfoItems, ResponseButtons, UsernamePopover } from '../';\r\n\r\n// Styles, utils, and other helpers.\r\nimport { CONSTANTS, HELPERS } from '../../utils';\r\n\r\nconst { DEFAULT_PROFILE_PHOTO_URL } = CONSTANTS;\r\nconst { BATTLE_HELPER } = HELPERS;\r\n\r\nexport default function DynamicBattleInfo({\r\n  selectedBattle, isSelectedBattleRequested, isSelectedBattleChallenge,\r\n  userId, battleRoles, handleJoinBattleOnClick,\r\n  handleAddRemoveBattleRequest, handleBattleChallengeResponse,\r\n}) {\r\n  const { goTo } = useContext(PageContext).masterData;\r\n  const { width: screenWidth } = window.screen;\r\n  const isScreenXS = screenWidth < 576;\r\n  const [isInfoCollapseOpen, setIsInfoCollapseOpen] = useState(!isScreenXS);\r\n\r\n  const toggleNavbar = () => setIsInfoCollapseOpen(!isInfoCollapseOpen);\r\n\r\n  const {\r\n    id: battleId, Rounds: rounds, RoundCount, RoundLength,\r\n    ScoringType, ScoringRound, StagingRound,\r\n    Status: status, Type: type, UserBattles: userBattles,\r\n    JudgingType, VerseLength,\r\n  } = selectedBattle;\r\n\r\n  const battleType = type ? type.definition : undefined;\r\n  const battleStatus = status ? status.definition : undefined;\r\n  const roundCount = RoundCount ? RoundCount.definition : undefined;\r\n  const roundLength = RoundLength ? RoundLength.definition : undefined;\r\n  const verseLength = VerseLength ? VerseLength.definition : undefined;\r\n  const scoringType = ScoringType ? ScoringType.definition : undefined;\r\n  const judgingType = JudgingType ? JudgingType.definition : undefined;\r\n  const scoringRoundLength = ScoringRound ? ScoringRound.definition : undefined;\r\n  const stagingRoundLength = StagingRound ? StagingRound.definition : undefined;\r\n\r\n  const roundLengthValue = roundLength > 24 ? roundLength / 24 : roundLength;\r\n  let roundLengthText = roundLength > 24 ? 'day' : 'hour';\r\n  if (roundLengthValue > 1) roundLengthText += 's';\r\n\r\n  const roundInfoText = `${roundCount} ${roundCount > 1 ? 'rounds' : 'round'} @ ${roundLengthValue} ${roundLengthText}`;\r\n\r\n  const battleInfoItems = [{\r\n    label: 'score type',\r\n    value: scoringType,\r\n  }, {\r\n    label: 'judging type',\r\n    value: judgingType,\r\n  }, {\r\n    label: '# of Rounds',\r\n    value: roundCount,\r\n  }, {\r\n    label: 'round length',\r\n    value: `${roundLength} hrs`,\r\n  }, {\r\n    label: 'verse length',\r\n    value: `${verseLength > 90 ? `${verseLength / 60} min` : `${verseLength} sec`} `,\r\n  }, {\r\n    label: 'staging round',\r\n    value: `${stagingRoundLength} hrs`,\r\n  }, {\r\n    label: 'scoring round',\r\n    value: `${scoringRoundLength} hrs`,\r\n  }];\r\n\r\n  const participants = BATTLE_HELPER.getAllParticipants(userBattles || [], rounds);\r\n  const { contestants } = participants;\r\n\r\n  let isChallengeAccepted = false;\r\n  let challengeStatus = 'pending';\r\n  let challengeStatusColorClass = '';\r\n  let challengedUserId;\r\n  let challengerUserId;\r\n\r\n  if (selectedBattle.id && isSelectedBattleChallenge) {\r\n    const {\r\n      BattleChallenge: battleChallenge,\r\n      called_out_user_id,\r\n    } = selectedBattle;\r\n    challengeStatus = battleChallenge.BattleChallengeStatus.definition;\r\n    isChallengeAccepted = challengeStatus === 'accepted';\r\n    challengeStatusColorClass = isChallengeAccepted ? 'text-success' : 'text-info';\r\n    challengedUserId = called_out_user_id;\r\n    challengerUserId = battleChallenge.challenger_user_id;\r\n  }\r\n\r\n  const contestantComponents = contestants ? (\r\n    contestants.map((contestant, index) => {\r\n      const { User: contestantUser } = contestant;\r\n      const isSeatFilled = (contestant.user_id !== undefined) && (contestant.user_id !== null);\r\n\r\n      let contestantImageUrl = isSeatFilled && contestant.id && contestant.User.Profile.photo ? contestant.User.Profile.photo : DEFAULT_PROFILE_PHOTO_URL;\r\n\r\n      let usernamePopoverId = `contestant-seat-${isSeatFilled && contestant.participant_number ? contestant.participant_number : 'available'}-${battleId}-${index}`;\r\n      let usernamePopoverLabelText = isSeatFilled ? contestantUser.nickname : 'Join';\r\n      let usernamePopoverProfileUrl = `/profile/${isSeatFilled && contestant.user_id ? contestant.user_id : 'available'}`;\r\n      let usernamePopoverProfile = isSeatFilled && contestant.id ? contestant.User.Profile : {};\r\n\r\n      let isRequestAccepted = false;\r\n      let isRequestRejected = false;\r\n      let requestStatus = 'pending';\r\n\r\n      if (selectedBattle.id && isSelectedBattleRequested) {\r\n        const {\r\n          RequestedContestants: requestedContestants,\r\n        } = selectedBattle;\r\n\r\n        const requestedContestant = requestedContestants[index];\r\n        const {\r\n          user_id: contestantUserId,\r\n          User: contestantUser,\r\n          BattleRequestStatus: battleRequestStatus,\r\n        } = requestedContestant;\r\n\r\n        const {\r\n          nickname: contestantNickname, Profile: contestantProfile\r\n        } = contestantUser;\r\n\r\n        requestStatus = battleRequestStatus.definition;\r\n        isRequestAccepted = requestStatus === 'accepted';\r\n        isRequestRejected = requestStatus === 'rejected';\r\n        contestantImageUrl = contestantProfile.photo;\r\n        usernamePopoverId = `contestant-seat-${contestantUserId}`;\r\n        usernamePopoverLabelText = contestantNickname;\r\n        usernamePopoverProfileUrl = `/profile/${contestantUserId}`;\r\n        usernamePopoverProfile = contestantProfile;\r\n      }\r\n\r\n      let requestStatusColorClass = isRequestAccepted ? 'text-success' : 'text-info';\r\n      requestStatusColorClass = isRequestRejected ? 'text-danger' : requestStatusColorClass;\r\n\r\n      if (index === 1 && selectedBattle.id && isSelectedBattleChallenge) {\r\n        const {\r\n          BattleChallenge: battleChallenge,\r\n        } = selectedBattle;\r\n\r\n        const challengedUser = battleChallenge.ChallengedUser;\r\n        const {\r\n          user_id: challengedUserId,\r\n          nickname: challengedUserNickName,\r\n          Profile: challengedUserProfile,\r\n        } = challengedUser;\r\n\r\n        contestantImageUrl = challengedUserProfile.photo;\r\n        usernamePopoverId = `contestant-seat-${challengedUserId}`;\r\n        usernamePopoverLabelText = challengedUserNickName;\r\n        usernamePopoverProfileUrl = `/profile/${challengedUserId}`;\r\n        usernamePopoverProfile = challengedUserProfile;\r\n      }\r\n\r\n      return (\r\n        <div\r\n          key={isSeatFilled ? `${contestantUser.id}-${index}` : index}\r\n          className=\"d-flex flex-column align-items-center w-50 text-center battle-info-contestant\"\r\n        >\r\n          <img\r\n            src={contestantImageUrl}\r\n            alt={isSeatFilled ? `contestant ${contestantUser.nickname}` : 'Join this battle'}\r\n          />\r\n\r\n          {contestant.id || isSelectedBattleRequested || isSelectedBattleChallenge ? (\r\n            <Fragment>\r\n              <UsernamePopover\r\n                id={usernamePopoverId}\r\n                userId={userId}\r\n                labelText={usernamePopoverLabelText}\r\n                profile={usernamePopoverProfile}\r\n                userProfileUrl={usernamePopoverProfileUrl}\r\n                buttonClassName={`font-weight-bolder text-truncate ${isSeatFilled || isSelectedBattleRequested ? 'text-secondary' : 'text-success'}`}\r\n              />\r\n\r\n              {isSelectedBattleRequested && (\r\n                <small className={`text-sm ${requestStatusColorClass}`}>\r\n                  {requestStatus}\r\n                </small>\r\n              )}\r\n            </Fragment>\r\n          ) : (\r\n            <Button\r\n              color=\"link\"\r\n              data-role=\"contestant\"\r\n              data-seat-number={index + 1}\r\n              onClick={handleJoinBattleOnClick}\r\n              className=\"d-inline-block p-0 font-weight-bold text-truncate text-decoration-none text-success\"\r\n            >\r\n              Join It!\r\n            </Button>\r\n          )}\r\n        </div>\r\n      );\r\n    })\r\n  ) : [];\r\n\r\n  let battleRequestCount = 0;\r\n  let isUserBattleRequestor = false;\r\n  let userRequestedContestant;\r\n  let contestantStatus = 'pending';\r\n  if (isSelectedBattleRequested) {\r\n    const {\r\n      RequestingUsers: requestingUsers,\r\n      RequestedContestants: requestedContestants,\r\n    } = selectedBattle;\r\n    battleRequestCount = requestingUsers.length;\r\n    isUserBattleRequestor = requestingUsers.filter(userData => (userData.user_id === userId)).length > 0;\r\n    userRequestedContestant = requestedContestants.filter(userData => (userData.user_id === userId))[0];\r\n\r\n    if (userRequestedContestant) {\r\n      const { BattleRequestStatus: battleRequestStatus } = userRequestedContestant;\r\n      contestantStatus = battleRequestStatus.definition;\r\n    }\r\n  }\r\n\r\n  let challengeRequestCount = 0;\r\n  let isUserChallengeRequestor = false;\r\n  if (isSelectedBattleChallenge) {\r\n    const { BattleChallenge: battleChallenge } = selectedBattle;\r\n    const { BattleChallengeRequests: challengeRequests } = battleChallenge;\r\n    challengeRequestCount = challengeRequests.length;\r\n    isUserChallengeRequestor = challengeRequests.filter(challengeRequest => challengeRequest.user_id === userId).length > 0;\r\n  }\r\n\r\n  const battleInfo = BATTLE_HELPER.getBattleInfo(selectedBattle);\r\n\r\n  return (\r\n    <div className={`d-flex flex-column bg-darkest border border-darkest battle-info-pane ${isScreenXS ? 'sticky-top' : ''}`}>\r\n      {selectedBattle.id ? (\r\n        <Fragment>\r\n          <div className=\"d-flex flex-column battle-info-contestants-actions\">\r\n            <div className=\"d-flex justify-content-center\">\r\n              {contestantComponents}\r\n            </div>\r\n\r\n            {isSelectedBattleChallenge && (\r\n              <p className={`m-0 text-uppercase font-weight-bold ${challengeStatusColorClass}`}>\r\n                <span className=\"mx-2\">CHALLENGE</span>\r\n                <span>{challengeStatus}</span>\r\n              </p>\r\n            )}\r\n\r\n            <div className=\"d-flex flex-sm-column justify-content-center\">\r\n              {isSelectedBattleRequested && (\r\n                <ResponseButtons\r\n                  responseStatus={contestantStatus}\r\n                  requestCount={battleRequestCount}\r\n                  isUserRequestor={isUserBattleRequestor}\r\n                  isUserRespondent={userRequestedContestant}\r\n                  isUserChallengeRequestor={false}\r\n                  responseType=\"battle-request\"\r\n                  isBattleStaging={battleStatus === 'staging'}\r\n                  handleUpdateStatus={handleAddRemoveBattleRequest}\r\n                />\r\n              )}\r\n\r\n              {isSelectedBattleChallenge && (\r\n                <ResponseButtons\r\n                  responseStatus={challengeStatus}\r\n                  requestCount={challengeRequestCount}\r\n                  isUserRequestor={userId === challengerUserId}\r\n                  isUserChallengeRequestor={isUserChallengeRequestor}\r\n                  isUserRespondent={userId === challengedUserId}\r\n                  responseType=\"battle-challenge\"\r\n                  isBattleStaging={battleStatus === 'staging'}\r\n                  handleUpdateStatus={handleBattleChallengeResponse}\r\n                />\r\n              )}\r\n\r\n              {!isSelectedBattleRequested && (\r\n                <Fragment>\r\n                  {judgingType === 'judges' && (\r\n                    <Button\r\n                      outline\r\n                      size=\"sm\"\r\n                      data-role={battleRoles.judge.definition}\r\n                      data-seat-number={1}\r\n                      onClick={handleJoinBattleOnClick}\r\n                      className=\"btn-outline-primary py-0 mb-sm-2 rounded-0\"\r\n                    >\r\n                      Judge\r\n                    </Button>\r\n                  )}\r\n\r\n                  {!isSelectedBattleChallenge && (\r\n                    <Button\r\n                      outline\r\n                      size=\"sm\"\r\n                      data-role={battleRoles.contestant.definition}\r\n                      data-seat-number={1}\r\n                      onClick={handleJoinBattleOnClick}\r\n                      className={`py-0 mx-2 mx-sm-0 mb-sm-2 rounded-0 ${judgingType === 'judges' ? 'btn-outline-secondary' : 'btn-outline-primary'}`}\r\n                    >\r\n                      Contestant\r\n                    </Button>\r\n                  )}\r\n\r\n                  <Button\r\n                    outline\r\n                    size=\"sm\"\r\n                    onClick={() => goTo(`battles/${battleId}`)}\r\n                    className=\"py-0 rounded-0\"\r\n                  >\r\n                    GOTO\r\n                  </Button>\r\n                </Fragment>\r\n              )}\r\n            </div>\r\n          </div>\r\n\r\n          {!isSelectedBattleRequested && (\r\n            <div className=\"flex-fill mt-2\">\r\n              <div className=\"border-bottom border-darker\">\r\n                <p className=\"m-0 text-capitalize font-weight-bold battle-info-status\">\r\n                  {battleType === 'standard' ? `${battleType} battle` : battleType}\r\n                </p>\r\n                <div className=\"d-flex justify-content-around px-1\">\r\n                  <small className=\"flex-fill font-italic text-capitalize\">\r\n                    {roundInfoText}\r\n                  </small>\r\n                  <small className=\"flex-fill text-capitalize\">\r\n                    {battleStatus}\r\n                  </small>\r\n                  <Button\r\n                    onClick={toggleNavbar}\r\n                    className=\"d-sm-none border-0 ml-auto p-0 text-primary text-right bg-transparent outline-none\"\r\n                  >\r\n                    <FontAwesomeIcon fixedWidth icon={isInfoCollapseOpen ? faChevronUp : faChevronDown} />\r\n                  </Button>\r\n                </div>\r\n              </div>\r\n\r\n              <Collapse\r\n                isOpen={isInfoCollapseOpen}\r\n                className=\"\"\r\n              >\r\n                <BattleInfoItems\r\n                  battleData={battleInfo}\r\n                  isHorizontal={true}\r\n                  itemClassName=\"w-50\"\r\n                />\r\n              </Collapse>\r\n            </div>\r\n          )}\r\n        </Fragment>\r\n      ) : (\r\n        <p className=\"mx-3 my-auto my-sm-5 text-xl font-weight-bold\">\r\n          Select a battle from the list for more info.\r\n        </p>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","import React, { useState } from 'react';\r\n\r\n// Components.\r\nimport { Button, Toast, ToastHeader } from 'reactstrap';\r\n\r\n// Font Awesome icons.\r\nimport { faTimes } from '@fortawesome/free-solid-svg-icons';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\n\r\nexport default function CustomToast({\r\n  notification, editIndex, goTo, handleRemoveToast\r\n}) {\r\n  const [isShown, setIsShown] = useState(true);\r\n\r\n  const close = () => {\r\n    handleRemoveToast(editIndex);\r\n    if (closeTimer) clearTimeout(closeTimer);\r\n    setIsShown(false);\r\n  };\r\n\r\n  const {\r\n    title,\r\n    destinationUrl,\r\n  } = notification;\r\n\r\n  const closeTimer = setTimeout(close, 7500);\r\n\r\n  return (\r\n    <Toast\r\n      isOpen={isShown}\r\n      className=\"mb-1 rounded-0 bg-darkest-50\"\r\n    >\r\n      <ToastHeader\r\n        icon=\"darkest\"\r\n        tag=\"button\"\r\n        onClick={() => goTo(destinationUrl)}\r\n        className=\"p-1 bg-darker border-primary\"\r\n        tagClassName=\"d-flex justify-content-between align-items-center btn-block bg-transparent border-0 text-left text-secondary font-weight-bold outline-none\"\r\n      >\r\n        <p className=\"m-0\">\r\n          {title}\r\n        </p>\r\n        <Button\r\n          close\r\n          onClick={close}\r\n          className=\"text-danger close\"\r\n        >\r\n          <FontAwesomeIcon icon={faTimes} size=\"xs\" />\r\n        </Button>\r\n      </ToastHeader>\r\n    </Toast>\r\n  );\r\n}\r\n","import React, { Component } from 'react';\r\nimport moment from 'moment';\r\n\r\n// Components.\r\nimport {\r\n  Badge, DropdownItem, Button, Popover, PopoverBody, PopoverHeader\r\n} from 'reactstrap';\r\n\r\n// Font Awesome Icons.\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faClock, faCheck } from '@fortawesome/free-solid-svg-icons';\r\n\r\n// Custom components.\r\nimport { PageContext } from '../../utils/context/pageContext';\r\n\r\n// Styles, utils, and other helpers.\r\nimport {\r\n  NOTIFICATION_UTILS, RELATIONSHIP_UTILS, BATTLE_UTILS,\r\n  BATTLE_OPTION_UTILS, BATTLE_REQUEST_UTILS,\r\n} from '../../utils/api';\r\n\r\nexport default class NotificationDropdown extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      isPopoverOpen: false,\r\n    };\r\n\r\n    // Bind class methods.\r\n    this.togglesPopoverOpen = this.togglesPopoverOpen.bind(this);\r\n    this.handleListItemOnClick = this.handleListItemOnClick.bind(this);\r\n    this.acceptFriendRequest = this.acceptFriendRequest.bind(this);\r\n    this.acceptBattleChallenge = this.acceptBattleChallenge.bind(this);\r\n    this.acceptBattleRequest = this.acceptBattleRequest.bind(this);\r\n  }\r\n\r\n  togglesPopoverOpen() {\r\n    this.setState(prevState => ({ isPopoverOpen: !prevState.isPopoverOpen }));\r\n  }\r\n\r\n  handleListItemOnClick(notificationId, destinationUrl) {\r\n    const { userId, updateUser } = this.props;\r\n    const { goTo, getAxiosOptions, handleAsyncError } = this.context.masterData;\r\n    const axiosOptions = getAxiosOptions();\r\n\r\n    NOTIFICATION_UTILS.update(userId, notificationId, { is_read: true }, axiosOptions)\r\n      .then(() => {\r\n        updateUser();\r\n        goTo(destinationUrl);\r\n      })\r\n      .catch(handleAsyncError);\r\n  }\r\n\r\n  acceptFriendRequest(otherUserId, notificationId) {\r\n    const { userId, updateUser } = this.props;\r\n    const { getAxiosOptions, handleAsyncError } = this.context.masterData;\r\n    const axiosOptions = getAxiosOptions();\r\n\r\n    const relationshipPromise = RELATIONSHIP_UTILS.update([userId, otherUserId], axiosOptions);\r\n    const notificationPromise = NOTIFICATION_UTILS.update(userId, notificationId, {\r\n      is_request_accepted: true,\r\n      is_read: true,\r\n    }, axiosOptions);\r\n\r\n    Promise.all([relationshipPromise, notificationPromise])\r\n      .then(updateUser)\r\n      .catch(handleAsyncError);\r\n  }\r\n\r\n  acceptBattleChallenge(battleId, notificationId) {\r\n    const { userId, updateUser } = this.props;\r\n    const { getAxiosOptions, handleAsyncError } = this.context.masterData;\r\n    const axiosOptions = getAxiosOptions();\r\n\r\n    const apiRequests = [\r\n      BATTLE_OPTION_UTILS.getRoleId('contestant', axiosOptions),\r\n      NOTIFICATION_UTILS.update(userId, notificationId, {\r\n        is_request_accepted: true,\r\n        is_read: true,\r\n      }, axiosOptions),\r\n      BATTLE_UTILS.updateBattleChallenge(battleId, 'accepted', axiosOptions),\r\n    ];\r\n\r\n    Promise.all(apiRequests)\r\n      .then(([roleResult]) => {\r\n        const { id: roleId } = roleResult.data;\r\n        const participant = {\r\n          userId,\r\n          roleId,\r\n          participantNumber: 2,\r\n          isReady: false,\r\n        };\r\n\r\n        return BATTLE_UTILS.joinBattle([battleId, participant], axiosOptions);\r\n      })\r\n      .then(updateUser)\r\n      .catch(handleAsyncError);\r\n  }\r\n\r\n  acceptBattleRequest(contentId, notificationId) {\r\n    const { userId, updateUser } = this.props;\r\n    const { getAxiosOptions, handleAsyncError } = this.context.masterData;\r\n    const axiosOptions = getAxiosOptions();\r\n\r\n    const apiRequests = [\r\n      NOTIFICATION_UTILS.update(userId, notificationId, {\r\n        is_request_accepted: true,\r\n        is_read: true,\r\n      }, axiosOptions),\r\n      BATTLE_REQUEST_UTILS.updateRequestedStatus([userId, contentId, 'accepted', {}], axiosOptions)\r\n    ];\r\n\r\n    Promise.all(apiRequests)\r\n      .then(updateUser)\r\n      .catch(handleAsyncError);\r\n  }\r\n\r\n  render() {\r\n    const { isPopoverOpen } = this.state;\r\n    const {\r\n      type, icon, notifications, handleSetNotificationsAsSeen\r\n    } = this.props;\r\n\r\n    const unseenNotificationsCount = notifications.filter(notification => !notification.is_seen).length;\r\n\r\n    notifications.sort((a, b) => (a.createdAt < b.createdAt) ? 1 : -1);\r\n\r\n    const acceptRequestOnClick = (category, contentId, notificationId) => {\r\n      let clickHandler = null;\r\n\r\n      switch (category) {\r\n        case 'community':\r\n          clickHandler = this.acceptFriendRequest;\r\n          break;\r\n        case 'battle':\r\n          clickHandler = this.acceptBattleChallenge;\r\n          break;\r\n        case 'battle-request':\r\n          clickHandler = this.acceptBattleRequest;\r\n          break;\r\n        default:\r\n          clickHandler = null;\r\n      }\r\n\r\n      clickHandler(contentId, notificationId);\r\n    };\r\n\r\n    return (\r\n\r\n      <div>\r\n        <Button\r\n          id={`${type}-popover`}\r\n          type=\"button\"\r\n          data-notification-type={type}\r\n          onClick={unseenNotificationsCount > 0 ? handleSetNotificationsAsSeen : null}\r\n          className=\"d-flex justify-content-center align-items-start p-0 rounded-circle bg-transparent border-0 text-dark notification-button\"\r\n        >\r\n          <FontAwesomeIcon\r\n            fixedWidth\r\n            icon={icon} size=\"lg\"\r\n            className=\"no-pointer-events\"\r\n          />\r\n          <Badge\r\n            color=\"secondary\"\r\n            className=\"py-0 bg-transparent text-primary no-pointer-events\"\r\n          >\r\n            {unseenNotificationsCount > 0 && unseenNotificationsCount}\r\n          </Badge>\r\n        </Button>\r\n\r\n        <Popover\r\n          hideArrow={true}\r\n          trigger=\"legacy\"\r\n          delay={0}\r\n          placement=\"bottom\"\r\n          isOpen={isPopoverOpen}\r\n          target={`${type}-popover`}\r\n          container=\"notification-buttons\"\r\n          toggle={this.togglesPopoverOpen}\r\n          innerClassName=\"h-100 bg-darkest\"\r\n          popperClassName=\"m-0 rounded-0 bg-darker overflow-auto notification-menu\"\r\n        >\r\n          <PopoverHeader\r\n            className=\"rounded-0 bg-darkest text-capitalize text-sm border-primary\"\r\n          >\r\n            {`${type} notifications`}\r\n          </PopoverHeader>\r\n          <PopoverBody className=\"p-0\">\r\n            {(!notifications || notifications.length === 0) && (\r\n              <DropdownItem\r\n                className=\"py-1 px-2 text-secondary text-sm text-wrap notification-item\"\r\n              >\r\n                No notifications available. Please check back later.\r\n              </DropdownItem>\r\n            )}\r\n\r\n            {notifications.map(userNotification => {\r\n              const {\r\n                id: notificationId, Notification: notification, is_read: isRead,\r\n                is_request: isRequest, is_request_accepted: isRequestAccepted,\r\n              } = userNotification;\r\n              const {\r\n                category, description, destination_url: destinationUrl,\r\n                user_id: otherUserId, content_id: contentId,\r\n              } = notification;\r\n\r\n              const splitDescription = description.split(' - ');\r\n\r\n              return (\r\n                <DropdownItem\r\n                  key={`${notification.id}-${isRead}`}\r\n                  tag=\"div\"\r\n                  className=\"py-0 px-1 bg-darkest border-bottom border-secondary notification-item\"\r\n                >\r\n                  <div className=\"d-flex\">\r\n                    <Button\r\n                      onClick={() => this.handleListItemOnClick(notificationId, destinationUrl)}\r\n                      className=\"flex-fill p-1 text-left text-secondary text-sm text-wrap bg-transparent border-0 outline-none rounded-0\"\r\n                    >\r\n                      <p className=\"m-0\">\r\n                        <span className=\"font-weight-bold\">{splitDescription[0]}</span>\r\n                        <span className=\"mx-1\">{splitDescription[1]}</span>\r\n                      </p>\r\n\r\n                      <div className=\"d-flex\">\r\n                        <p className=\"mb-0\">\r\n                          <FontAwesomeIcon\r\n                            icon={faClock}\r\n                            size=\"sm\"\r\n                            fixedWidth\r\n                            className=\"mr-1\"\r\n                          />\r\n                          {moment(notification.createdAt).from(moment())}\r\n                        </p>\r\n                        {!isRead && (\r\n                          <span className=\"align-self-end mx-2 text-xs text-success\">\r\n                            NEW!\r\n                          </span>\r\n                        )}\r\n                      </div>\r\n                    </Button>\r\n                    {(isRequest && !isRequestAccepted) && (\r\n                      <Button\r\n                        color=\"transparent\"\r\n                        size=\"sm\"\r\n                        onClick={() => acceptRequestOnClick(category, category.includes('battle') ? contentId : otherUserId, notificationId)}\r\n                        className=\"p-1 text-primary rounded-0\"\r\n                      >\r\n                        <FontAwesomeIcon\r\n                          icon={faCheck}\r\n                          size=\"sm\"\r\n                          fixedWidth\r\n                          className=\"text-success\"\r\n                        />\r\n                      </Button>\r\n                    )}\r\n                  </div>\r\n                </DropdownItem>\r\n              );\r\n            })}\r\n          </PopoverBody>\r\n        </Popover>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nNotificationDropdown.contextType = PageContext;\r\n","import React, { useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\n// Components.\r\nimport { Tooltip } from 'reactstrap';\r\n\r\nexport default function CustomTooltip({\r\n  children, targetId, placement, boundariesElement, container,\r\n}) {\r\n  const [isOpen, setIsOpen] = useState(false);\r\n\r\n  const toggleIsOpen = () => setIsOpen(!isOpen);\r\n\r\n  return (\r\n    <Tooltip\r\n      trigger=\"legacy\"\r\n      placement={placement}\r\n      isOpen={isOpen}\r\n      target={targetId}\r\n      toggle={toggleIsOpen}\r\n      boundariesElement={boundariesElement}\r\n      container={container}\r\n    >\r\n      {children}\r\n    </Tooltip>\r\n  );\r\n}\r\n\r\nCustomTooltip.defaultProps = {\r\n  children: '',\r\n  targetId: undefined,\r\n  placement: 'left',\r\n  boundariesElement: 'viewport',\r\n  container: 'body'\r\n};\r\n\r\nCustomTooltip.propTyps = {\r\n  children: PropTypes.oneOfType([\r\n    PropTypes.string,\r\n    PropTypes.element\r\n  ]),\r\n  targetId: PropTypes.string,\r\n  placement: PropTypes.string,\r\n  boundariesElement: PropTypes.string,\r\n  container: PropTypes.string\r\n};\r\n","/* eslint-disable no-loop-func */\r\nimport React, { Component } from 'react';\r\n\r\n// Components.\r\nimport { Nav, NavItem, NavLink, TabContent, TabPane } from 'reactstrap';\r\n\r\nexport default class ScorecardBreakdown extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      activeTab: 0,\r\n    };\r\n\r\n    // Bind methods.\r\n    this.setActiveTab = this.setActiveTab.bind(this);\r\n  }\r\n\r\n  setActiveTab(activeTab) {\r\n    this.setState(prevStat => activeTab !== prevStat.activeTab ? { activeTab } : null);\r\n  }\r\n\r\n  render() {\r\n    const { activeTab } = this.state;\r\n    const {\r\n      roundCount, rounds, resultCards, judges, judgesListGroup,\r\n      isJudgePanelOpen,\r\n    } = this.props;\r\n\r\n    const roundData = rounds.map(round => ({\r\n      roundId: round.id,\r\n      number: round.number,\r\n    }));\r\n\r\n    const resultCardsKeys = Object.keys(resultCards);\r\n\r\n    const contestantsScorecards = {};\r\n\r\n    const { width: screenWidth } = window.screen;\r\n    const isScreenSmallOrLarger = screenWidth >= 576;\r\n\r\n    for (let k = 0; k < resultCardsKeys.length; k++) {\r\n      const contestantKey = resultCardsKeys[k];\r\n      const constestantResultCard = resultCards[contestantKey];\r\n      const { scorecards } = constestantResultCard;\r\n      contestantsScorecards[contestantKey] = scorecards;\r\n    }\r\n\r\n    const tabComponents = [];\r\n    for (let i = 0; i < roundCount + 1; i++) {\r\n      tabComponents.push(\r\n        <NavItem key={`${activeTab === i}-${i}`} className=\"flex-fill flex-sm-grow-0 cursor-pointer\">\r\n          <NavLink\r\n            onClick={() => { this.setActiveTab(i); }}\r\n            className={`p-0 px-sm-1 rounded-0 border-top-0 border-left-0 ${activeTab === i ? 'active bg-darkest-90 border-primary' : 'border-right-0 border-bottom-0'} ${isScreenSmallOrLarger ? 'border-bottom-0' : 'border-right-0'}`}\r\n          >\r\n            {/* eslint-disable-next-line no-nested-ternary */}\r\n            {i < roundCount ? (\r\n              `R${i + 1}`\r\n            ) : (\r\n              isScreenSmallOrLarger ? 'TS' : 'Total'\r\n            )}\r\n          </NavLink>\r\n        </NavItem>\r\n      );\r\n    }\r\n\r\n    const tabPaneComponents = [];\r\n    for (let j = 0; j < roundCount + 1; j++) {\r\n      const thisRoundData = roundData.filter(data => data.number === j + 1)[0] || {};\r\n      const { roundId } = thisRoundData;\r\n\r\n      const contestantOneRoundScorecards = contestantsScorecards.contestant1 ? contestantsScorecards.contestant1.filter(scorecard => scorecard.round_id === roundId) : [];\r\n      const contestantTwoRoundScorecards = contestantsScorecards.contestant2 ? contestantsScorecards.contestant2.filter(scorecard => scorecard.round_id === roundId) : [];\r\n\r\n      const contestantsRoundScorecards = [\r\n        contestantOneRoundScorecards,\r\n        contestantTwoRoundScorecards\r\n      ];\r\n\r\n      tabPaneComponents.push(\r\n        <TabPane key={`${roundId}-${j}`} tabId={j} className=\"h-100\">\r\n          <div className=\"d-flex flex-column flex-sm-row justify-content-around h-100\">\r\n            {judges.map((judge, index) => {\r\n              const getContestantJudgeRoundScore = (judgeId, contestantRoundScorecards) => {\r\n                if (!judgeId || !contestantRoundScorecards) return 'TBD';\r\n\r\n                const judgeScorecard = contestantRoundScorecards.filter(scorecard => scorecard.user_id === judgeId)[0];\r\n\r\n                return judgeScorecard ? judgeScorecard.score : 'TBD';\r\n              };\r\n\r\n              const isFinalRound = j === roundCount;\r\n\r\n              const judgeContestantOneBattleScorecards = contestantsScorecards.contestant1 ? contestantsScorecards.contestant1.filter(scorecard => scorecard.user_id === judge.user_id) : [];\r\n\r\n              const judgeContestantTwoBattleScorecards = contestantsScorecards.contestant2 ? contestantsScorecards.contestant2.filter(scorecard => scorecard.user_id === judge.user_id) : [];\r\n\r\n              return (\r\n                <div key={`${judge.user_id}-${index}-${j}` || index} className={`flex-fill px-3 py-1 ${isScreenSmallOrLarger ? 'border-right border-left border-darker' : ''}`}>\r\n                  <div className=\"d-flex justify-content-around\">\r\n                    {contestantsRoundScorecards.map((contestantRoundScorecards, contestantIndex) => {\r\n                      const contestantNumber = contestantIndex + 1;\r\n                      const contestantJudgeRoundScore = getContestantJudgeRoundScore(judge.user_id, contestantRoundScorecards);\r\n\r\n                      let judgeScoreTotal = 0;\r\n                      if (isFinalRound) {\r\n                        const battleScorecards = contestantNumber === 1 ? judgeContestantOneBattleScorecards : judgeContestantTwoBattleScorecards;\r\n                        const battleScores = battleScorecards.map(scorecard => scorecard.score);\r\n                        judgeScoreTotal = battleScores.reduce((a, b) => a + b, 0);\r\n                        judgeScoreTotal /= battleScores.length;\r\n                        judgeScoreTotal = Number(Math.round(judgeScoreTotal + 'e2') + 'e-2').toFixed(1);\r\n\r\n                        if(isNaN(judgeScoreTotal)) {\r\n                          judgeScoreTotal = 'TBD';\r\n                        }\r\n                      }\r\n\r\n                      return (\r\n                        <div key={`${judge.user_id}-${index}-${j}-${contestantNumber}`} className=\"flex-fill\">\r\n                          <p className=\"m-0 text-xs\">{`contestant ${contestantNumber}`}</p>\r\n                          <span className={`d-block ${isScreenSmallOrLarger ? 'text-xxl' : 'text-lg'} ${contestantNumber === 1 ? 'border-right border-dark' : ''}`}>\r\n                            {isFinalRound ? judgeScoreTotal : contestantJudgeRoundScore}\r\n                          </span>\r\n                        </div>\r\n                      );\r\n                    })}\r\n                  </div>\r\n                  {/* <p className=\"m-0 text-sm\">View Explanations</p> */}\r\n                </div>\r\n              );\r\n            })}\r\n          </div>\r\n        </TabPane>\r\n      );\r\n    }\r\n\r\n    return (\r\n      <div className=\"d-flex flex-column flex-sm-row h-100\">\r\n        <Nav\r\n          tabs\r\n          className=\"flex-sm-column justify-content-around justify-content-sm-start border-bottom-0\"\r\n        >\r\n          {tabComponents}\r\n        </Nav>\r\n\r\n        <div className=\"d-flex flex-sm-column flex-fill\">\r\n          {isJudgePanelOpen && judgesListGroup}\r\n\r\n          <TabContent activeTab={activeTab} className=\"flex-fill\">\r\n            {tabPaneComponents}\r\n          </TabContent>\r\n        </div>\r\n\r\n\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from 'react';\r\n\r\n// Components.\r\nimport {\r\n  Button, FormGroup, Label, Input, ListGroup, ListGroupItem,\r\n} from 'reactstrap';\r\n\r\n// Font Awesome icons.\r\nimport { faInfoCircle, faTimes } from '@fortawesome/free-solid-svg-icons';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\n\r\n// Custom components.\r\nimport { PageContext } from '../../utils/context/pageContext';\r\nimport { CustomTooltip } from '../';\r\n\r\n// Styles, utils, and other helpers.\r\nimport { USER_UTILS } from '../../utils/api';\r\n\r\nexport default class UserSearch extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      searchResults: [],\r\n      selectedUser: null,\r\n    };\r\n\r\n    // Bind class methods.\r\n    this.handleInputOnChange = this.handleInputOnChange.bind(this);\r\n    this.handleSearchItemOnClick = this.handleSearchItemOnClick.bind(this);\r\n    this.handleRemoveSelctedUser = this.handleRemoveSelctedUser.bind(this);\r\n  }\r\n\r\n  handleInputOnChange(event) {\r\n    const { value: searchTerm } = event.target;\r\n\r\n    if (searchTerm.length < 2) {\r\n      return this.setState(() => ({ searchResults: [] }));\r\n    }\r\n\r\n    const { userId, requestedRappers } = this.props;\r\n    const { getAxiosOptions, handleAsyncError } = this.context.masterData;\r\n    const axiosOptions = getAxiosOptions();\r\n    USER_UTILS.search(userId, searchTerm, axiosOptions)\r\n      .then(usersSearchResult => {\r\n        const { data: searchResultsData } = usersSearchResult;\r\n        const searchResults = searchResultsData.filter(result => !requestedRappers.includes(result.user_id));\r\n        this.setState(() => ({ searchResults }));\r\n      })\r\n      .then(error => error ? handleAsyncError(error) : null);\r\n  }\r\n\r\n  handleSearchItemOnClick(event) {\r\n    const { searchResults } = this.state;\r\n    const { dataNumber, setChallengerUserId } = this.props;\r\n    const selectedUserId = event.target.getAttribute('data-user-id');\r\n\r\n    if (!selectedUserId || !searchResults || !searchResults.length > 0) return;\r\n\r\n    const selectedSearchUser = searchResults.filter(searchUser => searchUser.user_id === selectedUserId)[0];\r\n\r\n    if (!selectedSearchUser) return;\r\n\r\n    document.getElementById('user-search').value = selectedSearchUser.nickname;\r\n\r\n    this.setState(prevState => {\r\n      const { selectedUser: stateSelectedUser } = prevState;\r\n      const isNewSelectedUser = stateSelectedUser && stateSelectedUser.user_id === selectedUserId ? false : true;\r\n      return isNewSelectedUser ? (\r\n        {\r\n          searchResults: [],\r\n          selectedUser: selectedSearchUser,\r\n        }\r\n      ) : null;\r\n    }, () => setChallengerUserId(selectedUserId, dataNumber));\r\n  }\r\n\r\n  handleRemoveSelctedUser() {\r\n    const { dataNumber, setChallengerUserId } = this.props;\r\n    this.setState(() => ({ selectedUser: null }), () => setChallengerUserId(null, dataNumber));\r\n  }\r\n\r\n  render() {\r\n    const { searchResults, selectedUser } = this.state;\r\n    const {\r\n      labelText, placeholderText, isOptional, isTooltipShown,\r\n      inputClassName\r\n    } = this.props;\r\n\r\n    return (\r\n      <FormGroup className=\"position-relative form-group-lg text-left mx-3 mx-lg-5\">\r\n        <Label for=\"user-search\" className=\"d-flex justify-content-between align-items-center mb-0\" >\r\n          <span className=\"d-flex align-items-center\">\r\n            {labelText}\r\n            {isOptional && (\r\n              <small className=\"mx-1 text-sm\">(optional)</small>\r\n            )}\r\n          </span>\r\n\r\n          {isTooltipShown && (\r\n            <FontAwesomeIcon\r\n              id=\"user-search-info\"\r\n              icon={faInfoCircle}\r\n              className=\"text-info\"\r\n            />\r\n          )}\r\n        </Label>\r\n        {selectedUser ? (\r\n          <div id=\"user-search\" data-selected-user-id={selectedUser.user_id}>\r\n            <div className=\"d-flex align-items-center form-control bg-darker-50 rounded-0\">\r\n              <p className=\"flex-fill mb-0 font-weight-bold\">\r\n                {selectedUser.nickname}\r\n              </p>\r\n              <Button\r\n                close\r\n                onClick={this.handleRemoveSelctedUser}\r\n                className=\"d-flex align-items-center p-0 m-1 text-danger close\"\r\n              >\r\n                <small className=\"mx-1 text-sm text-shadow-none\">remove</small>\r\n                <FontAwesomeIcon icon={faTimes} />\r\n              </Button>\r\n            </div>\r\n          </div>\r\n        ) : (\r\n          <Input\r\n            type=\"search\"\r\n            name=\"search\"\r\n            id=\"user-search\"\r\n            autoComplete=\"off\"\r\n            placeholder={placeholderText}\r\n            onChange={this.handleInputOnChange}\r\n            className={`rounded-0 ${inputClassName}`}\r\n          />\r\n        )}\r\n\r\n        {isTooltipShown && (\r\n          <CustomTooltip\r\n            targetId=\"user-search-info\"\r\n            placement=\"left\"\r\n          >\r\n            <span className=\"d-block text-left\">\r\n              Challenge another rapper to battle against\r\n            </span>\r\n          </CustomTooltip>\r\n        )}\r\n\r\n        {searchResults.length > 0 && (\r\n          <ListGroup className=\"position-absolute z-index-300 w-100 px-1 bg-darker\">\r\n            {searchResults.map(result => (\r\n              <ListGroupItem\r\n                key={result.user_id}\r\n                action\r\n                tag=\"button\"\r\n                data-user-id={result.user_id}\r\n                onClick={this.handleSearchItemOnClick}\r\n                className=\"p-1 my-1 bg-transparent rounded-0 text-left outline-none\"\r\n              >\r\n                <div className=\"d-flex align-items-center no-pointer-events\">\r\n                  <img src={result.photo} alt={result.nickname} style={{ width: '24px', height: '24px' }} />\r\n                  <span className=\"flex-fill mx-2\">\r\n                    {result.nickname}\r\n                  </span>\r\n                </div>\r\n              </ListGroupItem>\r\n            ))}\r\n          </ListGroup>\r\n        )}\r\n      </FormGroup>\r\n    );\r\n  }\r\n}\r\n\r\nUserSearch.contextType = PageContext;\r\n","import React from 'react';\r\nimport moment from 'moment';\r\n\r\n// Components.\r\nimport { Button } from 'reactstrap';\r\n\r\nexport default function BattleChallengeSection({\r\n  battleChallenge, handleAcceptBattleChallenge, handleRejectBattleChallenge\r\n}) {\r\n\r\n  const { createdAt, ChallengerUser: challengerUser } = battleChallenge;\r\n  const { nickname: challengerNickname } = challengerUser;\r\n\r\n  return (\r\n    <div className=\"mx-5 p-2 bg-darkest\" >\r\n      <h3>\r\n        BATTLE CHALLENGE\r\n      </h3>\r\n\r\n      <div className=\"d-flex flex-column\">\r\n        <p className=\"text-xl\">\r\n          {`${challengerNickname} challenged you to a battle.`}\r\n        </p>\r\n        <p className=\"mb-0 text-danger\">\r\n          {`This battle will be deleted ${moment(createdAt).utc().add(168, 'hours').from(moment().utc())} if you do not respond.`}\r\n        </p>\r\n        <p className=\"text-danger\">\r\n          This battle will be deleted if you reject the challenge.\r\n        </p>\r\n      </div>\r\n\r\n      <div>\r\n        <Button\r\n          outline\r\n          size=\"md\"\r\n          id=\"reject\"\r\n          onClick={handleRejectBattleChallenge}\r\n          className=\"btn-outline-secondary my-0 mx-1 px-5 rounded-0\"\r\n        >\r\n          Reject\r\n        </Button>\r\n        <Button\r\n          outline\r\n          size=\"md\"\r\n          id=\"confirm\"\r\n          onClick={handleAcceptBattleChallenge}\r\n          className=\"btn-outline-primary m-0 px-5 rounded-0\"\r\n        >\r\n          Accept\r\n        </Button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useContext } from 'react';\r\n\r\n// Components.\r\nimport { Button, ListGroupItem } from 'reactstrap';\r\nimport { PageContext } from '../../../utils/context/pageContext';\r\nimport { MoreButton } from '.';\r\n\r\nexport default function RelationshipListItem({\r\n  relationship, isUserOwner, relationshipType,\r\n  handleRemoveFriend,\r\n}) {\r\n  const {\r\n    photo,\r\n    nickname,\r\n    is_online: isOnline,\r\n    user_id: relationshipUserId,\r\n  } = relationship;\r\n\r\n  const { goTo } = useContext(PageContext).masterData;\r\n\r\n  return (\r\n    <ListGroupItem className=\"d-flex align-items-center px-0 py-1 bg-transparent rounded-0 border-left-0 border-top-0 border-right-0 border-secondary\">\r\n      <Button\r\n        onClick={() => goTo(`profile/${relationshipUserId}`)}\r\n        className=\"d-flex align-items-center w-100 p-0 text-secondary bg-darkest border-0 rounded-0 outline-none\"\r\n      >\r\n        <img\r\n          src={photo}\r\n          alt={nickname}\r\n          className=\"relationship-image\"\r\n        />\r\n\r\n        <span className=\"flex-fill mx-2 text-left text-truncate\">\r\n          {nickname}\r\n        </span>\r\n\r\n        {isUserOwner && (\r\n          <span\r\n            className={`align-self-end mr-3 text-sm ${isOnline ? 'text-success' : 'text-danger'}`}\r\n          >\r\n            {isOnline ? 'online' : 'offline'}\r\n          </span>\r\n        )}\r\n      </Button>\r\n\r\n      {isUserOwner && (\r\n        <MoreButton\r\n          userId={relationshipUserId}\r\n          friendUserId={relationshipUserId}\r\n          relationshipType={relationshipType}\r\n          goTo={goTo}\r\n          handleRemoveFriend={handleRemoveFriend}\r\n        />\r\n      )}\r\n    </ListGroupItem>\r\n  );\r\n}\r\n","import React, { useState } from 'react';\r\n\r\n// Components.\r\nimport {\r\n  ButtonDropdown, DropdownToggle, DropdownMenu, DropdownItem\r\n} from 'reactstrap';\r\n\r\n// Font Awesome icons.\r\nimport { faEllipsisV } from '@fortawesome/free-solid-svg-icons';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\n\r\nexport default function MoreButton({\r\n  userId, friendUserId, relationshipType, goTo, handleRemoveFriend,\r\n}) {\r\n  const [isOpen, setIsOpen] = useState(false);\r\n\r\n  const toggleIsOpen = () => setIsOpen(!isOpen);\r\n\r\n  const moreOptionItems = [{\r\n    labelText: 'Profile',\r\n    handleOnClick: () => goTo(`profile/${userId}`),\r\n  }, {\r\n    labelText: 'Message',\r\n    handleOnClick: null,\r\n  }];\r\n\r\n  if (relationshipType === 'friend') {\r\n    moreOptionItems.push({\r\n      labelText: 'Remove',\r\n      handleOnClick: () => handleRemoveFriend(friendUserId),\r\n    });\r\n  }\r\n\r\n  return (\r\n    <ButtonDropdown\r\n      isOpen={isOpen}\r\n      toggle={toggleIsOpen}\r\n      direction=\"left\"\r\n      className=\"px-1\"\r\n    >\r\n      <DropdownToggle\r\n        className=\"p-0 text-secondary border-0 bg-transparent rounded-0\"\r\n      >\r\n        <FontAwesomeIcon icon={faEllipsisV} />\r\n      </DropdownToggle>\r\n      <DropdownMenu className=\"rounded-0 bg-darker\">\r\n        {moreOptionItems.map(({ labelText, handleOnClick }, index) => (\r\n          <DropdownItem\r\n            key={`${labelText}-${index}`}\r\n            onClick={handleOnClick}\r\n            className=\"text-secondary relationship-list-item\"\r\n          >\r\n            {labelText}\r\n          </DropdownItem>\r\n        ))}\r\n      </DropdownMenu>\r\n    </ButtonDropdown>\r\n  );\r\n}\r\n","import RelationshipListItem from './RelationshipListItem';\r\nimport MoreButton from './MoreButton';\r\n\r\nexport {\r\n  RelationshipListItem,\r\n  MoreButton,\r\n};\r\n\r\nexport default {\r\n  RelationshipListItem,\r\n  MoreButton,\r\n};\r\n","import React, { Component } from 'react';\r\n\r\n// Components.\r\nimport { ListGroup } from 'reactstrap';\r\nimport { PageContext } from '../../utils/context/pageContext';\r\nimport { RelationshipListItem } from './subcomponents';\r\n\r\n// Styles, utils, and other helpers.\r\nimport { RELATIONSHIP_UTILS } from '../../utils/api';\r\n\r\nexport default class RelationshipList extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      relationships: []\r\n    };\r\n\r\n    // Class methods.\r\n    this.updateFriends = this.updateFriends.bind(this);\r\n    this.handleRemoveFriend = this.handleRemoveFriend.bind(this);\r\n  }\r\n\r\n  updateFriends() {\r\n    const { userId, relationshipType } = this.props;\r\n    const { getAxiosOptions, handleAsyncError } = this.context.masterData;\r\n    const axiosOptions = getAxiosOptions();\r\n\r\n    RELATIONSHIP_UTILS.getAllUser(userId, relationshipType, axiosOptions)\r\n      .then(({ data: relationshipsData }) => {\r\n        const relationships = relationshipsData.map(({\r\n          UserOne: userOne, UserTwo: userTwo,\r\n        }) => {\r\n          const { user_id: userOneId } = userOne;\r\n          const friendUser = (userId === userOneId) ? userTwo : userOne;\r\n          const {\r\n            user_id, nickname, is_online, Profile: friendProfile\r\n          } = friendUser;\r\n          const { photo } = friendProfile;\r\n\r\n          return {\r\n            user_id,\r\n            nickname,\r\n            is_online,\r\n            photo,\r\n          };\r\n        });\r\n\r\n        this.setState(() => ({ relationships }));\r\n      })\r\n      .catch(handleAsyncError);\r\n  }\r\n\r\n  handleRemoveFriend(friendUserId) {\r\n    const { userId } = this.props;\r\n    const { getAxiosOptions, handleAsyncError } = this.context.masterData;\r\n    const axiosOptions = getAxiosOptions();\r\n    RELATIONSHIP_UTILS.delete([userId, friendUserId], axiosOptions)\r\n      .then(this.updateFriends)\r\n      .catch(handleAsyncError);\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.updateFriends();\r\n  }\r\n\r\n  render() {\r\n    const { relationships } = this.state;\r\n    const { isUserOwner, relationshipType } = this.props;\r\n\r\n    return (\r\n      <div className=\"d-flex flex-column flex-sm-row flex-md-column\">\r\n        {relationships.length > 0 ? (\r\n          <ListGroup className=\"w-100 p-1\">\r\n            {relationships.map(relationship => (\r\n              <RelationshipListItem\r\n                key={relationship.user_id}\r\n                relationship={relationship}\r\n                isUserOwner={isUserOwner}\r\n                relationshipType={relationshipType}\r\n                handleRemoveFriend={this.handleRemoveFriend}\r\n              />\r\n            ))}\r\n          </ListGroup>\r\n        ) : (\r\n          <p className=\"my-3 text-xxl\">\r\n            {`No ${relationshipType}s`}\r\n          </p>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nRelationshipList.contextType = PageContext;\r\n","import React, { useState } from 'react';\r\n\r\n// Components.\r\nimport {\r\n  Nav,\r\n  NavItem,\r\n  NavLink,\r\n  TabContent,\r\n  TabPane,\r\n} from 'reactstrap';\r\n\r\nimport { RelationshipList, TopFiveList } from '..';\r\n\r\n// Styles, utils, and other helpers.\r\nimport { PROFILE_RELATIONSHIP_NAV_ITEMS } from '../../utils/constants';\r\n\r\nexport default function RelationshipTabs({\r\n  activeTab, isUserProfileOwner, profileUserId,\r\n}) {\r\n  const [activeTabIndex, handleSetActiveTab] = useState(activeTab || 0);\r\n\r\n  return (\r\n    <div>\r\n      <Nav tabs className=\"flex-nowrap border-0\">\r\n        {PROFILE_RELATIONSHIP_NAV_ITEMS.map(({ order, labelText }) => (\r\n          <NavItem\r\n            key={`tab-${labelText}-${order}`}\r\n            className=\"flex-fill cursor-pointer people-tab-item\">\r\n            <NavLink\r\n              onClick={() => handleSetActiveTab(order)}\r\n              className={`py-1 px-2 bg-darkest rounded-0 border-top-0 border-right-0 border-left-0 ${activeTabIndex === order ? 'border-bottom border-primary' : ''}`}\r\n            >\r\n              {labelText}\r\n            </NavLink>\r\n          </NavItem>\r\n        ))}\r\n      </Nav>\r\n\r\n      <TabContent activeTab={activeTabIndex}>\r\n        {PROFILE_RELATIONSHIP_NAV_ITEMS.map(({ order, labelText }) => (\r\n          <TabPane\r\n            key={`tab-pane-${labelText}-${order}`}\r\n            tabId={order}\r\n          >\r\n            {labelText === 'Top 5' ? (\r\n              <TopFiveList\r\n                isUserProfileOwner={isUserProfileOwner}\r\n                profileUserId={profileUserId}\r\n              />\r\n            ) : (\r\n              <RelationshipList\r\n                userId={profileUserId}\r\n                isUserOwner={isUserProfileOwner}\r\n                relationshipType={labelText === 'Friends' ? 'friend' : 'rival'}\r\n              />\r\n            )}\r\n\r\n          </TabPane>\r\n        ))}\r\n      </TabContent>\r\n    </div>\r\n  );\r\n}\r\n","import React, { Component } from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\n// Components.\r\nimport {\r\n  Button, Popover, PopoverBody, Container, Row, Col, ListGroup,\r\n  ListGroupItem, Progress, Label\r\n} from 'reactstrap';\r\nimport Rating from 'react-rating';\r\n\r\n// Font Awesome Icons.\r\nimport {\r\n  faStar,\r\n  faGavel,\r\n  faMicrophone,\r\n  faPlus,\r\n  faTrophy,\r\n} from '@fortawesome/free-solid-svg-icons';\r\nimport { faStar as farStar } from '@fortawesome/free-regular-svg-icons';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\n\r\n// Custom components.\r\nimport { PageContext } from '../../utils/context/pageContext';\r\n\r\n// Styles, utils, and other helpers.\r\nimport { FAVORITE_RAPPERS } from '../../utils/api';\r\n\r\nexport default class UsernamePopover extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      isPopoverOpen: false,\r\n      isFavoriteRapper: false,\r\n    };\r\n\r\n    // Class methods.\r\n    this.toggleIsPopoverOpen = this.toggleIsPopoverOpen.bind(this);\r\n    this.handleAddFavoriteRapper = this.handleAddFavoriteRapper.bind(this);\r\n  }\r\n\r\n  toggleIsPopoverOpen() {\r\n    this.setState(prevState => ({ isPopoverOpen: !prevState.isPopoverOpen }));\r\n  }\r\n\r\n  handleAddFavoriteRapper() {\r\n    const { isFavoriteRapper } = this.state;\r\n    const { userId, profile, } = this.props;\r\n    const {\r\n      getAxiosOptions, handleAsyncError, handleOpenAlert\r\n    } = this.context.masterData;\r\n    const axiosOptions = getAxiosOptions();\r\n    const { user_id: rapperUserId } = profile;\r\n\r\n    const apiMethod = isFavoriteRapper ? 'delete' : 'create';\r\n\r\n    const params = [userId];\r\n\r\n    if (apiMethod === 'create') {\r\n      params.push({\r\n        user_id: userId,\r\n        rapper_id: rapperUserId,\r\n      });\r\n    } else {\r\n      params.push(rapperUserId);\r\n    }\r\n\r\n    FAVORITE_RAPPERS[apiMethod](params, axiosOptions)\r\n      .then(() => this.setState(prevState => ({ isFavoriteRapper: !prevState.isFavoriteRapper })))\r\n      .catch(error => {\r\n        const message = `${error.response.data}\\nWARNING: You can only have 5 favorite rappers.`;\r\n        handleOpenAlert(message, false);\r\n        handleAsyncError(error);\r\n      });\r\n  }\r\n\r\n  componentDidMount() {\r\n    const { userId, profile } = this.props;\r\n    const { getAxiosOptions, handleAsyncError } = this.context.masterData;\r\n    const axiosOptions = getAxiosOptions();\r\n    const { user_id: profileUserId } = profile;\r\n\r\n    FAVORITE_RAPPERS.getOne(userId, profileUserId, axiosOptions)\r\n      .then(result => this.setState(() => ({ isFavoriteRapper: result.data ? true : false })))\r\n      .catch(handleAsyncError);\r\n  }\r\n\r\n  render() {\r\n    const { isPopoverOpen, isFavoriteRapper } = this.state;\r\n    const {\r\n      id, userId, labelText, profile, userProfileUrl, buttonClassName,\r\n      containerClassName,\r\n    } = this.props;\r\n\r\n    const {\r\n      popularity,\r\n      photo: photoUrl,\r\n      battle_rating: battleRating,\r\n      battle_reputation: battleReputation,\r\n      judge_reputation: judgeReputation,\r\n      win_count: winCount,\r\n      loss_count: lossCount,\r\n      battle_count: battleCount,\r\n      draw_count: drawCount\r\n    } = profile;\r\n\r\n    let popularityProgressColor = 'chartreuse';\r\n    if (popularity < 20) {\r\n      popularityProgressColor = 'red';\r\n    } else if (popularity < 40) {\r\n      popularityProgressColor = 'orangered';\r\n    } else if (popularity >= 90) {\r\n      popularityProgressColor = 'darkgoldenrod';\r\n    } else if (popularity >= 70) {\r\n      popularityProgressColor = 'green';\r\n    }\r\n\r\n    let winRatio;\r\n    if (battleCount === 0) winRatio = 0;\r\n    else if (!drawCount) winRatio = winCount / battleCount;\r\n    else winRatio = (winCount + (0.5 * drawCount)) / battleCount;\r\n\r\n    winRatio = Number(Math.round(winRatio + 'e2') + 'e-2').toFixed(2);\r\n\r\n    return (\r\n      <div className={containerClassName || ''}>\r\n        <Button\r\n          id={id}\r\n          color=\"link\"\r\n          className={`d-inline-block p-0 text-truncate text-decoration-none text-secondary ${buttonClassName || 'text-xxl'}`}\r\n        >\r\n          {labelText}\r\n        </Button>\r\n        <Popover\r\n          delay={250}\r\n          trigger=\"hover click\"\r\n          placement=\"bottom\"\r\n          isOpen={isPopoverOpen}\r\n          target={id}\r\n          toggle={this.toggleIsPopoverOpen}\r\n          innerClassName=\"\"\r\n          popperClassName=\"bg-darker rounded-0\"\r\n        >\r\n          <PopoverBody className=\"p-0\">\r\n            <Container fluid className=\"p-0\">\r\n              <Row>\r\n                <Col xs=\"4\" className=\"pr-0\">\r\n                  <img\r\n                    src={photoUrl}\r\n                    alt={labelText}\r\n                    className=\"w-100 user-popover-image\"\r\n                  />\r\n                </Col>\r\n                <Col className=\"pl-0 text-center\">\r\n                  <div className=\"h-100 bg-darkest\">\r\n                    <h3 className=\"m-0 text-secondary text-lg\">\r\n                      {labelText}\r\n                    </h3>\r\n                    <p className=\"m-0 text-xl text-secondary\">\r\n                      {battleRating}\r\n                    </p>\r\n                  </div>\r\n                </Col>\r\n              </Row>\r\n              <Row>\r\n                <Col xs=\"4\" className=\"pr-0\">\r\n                  <ListGroup className=\"h-100 bg-darkest\">\r\n                    <ListGroupItem className=\"p-1 text-center rounded-0 bg-darkest\">\r\n                      <Link\r\n                        to={userProfileUrl}\r\n                        className=\"d-inline-block w-100 text-decoration-none text-secondary\"\r\n                      >\r\n                        Profile\r\n                      </Link>\r\n                    </ListGroupItem>\r\n                    <ListGroupItem className=\"p-1 text-center text-secondary rounded-0 bg-darkest\">\r\n                      Message\r\n                    </ListGroupItem>\r\n                    {userId !== profile.user_id && (\r\n                      <ListGroupItem className=\"p-1 text-center text-secondary rounded-0 bg-darkest\">\r\n                        <Button\r\n                          color=\"link\"\r\n                          size=\"sm\"\r\n                          onClick={this.handleAddFavoriteRapper}\r\n                          className=\"d-flex align-items-center w-100 px-2 py-0 text-decoration-none text-success\"\r\n                        >\r\n                          <FontAwesomeIcon\r\n                            fixedWidth\r\n                            size=\"sm\"\r\n                            icon={isFavoriteRapper ? faTrophy : faPlus}\r\n                          />\r\n                          <span className=\"flex-fill\">Top 5</span>\r\n                        </Button>\r\n                      </ListGroupItem>\r\n                    )}\r\n                  </ListGroup>\r\n                </Col>\r\n                <Col className=\"pl-0 text-secondary\">\r\n                  <div className=\"d-flex flex-column pb-1 h-100 bg-darkest-75\">\r\n                    <div className=\"d-flex flex-column flex-fill\">\r\n                      <div\r\n                        className=\"position-relative my-auto mx-sm-3 mx-md-0\"\r\n                      >\r\n                        <Progress\r\n                          value={popularity}\r\n                          className={`rounded-0 bg-darker popularity-progress ${popularityProgressColor}`}\r\n                        >\r\n                          <Label className=\"m-auto\"></Label>\r\n                        </Progress>\r\n                      </div>\r\n                      <div className=\"d-flex flex-column justify-content-around flex-fill p-1\">\r\n                        <div className=\"d-flex align-items-center mb-2\">\r\n                          <FontAwesomeIcon\r\n                            fixedWidth\r\n                            size=\"lg\"\r\n                            icon={faMicrophone}\r\n                            className=\"d-block mx-auto\"\r\n                          />\r\n                          <Rating\r\n                            readonly\r\n                            size=\"lg\"\r\n                            emptySymbol={<FontAwesomeIcon fixedWidth icon={farStar} />}\r\n                            fullSymbol={<FontAwesomeIcon fixedWidth icon={faStar} />}\r\n                            placeholderSymbol={<FontAwesomeIcon fixedWidth icon={faStar} />}\r\n                            placeholderRating={4.5}\r\n                            initialRating={battleReputation}\r\n                            className=\"flex-fill mx-1 reputation-rating\"\r\n                          />\r\n                        </div>\r\n                        <div className=\"d-flex align-items-center\">\r\n                          <FontAwesomeIcon\r\n                            fixedWidth\r\n                            size=\"lg\"\r\n                            icon={faGavel}\r\n                            className=\"d-block mx-auto\"\r\n                          />\r\n                          <Rating\r\n                            readonly\r\n                            size=\"lg\"\r\n                            emptySymbol={<FontAwesomeIcon fixedWidth icon={farStar} />}\r\n                            fullSymbol={<FontAwesomeIcon fixedWidth icon={faStar} />}\r\n                            placeholderSymbol={<FontAwesomeIcon fixedWidth icon={faStar} />}\r\n                            placeholderRating={4.5}\r\n                            initialRating={judgeReputation}\r\n                            className=\"flex-fill mx-1 reputation-rating\"\r\n                          />\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"d-flex justify-content-around\">\r\n                      <div className=\"flex-fill text-center\">\r\n                        <Label\r\n                          className=\"d-block mb-0 font-weight-bold\"\r\n                        >\r\n                          W/L\r\n                        </Label>\r\n                        <Label className=\"d-block mb-0 text-sm\">\r\n                          {`${winCount} / ${lossCount}`}\r\n                        </Label>\r\n                      </div>\r\n                      <div className=\"flex-fill text-center border-left border-right border-darker\">\r\n                        <Label\r\n                          className=\"d-block mb-0 font-weight-bold\">\r\n                          Ratio\r\n                        </Label>\r\n                        <Label className=\"d-block mb-0 text-sm\">\r\n                          {winRatio}\r\n                        </Label>\r\n                      </div>\r\n                      <div className=\"flex-fill text-center\">\r\n                        <Label\r\n                          className=\"d-block mb-0 font-weight-bold\">\r\n                          Total\r\n                        </Label>\r\n                        <Label className=\"d-block mb-0 text-sm\">\r\n                          {battleCount}\r\n                        </Label>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </Col>\r\n              </Row>\r\n            </Container>\r\n          </PopoverBody>\r\n        </Popover>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nUsernamePopover.contextType = PageContext;\r\n","import React from 'react';\r\n\r\n// Components.\r\nimport { Button } from 'reactstrap';\r\n\r\n// Font Awesome icons.\r\nimport { faTimes } from '@fortawesome/free-solid-svg-icons';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\n\r\nexport default function FavoriteItem({\r\n  rapperId, rapperPhotoUrl, nickname, isUserProfileOwner,\r\n  rapperIndex, handleRemoveFavoriteRapper\r\n}) {\r\n\r\n  const isFirstItem = rapperIndex === 0;\r\n\r\n  return (\r\n    <div\r\n      key={rapperId}\r\n      className={`position-relative my-1 favorite-rapper ${isUserProfileOwner ? 'favorite-rapper-owner' : ''}`}\r\n    >\r\n      <div className=\"text-truncate\">\r\n        <img\r\n          src={rapperPhotoUrl}\r\n          alt={nickname}\r\n          className=\"rounded-circle favorite-rapper-image\"\r\n        />\r\n        <p className=\"m-0 text-sm\">{nickname}</p>\r\n      </div>\r\n\r\n      {isUserProfileOwner && (\r\n        <div\r\n          style={{ top: -10, right: 5 }}\r\n          className={`d-none position-absolute favorite-rapper-overlay ${isFirstItem ? 'w-50' : ''}`}\r\n        >\r\n          <Button\r\n            onClick={() => handleRemoveFavoriteRapper(rapperIndex)}\r\n            className=\"p-0 mx-1 bg-transparent border-0\"\r\n          >\r\n            <FontAwesomeIcon\r\n              icon={faTimes}\r\n              className=\"text-danger no-pointer-events\"\r\n            />\r\n          </Button>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","import FavoriteItem from './FavoriteItem';\r\n\r\nexport {\r\n  FavoriteItem,\r\n};\r\n\r\nexport default {\r\n  FavoriteItem,\r\n};\r\n","import React, { Component } from 'react';\r\nimport arrayMove from 'array-move';\r\n\r\n// Components.\r\nimport { Link } from 'react-router-dom';\r\nimport { sortableContainer, sortableElement } from 'react-sortable-hoc';\r\nimport { PageContext } from '../../utils/context/pageContext';\r\nimport { FavoriteItem } from './subcomponents';\r\n\r\n// Styles, utils, and other helpers.\r\nimport { FAVORITE_RAPPERS } from '../../utils/api';\r\n\r\nconst SortableContainer = sortableContainer(({ children }) => (\r\n  <div className=\"d-flex justify-content-around justify-content-sm-between flex-sm-wrap\">{children}</div>\r\n));\r\n\r\nconst SortableItem = sortableElement((itemProps) => (\r\n  <FavoriteItem {...itemProps } />\r\n));\r\n\r\nexport default class TopFiveList extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      favoriteRappers: [],\r\n    };\r\n\r\n    // Class methods.\r\n    this.handleRemoveFavoriteRapper = this.handleRemoveFavoriteRapper.bind(this);\r\n    this.handleSetFavoriteRappersOrder = this.handleSetFavoriteRappersOrder.bind(this);\r\n  }\r\n\r\n  handleRemoveFavoriteRapper(rapperIndex) {\r\n    const { favoriteRappers: stateRappers } = this.state;\r\n    const favoriteRapper = stateRappers[rapperIndex];\r\n    const favoriteRappers = stateRappers.filter(rapper => rapper.id !== favoriteRapper.id);\r\n    this.setState(() => ({ favoriteRappers }));\r\n\r\n    const { rapper_id: otherUserId } = favoriteRapper;\r\n    const { profileUserId } = this.props;\r\n    const { getAxiosOptions, handleAsyncError } = this.context.masterData;\r\n    const axiosOptions = getAxiosOptions();\r\n    FAVORITE_RAPPERS.delete([profileUserId, otherUserId], axiosOptions)\r\n      .catch(handleAsyncError);\r\n  }\r\n\r\n  handleSetFavoriteRappersOrder({ oldIndex, newIndex }) {\r\n    const { favoriteRappers: stateFavoriteRappers } = this.state;\r\n\r\n    const sortedFavoriteRappers = arrayMove(stateFavoriteRappers, oldIndex, newIndex);\r\n    const favoriteRappers = sortedFavoriteRappers.map((rapper, index) => ({\r\n      ...rapper,\r\n      order: index,\r\n    }));\r\n\r\n    this.setState(() => ({ favoriteRappers }));\r\n\r\n    const updatedFavoriteRappers = favoriteRappers.map(({ id, order }) => ({\r\n      id,\r\n      order,\r\n    }));\r\n\r\n    const { profileUserId } = this.props;\r\n    const { getAxiosOptions, handleAsyncError } = this.context.masterData;\r\n    const axiosOptions = getAxiosOptions();\r\n    FAVORITE_RAPPERS.update(profileUserId, updatedFavoriteRappers, axiosOptions)\r\n      .catch(handleAsyncError);\r\n  }\r\n\r\n  componentDidMount() {\r\n    const { profileUserId } = this.props;\r\n    const { getAxiosOptions, handleAsyncError } = this.context.masterData;\r\n    const axiosOptions = getAxiosOptions();\r\n\r\n    FAVORITE_RAPPERS.getAllUser(profileUserId, axiosOptions)\r\n      .then(({ data: favoriteRappers }) => this.setState(() => ({ favoriteRappers })))\r\n      .catch(handleAsyncError);\r\n  }\r\n\r\n  render() {\r\n    const { favoriteRappers } = this.state;\r\n    const { isUserProfileOwner } = this.props;\r\n\r\n    return (\r\n      <div className=\"py-1\">\r\n        {favoriteRappers.length === 0 ? (\r\n          <p className=\"my-3 text-xxl\">\r\n            No Top 5 Rappers\r\n          </p>\r\n        ) : (\r\n          <SortableContainer\r\n            axis=\"xy\"\r\n            pressDelay={200}\r\n            lockToContainerEdges={true}\r\n            onSortEnd={this.handleSetFavoriteRappersOrder}\r\n          >\r\n            {favoriteRappers.map(({\r\n              Rapper: rapperUser, rapper_id: rapperId,\r\n            }, index) => {\r\n              const { nickname, Profile: rapperProfile } = rapperUser;\r\n              const { photo: rapperPhotoUrl } = rapperProfile;\r\n              return (\r\n                <SortableItem\r\n                  key={rapperId}\r\n                  index={index}\r\n                  disabled={!isUserProfileOwner}\r\n                  isUserProfileOwner={isUserProfileOwner}\r\n                  nickname={nickname}\r\n                  rapperPhotoUrl={rapperPhotoUrl}\r\n                  rapperIndex={index}\r\n                  handleRemoveFavoriteRapper={this.handleRemoveFavoriteRapper}\r\n                />\r\n              );\r\n            })}\r\n          </SortableContainer>\r\n        )}\r\n\r\n        {favoriteRappers.length > 0 && (\r\n          <p className=\"my-3 w-100 text-lg\">\r\n            DRAG TO REORDER\r\n          </p>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nTopFiveList.contextType = PageContext;\r\n","import React, { useState, useContext } from 'react';\r\n\r\n// Components.\r\nimport {\r\n  Button,\r\n  ListGroup,\r\n  ListGroupItem,\r\n  ButtonDropdown,\r\n  DropdownToggle,\r\n  DropdownMenu,\r\n  DropdownItem,\r\n} from 'reactstrap';\r\n\r\n// Font Awesome icons.\r\nimport { faCog, faUserTimes, faUserPlus } from '@fortawesome/free-solid-svg-icons';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\n\r\n// Custom components.\r\nimport { PageContext } from '../../utils/context/pageContext';\r\nimport { EditProfileModal } from '../';\r\n\r\n// Styles, utils, and other helpers.\r\nimport {\r\n  MESSAGE_SAFETY_PENDING_FEATURE,\r\n  MESSAGE_STANDARD_PENDING_FEATURE,\r\n  MESSAGE_ALL_PENDING_FEATURE,\r\n} from '../../utils/constants/';\r\n\r\nexport default function ProfileActionHeader({\r\n  isUserProfileOwner, relationshipData,\r\n  handleRelationshipOnClick,\r\n}) {\r\n  const [isMoreDropdownOpen, setIsMoreDropdownOpen] = useState(false);\r\n  const [isEditing, setIsEditing] = useState(false);\r\n  const toggleIsMoreDropdownOpen = () => setIsMoreDropdownOpen(!isMoreDropdownOpen);\r\n  const toggleIsEditing = () => setIsEditing(!isEditing);\r\n  const { masterData: { handleOpenAlert } } = useContext(PageContext);\r\n  const {\r\n    isUserFriend, isPendingFriendRequest, isUserFriendRequestor\r\n  } = relationshipData;\r\n\r\n  let relationshipText = isUserFriend ? 'Remove Friend' : 'Add Friend';\r\n  if (isPendingFriendRequest) {\r\n    relationshipText = isUserFriendRequestor ? 'Cancel Request' : 'Accept Request';\r\n  }\r\n\r\n  const isUserFriendOrRequestor = isUserFriend || (isPendingFriendRequest && isPendingFriendRequest);\r\n\r\n  const profileActionHeaderItems = [{\r\n    order: 0,\r\n    labelText: relationshipText,\r\n    onClick: handleRelationshipOnClick,\r\n    icon: isUserFriendOrRequestor ? faUserTimes : faUserPlus,\r\n  }, {\r\n    order: 1,\r\n    labelText: 'Follow',\r\n  }, {\r\n    order: 2,\r\n    labelText: 'Message',\r\n  }];\r\n\r\n  const handleTempOnClick = (message) => (\r\n    handleOpenAlert(message + MESSAGE_ALL_PENDING_FEATURE, false, null, null)\r\n  );\r\n\r\n  return (\r\n    <ListGroup horizontal className=\"bg-darkest\">\r\n      {!isUserProfileOwner && profileActionHeaderItems.map(({ order, labelText, icon, onClick }) => (\r\n        <ListGroupItem\r\n          key={`${labelText}-${order}`}\r\n          className=\"flex-fill p-2 bg-darkest rounded-0\"\r\n        >\r\n          <Button\r\n            outline\r\n            color=\"secondary\"\r\n            onClick={onClick ? onClick : () => handleTempOnClick(MESSAGE_STANDARD_PENDING_FEATURE)}\r\n            className=\"p-0 bg-transparent border-0 text-sm rounded-0 outline-none\"\r\n          >\r\n            {icon && (\r\n              <FontAwesomeIcon\r\n                icon={icon}\r\n                className=\"mr-2 no-pointer-events\"\r\n              />\r\n            )}\r\n\r\n            <span className=\"no-pointer-events\">\r\n              {labelText}\r\n            </span>\r\n          </Button>\r\n        </ListGroupItem>\r\n      ))}\r\n\r\n      <ListGroupItem className=\"ml-auto p-2 bg-darkest rounded-0\">\r\n        <ButtonDropdown\r\n          direction=\"left\"\r\n          isOpen={isEditing || isMoreDropdownOpen} toggle={toggleIsMoreDropdownOpen}\r\n        >\r\n          <DropdownToggle\r\n            outline\r\n            className=\"p-0 bg-transparent border-0 rounded-0 outline-none\"\r\n          >\r\n            <FontAwesomeIcon icon={faCog} />\r\n          </DropdownToggle>\r\n          <DropdownMenu className=\"bg-darkest rounded-0 more-profile-options\">\r\n            {isUserProfileOwner ? (\r\n              <EditProfileModal setIsEditing={toggleIsEditing} />\r\n            ) : (\r\n              ['Block', 'Report'].map(item => (\r\n                <DropdownItem\r\n                  key={item}\r\n                  onClick={() => handleTempOnClick(MESSAGE_SAFETY_PENDING_FEATURE)}\r\n                  className=\"text-secondary outline-none\"\r\n                >\r\n                  {item}\r\n                </DropdownItem>\r\n              ))\r\n            )}\r\n          </DropdownMenu>\r\n        </ButtonDropdown>\r\n      </ListGroupItem>\r\n    </ListGroup>\r\n  );\r\n}\r\n","import React, { Component } from 'react';\r\n\r\n// Components.\r\nimport { Link } from 'react-router-dom';\r\nimport {\r\n  ButtonDropdown,\r\n  DropdownToggle,\r\n  DropdownMenu,\r\n} from 'reactstrap';\r\n\r\n// Font Awesome icons.\r\nimport { faCaretDown } from '@fortawesome/free-solid-svg-icons';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\n\r\n// Custom components.\r\nimport { PageContext } from '../../utils/context/pageContext';\r\nimport { RequestBattleModal } from '../';\r\n\r\n// Styles, utils, and other helpers.\r\nimport { BATTLE_REQUEST_UTILS } from '../../utils/api';\r\n\r\nexport default class CreateBattleDropdown extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      isDropdownOpen: false,\r\n      isEditing: false,\r\n      requestedRappers: [],\r\n    };\r\n\r\n    // Bind class methods.\r\n    this.toggleIsDropdownOpen = this.toggleIsDropdownOpen.bind(this);\r\n    this.toggleisEditing = this.toggleisEditing.bind(this);\r\n    this.setChallengerUserId = this.setChallengerUserId.bind(this);\r\n    this.handleBattleRequestModalClose = this.handleBattleRequestModalClose.bind(this);\r\n    this.handleBattleRequestModalSubmit = this.handleBattleRequestModalSubmit.bind(this);\r\n  }\r\n\r\n  toggleIsDropdownOpen() {\r\n    this.setState(prevState => ({ isDropdownOpen: !prevState.isDropdownOpen }));\r\n  }\r\n\r\n  toggleisEditing() {\r\n    this.setState(prevState => ({\r\n      isEditing: !prevState.isEditing,\r\n      isDropdownOpen: !prevState.isDropdownOpen,\r\n    }));\r\n  }\r\n\r\n  setChallengerUserId(challengerUserId, inputNumber) {\r\n    const { requestedRappers: stateRequestedRappers } = this.state;\r\n    const requestedRappers = [].concat(stateRequestedRappers);\r\n\r\n    if (!challengerUserId) {\r\n      requestedRappers.splice(inputNumber, 1);\r\n    } else {\r\n      requestedRappers[inputNumber] = challengerUserId;\r\n    }\r\n\r\n    this.setState(() => ({ requestedRappers }));\r\n  }\r\n\r\n  handleBattleRequestModalClose() {\r\n    this.setState(() => ({ requestedRappers: [] }));\r\n  }\r\n\r\n  handleBattleRequestModalSubmit() {\r\n    const { requestedRappers } = this.state;\r\n    if (!requestedRappers || !requestedRappers.length === 2) return;\r\n\r\n    const { userId } = this.props;\r\n    const { getAxiosOptions, handleAsyncError } = this.context.masterData;\r\n    const axiosOptions = getAxiosOptions();\r\n\r\n    const newBattleRequest = {\r\n      requestor_user_id: userId,\r\n      user_one_id: requestedRappers[0],\r\n      user_two_id: requestedRappers[1],\r\n    };\r\n\r\n    BATTLE_REQUEST_UTILS.create([userId, newBattleRequest], axiosOptions)\r\n      .catch(handleAsyncError);\r\n  }\r\n\r\n  render() {\r\n    const { isDropdownOpen, isEditing, requestedRappers } = this.state;\r\n    const { userId } = this.props;\r\n    const createButtonFontSizeClass = window.screen.width >= 576 ? 'text-xl' : 'text-md';\r\n\r\n    return (\r\n      <ButtonDropdown\r\n        isOpen={isEditing || isDropdownOpen}\r\n        toggle={this.toggleIsDropdownOpen}\r\n        direction=\"up\"\r\n        className=\"d-flex flex-column\"\r\n      >\r\n        <Link\r\n          to=\"/battles/create\"\r\n          className={`btn btn-outline-primary btn-lg vertical-text py-sm-3 rounded-0 font-weight-bolder ${createButtonFontSizeClass}`}\r\n        >\r\n          <span className=\"d-inline-block mb-4 mb-sm-0\">\r\n            CREATE\r\n          </span>\r\n        </Link>\r\n\r\n        <DropdownToggle\r\n          outline\r\n          className=\"btn btn-outline-primary mx-0 border-top-0 rounded-0\"\r\n        >\r\n          <FontAwesomeIcon icon={faCaretDown} size=\"lg\" />\r\n        </DropdownToggle>\r\n\r\n        <DropdownMenu className=\"bg-darkest rounded-0\">\r\n          <RequestBattleModal\r\n            userId={userId}\r\n            isSubmitDisabled={requestedRappers.length < 2}\r\n            requestedRappers={requestedRappers}\r\n            setIsEditing={this.toggleisEditing}\r\n            setChallengerUserId={this.setChallengerUserId}\r\n            handleBattleRequestModalClose={this.handleBattleRequestModalClose}\r\n            handleBattleRequestModalSubmit={this.handleBattleRequestModalSubmit}\r\n          />\r\n        </DropdownMenu>\r\n      </ButtonDropdown>\r\n    );\r\n  }\r\n}\r\n\r\nCreateBattleDropdown.contextType = PageContext;\r\n","import React from 'react';\r\n\r\n// Components.\r\nimport { MainModal, UserSearch } from '../';\r\n\r\nexport default function RequestBattleModal({\r\n  userId, isSubmitDisabled, requestedRappers, setIsEditing,\r\n  setChallengerUserId, handleBattleRequestModalClose,\r\n  handleBattleRequestModalSubmit,\r\n}) {\r\n  return (\r\n    <MainModal\r\n      headerText=\"Request A Battle\"\r\n      toggleButtonContent=\"Request A Battle\"\r\n      toggleButtonProps={{ className: 'dropdown-item w-100 text-secondary bg-transparent border-0 rounded-0 list-group-item-darker' }}\r\n      isSubmitDisabled={isSubmitDisabled}\r\n      handleSubmit={handleBattleRequestModalSubmit}\r\n      handleClose={handleBattleRequestModalClose}\r\n      setIsEditing={setIsEditing}\r\n    >\r\n      <div>\r\n        <p>\r\n          Select 2 rappers you want to see in a battle.\r\n          <span className=\"d-block text-sm text-warning\">\r\n            If you want to challenge a rapper, please create a battle and call them out.\r\n          </span>\r\n        </p>\r\n\r\n        <UserSearch\r\n          userId={userId}\r\n          labelText=\"Rapper One\"\r\n          placeholderText=\"Select the first rapper\"\r\n          isOptional={false}\r\n          isTooltipShown={false}\r\n          dataNumber={0}\r\n          requestedRappers={requestedRappers}\r\n          setChallengerUserId={setChallengerUserId}\r\n          inputClassName=\"bg-darkest-75\"\r\n        />\r\n\r\n        <UserSearch\r\n          userId={userId}\r\n          labelText=\"Rapper Two\"\r\n          placeholderText=\"Select the second rapper\"\r\n          isOptional={false}\r\n          isTooltipShown={false}\r\n          dataNumber={1}\r\n          requestedRappers={requestedRappers}\r\n          setChallengerUserId={setChallengerUserId}\r\n          inputClassName=\"bg-darkest-75\"\r\n        />\r\n      </div>\r\n    </MainModal>\r\n  );\r\n}\r\n","import React, { useContext} from 'react';\r\n\r\n// Components.\r\nimport { ListGroup, ListGroupItem } from 'reactstrap';\r\nimport { PageContext } from '../../../utils/context/pageContext';\r\nimport {\r\n  RequestedListItem, BattleListItem, TournamentListItem,\r\n} from './';\r\n\r\n// Styles, helpers and other utils.\r\nimport { BATTLE_HELPER } from '../../../utils/helpers';\r\n\r\nexport default function BattleList({\r\n  battles,\r\n  isRequestedBattles,\r\n  isTournaments,\r\n  selectedBattleId,\r\n  battlesStateProperty,\r\n  handleBattleItemOnClick,\r\n}) {\r\n  const { goTo } = useContext(PageContext).masterData;\r\n\r\n  return (\r\n    <ListGroup className=\"mh-100 pt-1 pb-sm-5\">\r\n      {battles.length === 0 && (\r\n        <ListGroupItem\r\n          className=\"h-100 mb-2 px-2 py-0 rounded-0 bg-darkest\"\r\n        >\r\n          <div>\r\n            <h3>No Battles Available</h3>\r\n            <p>When battles are available they will appear here.</p>\r\n          </div>\r\n        </ListGroupItem>\r\n      )}\r\n\r\n      {battles.map((battle, index) => {\r\n        const {\r\n          id: contentId,\r\n          RequestingUsers: requestingUsers,\r\n          RequestedContestants: requestedContestants,\r\n        } = battle;\r\n\r\n        let userOneId = '';\r\n        let userTwoId = '';\r\n        let userOneStatus = '';\r\n        let userTwoStatus = '';\r\n\r\n        if (isRequestedBattles) {\r\n          const [contestantOne, contestantTwo] = requestedContestants;\r\n\r\n          const { id: idOne, BattleRequestStatus: battleRequestStatusOne } = contestantOne;\r\n          const { id: idTwo, BattleRequestStatus: battleRequestStatusTwo } = contestantTwo;\r\n          userOneId = idOne;\r\n          userTwoId = idTwo;\r\n          userOneStatus = battleRequestStatusOne.definition;\r\n          userTwoStatus = battleRequestStatusTwo.definition;\r\n        }\r\n\r\n        let doubleClickHandler = () => goTo(`battles/${contentId}`);\r\n        if (isRequestedBattles) doubleClickHandler = null;\r\n        if (isTournaments) {\r\n          doubleClickHandler = () => goTo(`tournaments/${contentId}`);\r\n        }\r\n\r\n\r\n        return (\r\n          <ListGroupItem\r\n            key={BATTLE_HELPER.getBattleCardKey(battle.UserBattles, index)}\r\n            tag=\"button\"\r\n            data-battle-id={contentId}\r\n            data-state-property={battlesStateProperty}\r\n            onClick={handleBattleItemOnClick}\r\n            onDoubleClick={doubleClickHandler}\r\n            className={`mb-2 px-2 py-0 rounded-0 ${contentId === selectedBattleId ? 'bg-darkest-50' : 'bg-darkest-90'}`}\r\n          >\r\n            {isRequestedBattles && (\r\n              <RequestedListItem\r\n                key={`${userOneId}-${userTwoId}-${requestingUsers.length}-${userOneStatus}-${userTwoStatus}`}\r\n                battle={battle}\r\n              />\r\n            )}\r\n\r\n            {isTournaments && (\r\n              <TournamentListItem\r\n                key={contentId}\r\n                tournament={battle}\r\n                battlesStateProperty={battlesStateProperty}\r\n              />\r\n            )}\r\n\r\n            {(!isRequestedBattles && !isTournaments) && (\r\n              <BattleListItem\r\n                battle={battle}\r\n                battlesStateProperty={battlesStateProperty}\r\n              />\r\n            )}\r\n          </ListGroupItem>\r\n        );\r\n      })}\r\n    </ListGroup>\r\n  );\r\n}\r\n","import React from 'react';\r\n\r\nexport default function RequestedListItem({ battle: {\r\n  RequestingUsers: requestingUsers,\r\n  RequestedContestants: requestedContestants,\r\n}}) {\r\n  // TODO: Put this into a helper function.\r\n  const { width: screenWidth } = window.screen;\r\n  const isScreenSmallOrLarger = screenWidth >= 576;\r\n  const largeTextSize = isScreenSmallOrLarger ? 'text-lg' : 'text-md';\r\n  const requestCount = requestingUsers.length;\r\n  return (\r\n    <div className=\"d-flex justify-content-between no-pointer-events\">\r\n      <div className=\"flex-fill d-flex flex-column text-left\">\r\n        {requestedContestants.map(({\r\n          user_id: contestantUserId,\r\n          BattleRequestStatus: { definition: requestStatus },\r\n          User: { nickname: contestantNickname},\r\n        }, index) => {\r\n          const isRequestAccepted = requestStatus === 'accepted';\r\n          const isRequestRejected = requestStatus === 'rejected';\r\n          let requestStatusColorClass = isRequestAccepted ? 'text-success' : 'text-info';\r\n          requestStatusColorClass = isRequestRejected ? 'text-danger' : requestStatusColorClass;\r\n\r\n          return (\r\n            <p\r\n              key={contestantUserId || index}\r\n              className={`m-0 font-weight-bolder text-truncate text-secondary ${largeTextSize}`}\r\n            >\r\n              <span>\r\n                {contestantNickname}\r\n              </span>\r\n              <small className={`mx-3 text-sm ${requestStatusColorClass}`}>\r\n                {requestStatus}\r\n              </small>\r\n            </p>\r\n          );\r\n        })}\r\n      </div>\r\n\r\n      <div className=\"d-flex flex-column w-25 mx-3 my-auto text-secondary\">\r\n        <p className={`m-0 text-capitalize font-weight-bold ${largeTextSize}`}>\r\n          <span>\r\n            {requestCount}\r\n          </span>\r\n          <span className=\"mx-1\">\r\n            {`Request${requestCount === 1 ? 's' : ''}`}\r\n          </span>\r\n        </p>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React,{ Fragment } from 'react';\r\n\r\n// Components.\r\nimport { Link } from 'react-router-dom';\r\n\r\n// Styles, utils, and other helpers.\r\nimport { BATTLE_HELPER } from '../../../utils/helpers';\r\n\r\nexport default function BattleListItem({\r\n  battlesStateProperty, battle: {\r\n    id: battleId, Rounds: rounds, UserBattles: userBattles,\r\n    Status: status, Type: type, BattleChallenge: battleChallenge,\r\n    JudgingType,\r\n  }\r\n}) {\r\n  // TODO: Move into a helper function;\r\n  const { width: screenWidth } = window.screen;\r\n  const isScreenSmallOrLarger = screenWidth >= 576;\r\n  const largeTextSize = isScreenSmallOrLarger ? 'text-lg' : 'text-md';\r\n  const mediumTextSize = isScreenSmallOrLarger ? 'text-md' : 'text-sm';\r\n  const smallTextSize = isScreenSmallOrLarger ? 'text-sm' : 'text-xs';\r\n\r\n  const participants = BATTLE_HELPER.getAllParticipants(userBattles, rounds);\r\n  const { contestants, judges } = participants;\r\n  const { definition: battleType } = type;\r\n  const { definition: battleStatus } = status;\r\n  const { definition: judgingType } = JudgingType;\r\n\r\n  const judgeCount = judges.filter(judge => judge.id).length;\r\n\r\n  let currentRound = rounds[0];\r\n\r\n  for (let i = 0; i < rounds.length; i++) {\r\n    const round = rounds[i];\r\n    currentRound = (round.number > currentRound.number) ? round : currentRound;\r\n  }\r\n\r\n  const challengeStatus = battleChallenge ? battleChallenge.BattleChallengeStatus.definition : '';\r\n\r\n  return (\r\n    <div className=\"d-flex justify-content-between no-pointer-events\">\r\n      <div className=\"flex-fill d-flex flex-column text-left\">\r\n        {contestants.map((contestant, index) => {\r\n          const { User: contestantUser } = contestant;\r\n          let labelText = contestantUser ? contestantUser.nickname : 'Join This Battle';\r\n          let labelColorClassName = contestantUser ? 'text-secondary' : 'text-success';\r\n          if (battleChallenge && !contestantUser) {\r\n            const { ChallengedUser: challengedUser } = battleChallenge;\r\n            labelText = challengedUser.nickname;\r\n            labelColorClassName = (challengeStatus === 'accepted') ? 'text-secondary' : 'text-danger';\r\n          }\r\n\r\n          return (\r\n            <p\r\n              key={contestant.user_id || index}\r\n              className={`m-0 font-weight-bolder text-truncate ${largeTextSize} ${labelColorClassName}`}\r\n            >\r\n              {labelText}\r\n            </p>\r\n          );\r\n        })}\r\n      </div>\r\n\r\n      <div className={`d-flex flex-column justify-content-center text-sm font-weight-bold ${challengeStatus === 'accepted' ? 'text-success' : 'text-info'}`}>\r\n        {battleChallenge && (\r\n          <Fragment>\r\n            <span>CHALLENGE</span>\r\n            <span className=\"text-uppercase\">\r\n              {challengeStatus}\r\n            </span>\r\n          </Fragment>\r\n        )}\r\n      </div>\r\n\r\n      <div className=\"d-flex flex-column w-25 mx-3 text-secondary\">\r\n        <p className={`m-0 text-capitalize font-weight-bold ${largeTextSize}`}>\r\n          {battleType}\r\n        </p>\r\n        {((judgingType === 'judging') && (judgeCount < 3)) ? (\r\n          <span className={`font-weight-bold text-success ${smallTextSize}`}>\r\n            {`${judgeCount}/3 judges`}\r\n          </span>\r\n        ) : (\r\n          <span className={smallTextSize}>\r\n            {judgingType === 'judging' ? 'Judges full' : judgingType}\r\n          </span>\r\n        )}\r\n      </div>\r\n\r\n      <div className=\"d-flex flex-column\">\r\n        <p className={`m-0 text-capitalize text-secondary ${mediumTextSize}`}>\r\n          {(battleStatus === 'round') ? `round ${currentRound.number}` : battleStatus}\r\n        </p>\r\n        <Link\r\n          to={`/battles/${battleId}`}\r\n          data-state-property={battlesStateProperty}\r\n          className=\"btn btn-link p-0 text-sm text-primary pointer-events\"\r\n        >\r\n          GOTO\r\n        </Link>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React from 'react';\r\n\r\n// Components.\r\nimport { Link } from 'react-router-dom';\r\n\r\nexport default function TournamentListItem({\r\n  tournament, battlesStateProperty,\r\n}) {\r\n  // TODO: Move into a helper function;\r\n  const { width: screenWidth } = window.screen;\r\n  const isScreenSmallOrLarger = screenWidth >= 576;\r\n  const largeTextSize = isScreenSmallOrLarger ? 'text-lg' : 'text-md';\r\n  const mediumTextSize = isScreenSmallOrLarger ? 'text-md' : 'text-sm';\r\n  const smallTextSize = isScreenSmallOrLarger ? 'text-sm' : 'text-xs';\r\n\r\n  const {\r\n    id: tournamentId,\r\n    Status: { definition: status },\r\n    TournamentType: { definition: tournamentType },\r\n    TournamentContestantCount: { definition: contestantCount },\r\n    TournamentJudges: tournamentJudges,\r\n  } = tournament;\r\n\r\n  return (\r\n    <div className=\"d-flex justify-content-between no-pointer-events\">\r\n      <div className=\"flex-fill d-flex flex-column text-left text-secondary\">\r\n        <p\r\n          className={`m-0 font-weight-bolder text-capitalize text-truncate ${largeTextSize}`}\r\n        >\r\n          {tournamentType}\r\n        </p>\r\n        <p\r\n          className={`m-0 font-weight-bolder text-capitalize text-truncate ${largeTextSize}`}\r\n        >\r\n          {/* {`${tournamentContestants.length}/${contestantCount} Contestants`} */}\r\n        </p>\r\n      </div>\r\n\r\n      <div className=\"d-flex flex-column w-25 mx-3 text-secondary\">\r\n        {/* <p className={`m-0 text-capitalize font-weight-bold ${largeTextSize}`}>\r\n          {battleType}\r\n        </p> */}\r\n        {/* <span className={smallTextSize}>\r\n          {judgingType}\r\n        </span> */}\r\n      </div>\r\n\r\n      <div className=\"d-flex flex-column\">\r\n        <p className={`m-0 text-capitalize text-secondary ${mediumTextSize}`}>\r\n          {status}\r\n        </p>\r\n        <Link\r\n          to={`/tournaments/${tournamentId}`}\r\n          data-state-property={battlesStateProperty}\r\n          className=\"btn btn-link p-0 text-sm text-primary pointer-events\"\r\n        >\r\n          GOTO\r\n        </Link>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React, { Component } from 'react';\r\n\r\n// Components.\r\nimport { Dropdown, DropdownToggle, DropdownMenu, DropdownItem } from 'reactstrap';\r\n\r\n// Styles, utils, and other helpers.\r\nimport { BATTLE_LIST_SORT_FIELDS } from '../../../utils/constants';\r\n\r\nexport default class SortBattlesDropdown extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      isOpen: false,\r\n      selectedItem: BATTLE_LIST_SORT_FIELDS[0],\r\n    };\r\n\r\n    // Bind class methods.\r\n    this.toggleIsOpen = this.toggleIsOpen.bind(this);\r\n    this.handleItemOnClick = this.handleItemOnClick.bind(this);\r\n  }\r\n\r\n  toggleIsOpen() {\r\n    this.setState(prevState => ({ isOpen: !prevState.isOpen }));\r\n  }\r\n\r\n  handleItemOnClick(event) {\r\n    const menuItem = event.target;\r\n    const itemIndex = menuItem.getAttribute('data-item-index');\r\n\r\n    const selectedItem = BATTLE_LIST_SORT_FIELDS[itemIndex];\r\n\r\n    this.setState(() => ({ selectedItem }));\r\n\r\n    const { handleSortBattleList } = this.props;\r\n    handleSortBattleList(selectedItem.value);\r\n  }\r\n\r\n  render() {\r\n    const { isOpen, selectedItem } = this.state;\r\n    return (\r\n      <Dropdown\r\n        isOpen={isOpen}\r\n        toggle={this.toggleIsOpen}\r\n        className=\"h-100\"\r\n      >\r\n        <DropdownToggle\r\n          caret\r\n          outline\r\n          className=\"btn-outline-primary btn-sm h-100 py-0 text-xs rounded-0 border-0\"\r\n        >\r\n          {`Sort By: ${selectedItem.label}`}\r\n        </DropdownToggle>\r\n        <DropdownMenu className=\"bg-darkest-90 rounded-0 sort-battle\">\r\n          {BATTLE_LIST_SORT_FIELDS.map((sortField, index) => (\r\n            <DropdownItem\r\n              key={sortField.value}\r\n              data-item-index={index}\r\n              onClick={this.handleItemOnClick}\r\n              className=\"text-primary\"\r\n            >\r\n              {sortField.label}\r\n            </DropdownItem>\r\n          ))}\r\n        </DropdownMenu>\r\n      </Dropdown>\r\n    );\r\n  }\r\n}\r\n","import React, { useState } from 'react';\r\n\r\n// Components.\r\nimport {\r\n  Nav,\r\n  NavItem,\r\n  NavLink,\r\n  TabContent,\r\n  TabPane,\r\n} from 'reactstrap';\r\nimport { BattleList, SortBattlesDropdown } from './subcomponents';\r\n\r\nexport default function BattleListTabs({\r\n  battlesData, selectedBattleId, handleBattleItemOnClick,\r\n  handleSortBattleList,\r\n}) {\r\n  const [activeTabIndex, toggleActiveTabIndex] = useState(2);\r\n\r\n  return (\r\n    <div className=\"flex-fill order-1 order-sm-0 h-100 my-3 mx-sm-2 my-sm-0 border border-darkest\">\r\n      <Nav tabs>\r\n        {battlesData.map(({ labelText, order }) => (\r\n          <NavItem\r\n            key={`tab-header-${order}-${labelText}`}\r\n            className=\"flex-fill text-capitalize cursor-pointer\"\r\n          >\r\n            <NavLink\r\n              onClick={() => toggleActiveTabIndex(order)}\r\n              className={`py-1 px-2 bg-darkest rounded-0 border-top-0 border-right-0 border-left-0 ${activeTabIndex === order ? 'border-bottom border-primary' : ''}`}\r\n            >\r\n              {labelText}\r\n            </NavLink>\r\n          </NavItem>\r\n        ))}\r\n\r\n        {/* <NavItem className=\"ml-auto bg-darkest\">\r\n          <SortBattlesDropdown\r\n            handleSortBattleList={handleSortBattleList}\r\n          />\r\n        </NavItem> */}\r\n      </Nav>\r\n\r\n      <TabContent activeTab={activeTabIndex}>\r\n        {battlesData.map(({\r\n          labelText, order, battles, stateProperty,\r\n        }) => (\r\n          <TabPane\r\n            tabId={order}\r\n            key={`tab-pane-${order}-${labelText}`}\r\n          >\r\n            <BattleList\r\n              battles={battles}\r\n              isRequestedBattles={labelText === 'requests'}\r\n              isTournaments={labelText === 'tournaments'}\r\n              selectedBattleId={selectedBattleId}\r\n              battlesStateProperty={stateProperty}\r\n              handleBattleItemOnClick={handleBattleItemOnClick}\r\n            />\r\n          </TabPane>\r\n        ))}\r\n      </TabContent>\r\n    </div>\r\n  );\r\n}\r\n","/* eslint-disable complexity */\r\nimport React from 'react';\r\n\r\n// Components.\r\nimport { Button } from 'reactstrap';\r\n// Font Awesome Icons.\r\nimport {\r\n  faCheck, faTimes, faPlus, faMinus,\r\n} from '@fortawesome/free-solid-svg-icons';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\n\r\nexport default function ResponseButtons({\r\n  responseStatus, requestCount, isUserRequestor, isUserRespondent,\r\n  isUserChallengeRequestor, responseType, isBattleStaging, handleUpdateStatus\r\n}) {\r\n  const isBattleChallenge = responseType === 'battle-challenge';\r\n  const isResponded = responseStatus !== 'pending';\r\n  const isRespondantButtonShown = (isUserRespondent && !(isBattleChallenge && isResponded));\r\n  let isDynamicButtonShown = !(isBattleChallenge && (isUserRequestor || (isUserRespondent && isResponded)));\r\n  isDynamicButtonShown = (isDynamicButtonShown && isBattleChallenge) ? isBattleStaging : isDynamicButtonShown;\r\n  isDynamicButtonShown = (!isDynamicButtonShown && isBattleChallenge) ? isUserChallengeRequestor : isDynamicButtonShown;\r\n\r\n  let dynamicButtonIcon = (isUserRequestor || isUserChallengeRequestor) ? faMinus : faPlus;\r\n  dynamicButtonIcon = isUserRespondent ? faTimes : dynamicButtonIcon;\r\n\r\n  return (\r\n    <div className={`d-flex justify-content-around align-items-center w-100 mb-3 ${(isUserRespondent || responseType === 'battle-request') ? 'my-3' : ''}`}>\r\n      <p className=\"flex-sm-fill m-0 text-xl\">\r\n        <span>{requestCount}</span>\r\n        <span className=\"mx-1\">\r\n          {`Request${requestCount === 1 ? '' : 's'}`}\r\n        </span>\r\n      </p>\r\n\r\n      {(isRespondantButtonShown || isDynamicButtonShown) && (\r\n        <div className=\"d-flex justify-content-around mx-1\">\r\n          {isRespondantButtonShown && (\r\n            <Button\r\n              outline={!(responseStatus === 'accepted')}\r\n              size=\"sm\"\r\n              color=\"success\"\r\n              data-status-definition=\"accepted\"\r\n              onClick={handleUpdateStatus}\r\n              className=\"btn-lg mx-2 rounded-circle text-decoration-none\"\r\n            >\r\n              <FontAwesomeIcon\r\n                fixedWidth\r\n                icon={faCheck}\r\n                className=\"no-pointer-events\"\r\n              />\r\n            </Button>\r\n          )}\r\n\r\n          {isDynamicButtonShown && (\r\n            <Button\r\n              outline={isUserRespondent && !(responseStatus == 'rejected')}\r\n              size=\"sm\"\r\n              color={(isUserRespondent || isUserRequestor || isUserChallengeRequestor) ? 'danger' : 'success'}\r\n              data-status-definition={isUserRespondent ? 'rejected' : 'request'}\r\n              onClick={handleUpdateStatus}\r\n              className=\"btn-lg mx-2 rounded-circle text-decoration-none\"\r\n            >\r\n              <FontAwesomeIcon\r\n                fixedWidth\r\n                icon={dynamicButtonIcon}\r\n                className=\"no-pointer-events\"\r\n              />\r\n            </Button>\r\n          )}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","import React, { Component } from 'react';\r\n\r\n// Components.\r\nimport { Button, Input, FormFeedback, Label } from 'reactstrap';\r\nimport { PageContext } from '../../utils/context/pageContext';\r\n\r\n// Styles, utils, and other helpers.\r\nimport { API_UTILS, CONSTANTS, HELPERS } from '../../utils';\r\n\r\nconst { USER_UTILS } = API_UTILS;\r\nconst {\r\n  MESSAGE_UNAVAILABLE_EMAIL,\r\n  MESSAGE_UNCHANGED_EMAIL,\r\n} = CONSTANTS;\r\nconst { MAIN_HELPER } = HELPERS;\r\n\r\nexport default class ChangeEmailInput extends Component {\r\n  constructor(props, context) {\r\n    super(props, context);\r\n\r\n    const { email } = context.userContext.user.profile.User;\r\n\r\n    this.state = {\r\n      inputValue: email,\r\n      isValid: true,\r\n      isAvailable: false,\r\n      validationMessage: '',\r\n      isUpdateSuccessful: false,\r\n    };\r\n\r\n    // Bind class methods.\r\n    this.validateInput = this.validateInput.bind(this);\r\n    this.validateAvailability = this.validateAvailability.bind(this);\r\n    this.handleOnChange = this.handleOnChange.bind(this);\r\n    this.handleOnBlur = this.handleOnBlur.bind(this);\r\n    this.handleSubmitForm = this.handleSubmitForm.bind(this);\r\n  }\r\n\r\n  validateInput() {\r\n    const { inputValue } = this.state;\r\n    const inputValidation = MAIN_HELPER.validateEmailFormat(inputValue);\r\n    const { isValid, validationMessage } = inputValidation;\r\n\r\n    this.setState(() => ({\r\n      inputValue,\r\n      isValid,\r\n      validationMessage,\r\n    }));\r\n\r\n    return isValid;\r\n  }\r\n\r\n  validateAvailability(callback) {\r\n    const { inputValue } = this.state;\r\n\r\n    const {\r\n      masterData: { getAxiosOptions, handleAsyncError },\r\n      userContext: {\r\n        user: {\r\n          user_id: userId,\r\n          profile: { User: { email } }\r\n        }\r\n      }\r\n    } = this.context;\r\n\r\n    const axiosOptions = getAxiosOptions();\r\n    const trimmedValue = inputValue.trim();\r\n    const isValueChanged = email !== trimmedValue;\r\n\r\n    if (!isValueChanged) {\r\n      return this.setState(() => ({\r\n        isValid: false,\r\n        validationMessage: MESSAGE_UNCHANGED_EMAIL,\r\n        isAvailable: false,\r\n      }));\r\n    }\r\n\r\n    USER_UTILS.isEmailAvailable(userId, trimmedValue, axiosOptions)\r\n      .then(({ data: { isAvailable } }) => {\r\n        this.setState(() => ({\r\n          isValid: isValueChanged && isAvailable,\r\n          validationMessage: isValueChanged ? MESSAGE_UNAVAILABLE_EMAIL : MESSAGE_UNCHANGED_EMAIL,\r\n          isAvailable: isValueChanged && isAvailable,\r\n        }));\r\n\r\n        if (callback) return callback(isAvailable);\r\n      })\r\n      .catch(handleAsyncError);\r\n  }\r\n\r\n  handleOnChange({ target }) {\r\n    const { value: inputValue } = target;\r\n    this.setState(() => ({ inputValue }));\r\n  }\r\n\r\n  handleOnBlur() {\r\n    this.validateInput();\r\n    this.validateAvailability();\r\n  }\r\n\r\n  handleSubmitForm(event) {\r\n    event.preventDefault();\r\n\r\n    this.setState(() => ({ isUpdateSuccessful: false }), () => {\r\n      const isInputValid = this.validateInput();\r\n      if (!isInputValid) return;\r\n\r\n      const { inputValue } = this.state;\r\n\r\n      const {\r\n        masterData: { getAxiosOptions, handleAsyncError },\r\n        userContext: {\r\n          user: { user_id: userId },\r\n          methodData: { updateUser },\r\n        }\r\n      } = this.context;\r\n\r\n      const trimmedValue = inputValue.trim();\r\n\r\n      this.validateAvailability(isAvailable => {\r\n        if (!isAvailable) return;\r\n\r\n        const updatedUser = {\r\n          user_id: userId,\r\n          email: trimmedValue\r\n        };\r\n\r\n        const axiosOptions = getAxiosOptions();\r\n        USER_UTILS.update(updatedUser, axiosOptions)\r\n          .then(() => this.setState(() => ({ isUpdateSuccessful: true }), updateUser))\r\n          .catch(handleAsyncError);\r\n      });\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      inputValue, isValid, isAvailable, validationMessage,\r\n      isUpdateSuccessful\r\n    } = this.state;\r\n\r\n    const { inputId, labelText, inputType } = this.props;\r\n\r\n    return (\r\n      <form\r\n        onSubmit={this.handleSubmitForm}\r\n        className=\"\"\r\n      >\r\n        <div>\r\n          <Label\r\n            for={inputId}\r\n            className=\"m-0\"\r\n          >{labelText}</Label>\r\n          <Input\r\n            id={inputId}\r\n            type={inputType}\r\n            valid={isAvailable}\r\n            invalid={!isValid}\r\n            value={inputValue}\r\n            onChange={this.handleOnChange}\r\n            onBlur={this.handleOnBlur}\r\n            className=\"form-control-sm\"\r\n          />\r\n          <FormFeedback>{validationMessage}</FormFeedback>\r\n        </div>\r\n\r\n        <div className=\"d-flex flex-wrap flex-sm-nowrap\">\r\n          {isUpdateSuccessful && (\r\n            <small className=\"flex-fill mx-3 form-text text-success\">\r\n              {`Successfully updated ${labelText}.`}\r\n            </small>\r\n          )}\r\n\r\n          <Button\r\n            color=\"link\"\r\n            type=\"submit\"\r\n            className=\"btn-sm d-block ml-auto text-decoration-none\"\r\n          >\r\n            continue\r\n          </Button>\r\n        </div>\r\n      </form>\r\n    );\r\n  }\r\n}\r\n\r\nChangeEmailInput.contextType = PageContext;\r\n","import React from 'react';\r\n\r\nexport default function DynamicTournamentInfo({ selectedTournament }) {\r\n  const { width: screenWidth } = window.screen;\r\n  const isScreenXS = screenWidth < 576;\r\n\r\n  const {\r\n    TournamentType: { definition: tournamentType }\r\n  } = selectedTournament;\r\n\r\n  return (\r\n    <div className={`d-flex flex-column bg-darkest border border-darkest battle-info-pane ${isScreenXS ? 'sticky-top' : ''}`}>\r\n      <h3>Tournament</h3>\r\n      <p className=\"text-capitalize\">{tournamentType}</p>\r\n      <p>COMING SOON!</p>\r\n      <p>MORE TOURNAMENT INFO</p>\r\n    </div>\r\n  );\r\n}\r\n","import React from 'react';\r\n\r\nexport default function MatchContestant({\r\n  seatNumber, contestantUsername, score\r\n}) {\r\n  return (\r\n    <div className=\"d-flex mx-3 my-2\">\r\n      <span>{seatNumber}</span>\r\n      <span className=\"flex-fill mx-2 text-left\">\r\n        {contestantUsername || 'TBD'}\r\n      </span>\r\n      <span>{score}</span>\r\n    </div>\r\n  );\r\n}\r\n","import React from 'react';\r\n\r\n// Components.\r\nimport { MatchContestant } from './subcomponents';\r\n\r\nexport default function TournamentMatch({ match }) {\r\n  const { number: matchNumber } = match;\r\n\r\n  return (\r\n    <div className=\"d-flex my-3\">\r\n      <div className=\"align-self-center mx-2\">\r\n        {matchNumber}\r\n      </div>\r\n      <div className=\"d-flex flex-column flex-fill bg-darker\">\r\n        <MatchContestant\r\n          seatNumber={undefined}\r\n          contestantUsername={undefined}\r\n          score={undefined}\r\n        />\r\n\r\n        <hr className=\"m-0 border-dark\" />\r\n\r\n        <MatchContestant\r\n          seatNumber={undefined}\r\n          contestantUsername={undefined}\r\n          score={undefined}\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React from 'react';\r\n\r\n// Components.\r\nimport TournamentMatch from '../TournamentMatch';\r\n\r\nexport default function TournamentRound({ round }) {\r\n  const {\r\n    TournamentRoundType: { definition: roundType },\r\n    TournamentMatches: matches,\r\n  } = round;\r\n\r\n  // console.log(round);\r\n\r\n  return (\r\n    <div className=\"d-flex flex-column same-flex-width\">\r\n      <h3 className=\"text-capitalize\">\r\n        {roundType}\r\n      </h3>\r\n\r\n      <div className=\"d-flex flex-column justify-content-around flex-fill px-4\">\r\n        {matches.map(match => (\r\n          <TournamentMatch\r\n            key={match.id}\r\n            match={match}\r\n          />\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React from 'react';\r\n\r\n// Components.\r\nimport { Button } from 'reactstrap';\r\n\r\nexport default function JoinEventHeaderButtons({\r\n  isJudgedBattles, isUserJudge, isUserContestant,\r\n  isUserFollowing, handleJoinLeaveOnClick,\r\n  handleFollowOnClick, handleUnfollowOnClick,\r\n}) {\r\n  return (\r\n    <div className=\"flex-fill d-flex justify-content-center\">\r\n      {isJudgedBattles && (\r\n        <Button\r\n          outline\r\n          data-role=\"judge\"\r\n          onClick={handleJoinLeaveOnClick}\r\n          className=\"btn-outline-primary mx-2 rounded-0\"\r\n        >\r\n          {isUserJudge ? 'Judging' : 'JUDGE IT!'}\r\n        </Button>\r\n      )}\r\n      <div className={`align-self-end ${!isJudgedBattles ? 'flex-fill mx-3' : ''}`}>\r\n        <Button\r\n          outline\r\n          size=\"sm\"\r\n          onClick={handleJoinLeaveOnClick}\r\n          data-role=\"contestant\"\r\n          className={`d-block mx-auto w-50 rounded-0 ${isJudgedBattles ? 'btn-outline-secondary' : 'btn-outline-primary'}`}\r\n        >\r\n          {isUserContestant ? 'Leave' : 'Join'}\r\n        </Button>\r\n        <Button\r\n          size=\"sm\"\r\n          color=\"link\"\r\n          onClick={isUserFollowing ? handleUnfollowOnClick : handleFollowOnClick}\r\n          className=\"my-0 mx-2 mx-sm-0 p-0 rounded-0\"\r\n        >\r\n          {isUserFollowing ? 'Following' : 'Follow'}\r\n        </Button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React from 'react';\r\n\r\n// Components.\r\nimport { Button, ListGroup, ListGroupItem } from 'reactstrap';\r\nimport UsernamePopover from '../../UsernamePopover';\r\n\r\nexport default function ParticipantsList({\r\n  participants, userId, maxParticipantsCount, isUserParticipant,\r\n  participantsType,\r\n}) {\r\n  const { length: participantsLength } = participants;\r\n\r\n  let joinLeaveButtonText = isUserParticipant ? 'Leave' : 'Join It';\r\n  if (!isUserParticipant && participantsType === 'judges') {\r\n    joinLeaveButtonText = 'Judge It';\r\n  }\r\n\r\n  return (\r\n    <ListGroup flush className=\"flex-row flex-wrap flex-fill h-100 px-2 border-right border-darker\">\r\n      {participants.map(({\r\n        User: { nickname, user_id, Profile: profile }\r\n      }, index) => (\r\n        <ListGroupItem\r\n          key={`tournament-${nickname}-contestant-${index}`}\r\n          className=\"d-flex flex-column justify-content-center w-50 h-25 p-0 bg-transparent rounded-0 border-0\"\r\n        >\r\n          <UsernamePopover\r\n            id={`tournament-registrant-${user_id}`}\r\n            userId={userId}\r\n            labelText={nickname}\r\n            profile={profile}\r\n            userProfileUrl={`/profile/${user_id}`}\r\n            containerClassName=\"d-flex flex-column justify-content-center flex-fill\"\r\n            buttonClassName=\"btn-block text-sm font-weight-bold\"\r\n          />\r\n        </ListGroupItem>\r\n      ))}\r\n\r\n      {participantsLength === 0 && (\r\n        <ListGroupItem\r\n          className=\"d-flex flex-column justify-content-center mx-auto p-0 bg-transparent rounded-0\"\r\n        >\r\n          <p>\r\n            {`There are no registered ${participantsType}.`}\r\n          </p>\r\n        </ListGroupItem>\r\n      )}\r\n\r\n      {participantsLength < maxParticipantsCount && (\r\n        <ListGroupItem\r\n          className={`d-flex flex-column justify-content-center p-0 bg-transparent rounded-0 ${participantsLength > 0 ? 'w-50 h-25' : 'mx-auto'}`}\r\n        >\r\n          <Button\r\n            outline\r\n            onClick={() => alert()}\r\n            data-role=\"contestant\"\r\n            className={`mx-auto py-0 rounded-0 btn-outline-primary ${participantsLength > 0 ? 'btn-sm w-75' : ''}`}\r\n          >\r\n            {joinLeaveButtonText}\r\n          </Button>\r\n        </ListGroupItem>\r\n      )}\r\n    </ListGroup>\r\n  );\r\n}\r\n","import React from 'react';\r\n\r\n// Components.\r\nimport { ListGroup, ListGroupItem } from 'reactstrap';\r\n\r\nexport default function BattleInfoItems({\r\n  battleData, isHorizontal, itemClassName,\r\n}) {\r\n  return (\r\n    <ListGroup\r\n      flush\r\n      className={`flex-wrap h-100 ${isHorizontal ? 'flex-row' : ''}`}\r\n    >\r\n      {Object.keys(battleData).map((dataName, dataIndex) => (\r\n        <ListGroupItem\r\n          key={`info-item-${dataName}-${dataIndex}`}\r\n          className={`d-flex flex-column justify-content-center p-0 text-sm bg-transparent rounded-0 ${itemClassName}`}\r\n        >\r\n          <div className=\"d-flex flex-column text-capitalize\">\r\n            <span className=\"font-weight-bold text-truncate\">\r\n              {dataName}\r\n            </span>\r\n            <span className=\"text-truncate\">\r\n              {battleData[dataName]}\r\n            </span>\r\n          </div>\r\n        </ListGroupItem>\r\n      ))}\r\n    </ListGroup>\r\n  );\r\n}\r\n","import React, { useState } from 'react';\r\n\r\n// Components.\r\nimport {\r\n  TabContent, TabPane, Nav, NavItem, NavLink,\r\n  ListGroup, ListGroupItem,\r\n} from 'reactstrap';\r\nimport BattleInfoItems from '../../BattleInfoItems';\r\n\r\n// API utilities, helper functions, and other assets.\r\nimport BATTLE_HELPER from '../../../utils/helpers/battleHelper';\r\n\r\nconst { getBattleInfo } = BATTLE_HELPER;\r\n\r\nexport default function RoundTabs({ rounds }) {\r\n  const [activeTabIndex, setActiveTabIndex] = useState(0);\r\n\r\n  const toggleActiveTabIndex = tabIndex => {\r\n    if (activeTabIndex !== tabIndex) setActiveTabIndex(tabIndex);\r\n  };\r\n\r\n  return (\r\n    <div className=\"d-flex flex-column flex-fill\">\r\n      <Nav tabs>\r\n        {rounds.map(({\r\n          TournamentRoundType: { definition: roundName }\r\n        }, index) => (\r\n          <NavItem\r\n            key={`${roundName}-tab-nav`}\r\n            className=\"same-flex-width cursor-pointer\"\r\n          >\r\n            <NavLink\r\n              onClick={() => toggleActiveTabIndex(index)}\r\n              className={`py-1 rounded-0 text-capitalize ${activeTabIndex === index ? 'bg-darker-50' : ''}`}\r\n            >\r\n              {roundName}\r\n            </NavLink>\r\n          </NavItem>\r\n        ))}\r\n      </Nav>\r\n\r\n      <TabContent\r\n        activeTab={activeTabIndex}\r\n        className=\"flex-fill\"\r\n      >\r\n        {rounds.map((roundData, roundIndex) => {\r\n          const dataInfo = getBattleInfo(roundData);\r\n          return (\r\n            <TabPane\r\n              key={`tab-content-${roundIndex}`}\r\n              tabId={roundIndex}\r\n              className=\"h-100\"\r\n            >\r\n              <BattleInfoItems\r\n                battleData={dataInfo}\r\n                isHorizontal={true}\r\n                itemClassName=\"w-25\"\r\n              />\r\n            </TabPane>\r\n          );\r\n        })}\r\n      </TabContent>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useState } from 'react';\r\n\r\n// Components.\r\nimport {\r\n  TabContent, TabPane, Nav, NavItem, NavLink,\r\n} from 'reactstrap';\r\n\r\nimport ParticipantsList from './ParticipantsList';\r\n\r\nexport default function TournamentParticipantsTabs({\r\n  userId, isUserContestant, isUserJudge, contestants,\r\n  judges, maxContestantsCount, maxJudgesCount,\r\n}) {\r\n  const [activeTabIndex, setActiveTabIndex] = useState(0);\r\n\r\n  const toggleActiveIndex = tabIndex => {\r\n    if (activeTabIndex !== tabIndex) setActiveTabIndex(tabIndex);\r\n  };\r\n\r\n  return (\r\n    <div className=\"d-flex flex-column flex-fill\">\r\n      <Nav tabs>\r\n        <NavItem className=\"same-flex-width cursor-pointer\">\r\n          <NavLink\r\n            onClick={() => toggleActiveIndex(0)}\r\n            className={`py-0 rounded-0 text-capitalize ${activeTabIndex === 0 ? 'bg-darker-50' : ''}`}\r\n          >\r\n            Contestants\r\n          </NavLink>\r\n        </NavItem>\r\n        <NavItem className=\"same-flex-width cursor-pointer\">\r\n          <NavLink\r\n            onClick={() => toggleActiveIndex(1)}\r\n            className={`py-0 rounded-0 text-capitalize ${activeTabIndex === 1 ? 'bg-darker-50' : ''}`}\r\n          >\r\n            Judges\r\n          </NavLink>\r\n        </NavItem>\r\n      </Nav>\r\n\r\n      <TabContent\r\n        activeTab={activeTabIndex}\r\n        className=\"flex-fill\"\r\n      >\r\n        <TabPane tabId={0} className=\"h-100\">\r\n          <ParticipantsList\r\n            userId={userId}\r\n            isUserParticipant={isUserContestant}\r\n            participants={contestants}\r\n            maxParticipantsCount={maxContestantsCount}\r\n            participantsType=\"contestants\"\r\n          />\r\n        </TabPane>\r\n        <TabPane tabId={1} className=\"h-100\">\r\n          <ParticipantsList\r\n            userId={userId}\r\n            isUserParticipant={isUserJudge}\r\n            participants={judges}\r\n            maxParticipantsCount={maxJudgesCount}\r\n            participantsType=\"judges\"\r\n          />\r\n        </TabPane>\r\n      </TabContent>\r\n    </div>\r\n  );\r\n}\r\n","import React from 'react';\r\n\r\n// Components.\r\nimport { RoundTabs, TournamentParticipantsTabs } from './subcomponents';\r\n\r\nexport default function TournamentStaging({\r\n  contestants, judges, userId, isUserJudge, isUserContestant,\r\n  status, contestantCount, judgeCount, tournamentRounds,\r\n}) {\r\n\r\n  return (\r\n    <div className=\"d-flex bg-darkest px-2 pt-2 vh-30\">\r\n      <div className=\"d-flex flex-column w-50\">\r\n        <TournamentParticipantsTabs\r\n          userId={userId}\r\n          isUserContestant={isUserContestant}\r\n          isUserJudge={isUserJudge}\r\n          contestants={contestants}\r\n          judges={judges}\r\n          maxContestantsCount={contestantCount}\r\n          maxJudgesCount={judgeCount}\r\n        />\r\n      </div>\r\n\r\n      <div className=\"d-flex flex-column w-100 px-2\">\r\n        <div>\r\n          <h3 className=\"mb-1 text-capitalize\">\r\n            {status}\r\n          </h3>\r\n          {status === 'staging' && (\r\n            <p className=\"mb-1\">\r\n              {`Starts when ${contestantCount} contestants have registered`}\r\n            </p>\r\n          )}\r\n        </div>\r\n        <RoundTabs rounds={tournamentRounds} />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React from 'react';\r\n\r\n// Bootstrap components.\r\nimport { Container, Row, Col, Button } from 'reactstrap';\r\nimport { DynamicHeader } from '../../components';\r\n\r\n// Custom components.\r\n\r\nexport default function Landing({ handleLogin }) {\r\n  return (\r\n    <div>\r\n      <DynamicHeader\r\n        titleText=\"Welcome\"\r\n        isContentCollapsible={false}\r\n        navbarProps={{ fixed: 'top' }}\r\n      >\r\n        <Button color=\"link\" onClick={handleLogin} >\r\n          Log In / Sign Up\r\n        </Button>\r\n      </DynamicHeader>\r\n\r\n      <Container fluid className=\"py-5 my-3 content-container\" >\r\n        <h1 style={{ letterSpacing: '0.35rem' }}>Welcome to Spitface Battles</h1>\r\n\r\n        <Row>\r\n          <Col size=\"6\">\r\n            <p className=\"p-2 text-justify text-xl\">\r\n              A brand new platform for the underground hip-hop community. Users can challenge other users to rap battles and have their verses liked, dissed, and even scored by their peers.\r\n            </p>\r\n          </Col>\r\n          <Col size=\"6\">\r\n            <p className=\"p-2 text-justify text-xl\">\r\n              Spitface Battles aims to connect people with features that support the structure, flow, and rules of a rap battle while encouraging engagement through a handful of tools built specifically for this niche community.\r\n            </p>\r\n          </Col>\r\n        </Row>\r\n\r\n        <Button\r\n          outline\r\n          block\r\n          onClick={handleLogin}\r\n          style={{ height: '25vh', fontSize: 'xx-large', letterSpacing: '0.35rem' }}\r\n          className=\"btn-outline-primary rounded-0\"\r\n        >\r\n          Get Started\r\n        </Button>\r\n        <p>* site under construction</p>\r\n      </Container>\r\n    </div>\r\n  );\r\n}\r\n","import React, { Component } from 'react';\r\nimport socketIOClient from 'socket.io-client';\r\n\r\n// Bootstrap components.\r\nimport { Container } from 'reactstrap';\r\n\r\n// Custom components.\r\nimport { PageContext } from '../../utils/context/pageContext';\r\nimport { UserConsumer } from '../../utils/context/userContext';\r\nimport {\r\n  CustomToast, MainSidebar, CollapseSideMenu,\r\n  AlertModal, AuthRouter\r\n} from '../../components';\r\n\r\n// API utilities, helper functions, and other assets.\r\nimport { API_UTILS, CONSTANTS, HELPERS } from '../../utils';\r\nimport './style.css';\r\n\r\nconst { NOTIFICATION_UTILS, PROFILE_UTILS, USER_UTILS } = API_UTILS;\r\nconst { SERVER_URL } = CONSTANTS;\r\nconst { HANDLE_ASYNC_ERROR } = HELPERS;\r\n\r\nexport default class MasterPage extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      toasts: [],\r\n      isJoinedSocketRooms: false,\r\n      ioSocket: null,\r\n      alert: {\r\n        isShown: false,\r\n        message: '',\r\n        isConfirmModal: true,\r\n        confirmButtonProps: undefined,\r\n        confirmCallback: undefined,\r\n      }\r\n    };\r\n\r\n    // Bind class methods.\r\n    this.goTo = this.goTo.bind(this);\r\n    this.updateUser = this.updateUser.bind(this);\r\n    this.getAxiosOptions = this.getAxiosOptions.bind(this);\r\n    this.handleSetNotificationsAsSeen = this.handleSetNotificationsAsSeen.bind(this);\r\n    this.handleShowToast = this.handleShowToast.bind(this);\r\n    this.handleRemoveToast = this.handleRemoveToast.bind(this);\r\n    this.handleLogout = this.handleLogout.bind(this);\r\n    this.handleOpenAlert = this.handleOpenAlert.bind(this);\r\n    this.handleCloseAlert = this.handleCloseAlert.bind(this);\r\n  }\r\n\r\n  goTo(route) {\r\n    let endpoint = route.includes('home') ? '' : route;\r\n    if (endpoint[0] === '/') endpoint = endpoint.substr(1);\r\n    endpoint = typeof endpoint === 'string' ? `/${endpoint}` : '/';\r\n    const { history } = this.props;\r\n    const { state: locationState } = history.location;\r\n    if (locationState && locationState.lastPathname === endpoint) {\r\n      history.replace(endpoint, { lastPathname: endpoint });\r\n    } else {\r\n      history.push(endpoint, { lastPathname: endpoint });\r\n    }\r\n  }\r\n\r\n  updateUser() {\r\n    const { isJoinedSocketRooms } = this.state;\r\n    const { auth } = this.props;\r\n\r\n    // Gets and sets the user in state.\r\n    auth.getProfile((error, profile) => {\r\n      if (error) throw error;\r\n      const { sub, nickname: socialNickname } = profile;\r\n      const splitSub = sub.split('|');\r\n      const user_id = splitSub[1];\r\n      const authMethod = splitSub[0];\r\n      const user = { user_id, socialNickname };\r\n      const axiosOptions = this.getAxiosOptions();\r\n      PROFILE_UTILS.getUserProfile(user.user_id, axiosOptions)\r\n        .then(result => {\r\n          user.profile = result.data;\r\n          user.nickname = user.profile.User.nickname;\r\n          user.authMethod = authMethod;\r\n          user.subscriptions = user.profile.User.Subscriptions;\r\n\r\n          const { subscriptions, user_id: userId, nickname } = user;\r\n\r\n          NOTIFICATION_UTILS.getAllUser(userId, axiosOptions)\r\n            .then(notificationsResult => {\r\n              const { data: notifications } = notificationsResult;\r\n              const { setUser, addNotifications } = this.context.userContext;\r\n              setUser(user);\r\n              addNotifications(notifications);\r\n            });\r\n\r\n          if (!isJoinedSocketRooms) {\r\n            const ioSocket = socketIOClient(`ws://${SERVER_URL.split('://')[1]}`);\r\n\r\n            ioSocket.on('connect', () => {\r\n              const roomParams = {\r\n                userId,\r\n                nickname,\r\n                isBattleAudience: false,\r\n              };\r\n\r\n              ioSocket.emit('joinRoom', `user-${userId}-updates`, roomParams);\r\n\r\n              subscriptions.forEach(subscription => {\r\n                const { room_name: roomName, user_id: userId } = subscription;\r\n\r\n                const roomParams = {\r\n                  userId,\r\n                  nickname,\r\n                  isBattleAudience: roomName.includes('notifications'),\r\n                };\r\n\r\n                ioSocket.emit('joinRoom', roomName, roomParams);\r\n              });\r\n\r\n              const { masterData, setMasterData } = this.context;\r\n              setMasterData({\r\n                ...masterData,\r\n                ioSocket,\r\n              });\r\n\r\n              this.setState(() => ({\r\n                ioSocket,\r\n                isJoinedSocketRooms: true,\r\n              }));\r\n            });\r\n\r\n            ioSocket.on('notification', notification => {\r\n              const { user } = this.context.userContext;\r\n              const { nickname: userNickname } = user;\r\n              const { fromUsername, isPublic } = notification;\r\n              if (isPublic || fromUsername !== userNickname) {\r\n                this.updateUser();\r\n                this.handleShowToast(notification);\r\n              }\r\n            });\r\n          }\r\n        })\r\n        .catch(HANDLE_ASYNC_ERROR);\r\n    });\r\n  }\r\n\r\n  getAxiosOptions() {\r\n    return {\r\n      headers: {\r\n        Authorization: `Bearer ${this.props.auth.getAccessToken()}`\r\n      },\r\n    };\r\n  }\r\n\r\n  toggleSidebarMenu() {\r\n    document.getElementById('content').classList.toggle('active');\r\n    document.getElementById('sidebarMenuCollapse').classList.toggle('show');\r\n  }\r\n\r\n  handleSetNotificationsAsSeen(event) {\r\n    const { target: notificationButton } = event;\r\n    const notificationType = notificationButton.getAttribute('data-notification-type');\r\n    const { user } = this.context.userContext;\r\n    const { user_id: userId } = user;\r\n    const axiosOptions = this.getAxiosOptions();\r\n\r\n    NOTIFICATION_UTILS.setAllSeen(userId, notificationType, axiosOptions)\r\n      .then(this.updateUser)\r\n      .catch(HANDLE_ASYNC_ERROR);\r\n  }\r\n\r\n  handleShowToast(notification) {\r\n    const { toasts } = this.state;\r\n    this.setState(() => ({ toasts: [notification].concat(toasts) }));\r\n  }\r\n\r\n  handleRemoveToast(toastIndex) {\r\n    const { toasts } = this.state;\r\n    toasts.splice(toastIndex, 1);\r\n    this.setState(() => ({ toasts }));\r\n  }\r\n\r\n  handleLogout() {\r\n    const { user, setUser, clearNotifications } = this.context.userContext;\r\n    const { auth, history } = this.props;\r\n    const axiosOptions = this.getAxiosOptions();\r\n    auth.logout(() => {\r\n      USER_UTILS.update({\r\n        user_id: user.user_id,\r\n        is_online: false,\r\n      }, axiosOptions)\r\n        .then(() => {\r\n          setUser({});\r\n          clearNotifications();\r\n          history.replace('/welcome');\r\n        })\r\n        .catch(HANDLE_ASYNC_ERROR);\r\n    });\r\n  }\r\n\r\n  handleOpenAlert(message, isConfirmModal, confirmButtonProps, confirmCallback) {\r\n    this.setState(() => ({\r\n      alert: {\r\n        message,\r\n        isShown: true,\r\n        isConfirmModal: isConfirmModal || false,\r\n        confirmButtonProps: confirmButtonProps,\r\n        confirmCallback: confirmCallback || this.handleCloseAlert,\r\n      }\r\n    }));\r\n  }\r\n\r\n  handleCloseAlert() {\r\n    this.setState(() => ({\r\n      alert: {\r\n        isShown: false,\r\n        isConfirmModal: false,\r\n        message: '',\r\n        confirmButtonProps: undefined,\r\n        confirmCallback: this.handleCloseAlert,\r\n      }\r\n    }));\r\n  }\r\n\r\n  componentDidMount() {\r\n    const {\r\n      setMasterData,\r\n      userContext: { setMethodData: setUserMethodData }\r\n    } = this.context;\r\n\r\n    setUserMethodData({\r\n      updateUser: this.updateUser.bind(this),\r\n    });\r\n\r\n    setMasterData({\r\n      goTo: this.goTo.bind(this),\r\n      getAxiosOptions: this.getAxiosOptions.bind(this),\r\n      handleOpenAlert: this.handleOpenAlert.bind(this),\r\n      handleCloseAlert: this.handleCloseAlert.bind(this),\r\n      handleAsyncError: HANDLE_ASYNC_ERROR,\r\n    });\r\n\r\n    this.updateUser();\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      toasts,\r\n      alert: {\r\n        isShown, message, isConfirmModal, confirmButtonProps, confirmCallback\r\n      },\r\n    } = this.state;\r\n    const { history } = this.props;\r\n\r\n    return (\r\n      <UserConsumer>\r\n        {({ user: { user_id: userId, nickname } }) => {\r\n          if (!userId) return null;\r\n          return (\r\n            <Container fluid className=\"d-flex flex-column flex-md-row p-0\">\r\n              {isShown && (\r\n                <AlertModal\r\n                  message={message}\r\n                  isConfirmModal={isConfirmModal}\r\n                  confirmButtonProps={confirmButtonProps}\r\n                  handleConfirmOnClick={confirmCallback}\r\n                  handleCloseOnClick={this.handleCloseAlert}\r\n                />\r\n              )}\r\n\r\n              {toasts.length > 0 && (\r\n                <div className=\"fixed-top d-flex flex-column toast-container\">\r\n                  {toasts.map((notification, index) => (\r\n                    <CustomToast\r\n                      key={index}\r\n                      editIndex={index}\r\n                      notification={notification}\r\n                      goTo={this.goTo}\r\n                      handleRemoveToast={this.handleRemoveToast}\r\n                    />\r\n                  ))}\r\n                </div>\r\n              )}\r\n\r\n              <MainSidebar\r\n                goTo={this.goTo}\r\n                toggleMenu={this.toggleSidebarMenu}\r\n                handleLogout={this.handleLogout}\r\n              />\r\n              <CollapseSideMenu\r\n                handleSetNotificationsAsSeen={this.handleSetNotificationsAsSeen}\r\n              />\r\n\r\n              <Container fluid id=\"content\" className=\"flex-fill pr-0 page-content\">\r\n                <AuthRouter\r\n                  key={nickname}\r\n                  history={history}\r\n                  isNicknameSet={nickname ? true : false}\r\n                  handleLogout={this.handleLogout}\r\n                  {...this.props}\r\n                />\r\n              </Container>\r\n            </Container>\r\n          );\r\n        }}\r\n      </UserConsumer>\r\n    );\r\n  }\r\n}\r\n\r\nMasterPage.contextType = PageContext;\r\n","import React, { Component } from 'react';\r\n\r\n// Bootstrap components.\r\nimport { Container } from 'reactstrap';\r\nimport { DynamicHeader } from '../../components';\r\n\r\nexport default class Home extends Component {\r\n  render() {\r\n    return (\r\n      <div>\r\n        <DynamicHeader titleText=\"Battle Feed\" isContentCollapsible={false} ></DynamicHeader>\r\n\r\n        <Container fluid className=\"py-5 content-container\">\r\n          <h1>Dashboard</h1>\r\n          <h2>Coming Soon</h2>\r\n          <p>This page will resemble popular social media feeds. It will be designed to keep the users engaged inbetween battles. Users will see their own battles, their friends&rsquo; and rivals&rsquo; battles, popular battles, and user promoted battles in their Battle Feed. More work needs to be discover additional features specific for rap battling, but rest assured we are committed to delivering you the most unique battling experience on the internet.</p>\r\n        </Container>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from 'react';\r\nimport axios from 'axios';\r\n\r\n// Components.\r\nimport { Container } from 'reactstrap';\r\nimport { PageContext } from '../../utils/context/pageContext';\r\nimport { CreateBattleForm, DynamicHeader } from '../../components';\r\n\r\n// Styles, utils, and other helpers.\r\nimport { API_UTILS, CONSTANTS } from '../../utils';\r\n\r\nconst {\r\n  BATTLE_UTILS, BATTLE_ROLE_UTILS, BATTLE_OPTION_UTILS,\r\n  SUBSCRIPTION_UTILS,\r\n} = API_UTILS;\r\n\r\nconst { CREATE_BATTLE_REQUIRED_FIELDS } = CONSTANTS;\r\n\r\nexport default class CreateBattle extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      options: null,\r\n      isAdvancedOptionsOpen: false,\r\n      challengerUserId: null,\r\n    };\r\n\r\n    // Bind class methods.\r\n    this.setChallengerUserId = this.setChallengerUserId.bind(this);\r\n    this.handleCreateBattle = this.handleCreateBattle.bind(this);\r\n    this.toggleAdvancedOptionsIsOpen = this.toggleAdvancedOptionsIsOpen.bind(this);\r\n  }\r\n\r\n  setChallengerUserId(challengerUserId) {\r\n    this.setState(() => ({ challengerUserId }));\r\n  }\r\n\r\n  handleCreateBattle(event) {\r\n    event.preventDefault();\r\n\r\n    const { options } = this.state;\r\n    const formFields = Object.keys(options);\r\n    const partialBattle = {};\r\n\r\n    for (let i = 0; i < formFields.length; i++) {\r\n      const fieldName = formFields[i];\r\n\r\n      if (fieldName !== 'status') {\r\n        const { value: fieldValue } = event.target[fieldName];\r\n        if (CREATE_BATTLE_REQUIRED_FIELDS.includes(fieldName) && fieldValue === '0') return;\r\n        let propertyName = fieldName.slice(0, -1);\r\n        propertyName = propertyName.replace(/[A-Z]/g, letter => `_${letter.toLowerCase()}`);\r\n        propertyName += '_id';\r\n        partialBattle[propertyName] = fieldValue;\r\n      }\r\n    }\r\n\r\n    const {\r\n      masterData: { ioSocket, goTo, getAxiosOptions, handleAsyncError },\r\n      userContext: { user, methodData: { updateUser } },\r\n    } = this.context;\r\n\r\n    const { user_id: userId, nickname } = user;\r\n    const { id: statusId } = options.status;\r\n    const calloutUserId = document.getElementById('user-search').getAttribute('data-selected-user-id');\r\n\r\n    // Create a battle object to be stored in db.\r\n    const battle = {\r\n      creator_id: userId,\r\n      status_id: statusId,\r\n      called_out_user_id: calloutUserId,\r\n      ...partialBattle\r\n    };\r\n\r\n    const axiosOptions = getAxiosOptions();\r\n\r\n    // Use battle utils to create the new battle.\r\n    const requests = [\r\n      BATTLE_UTILS.createBattle(battle, axiosOptions),\r\n      BATTLE_ROLE_UTILS.getOne('contestant', axiosOptions),\r\n    ];\r\n    axios.all(requests, axiosOptions)\r\n      .then(([battleResult, { data: { id: roleId }}]) => {\r\n        const { data: updatedBattle } = battleResult;\r\n        const {\r\n          id: battleId,\r\n          called_out_user_id: calledOutUserId,\r\n        } = updatedBattle;\r\n\r\n        const subscriptions = [{\r\n          user_id: userId,\r\n          room_name: `battle-stage-${battleId}-notifications`,\r\n          content_id: battleId,\r\n        }];\r\n\r\n        if (calledOutUserId) {\r\n          const challengeRoomName = `battle-${battleId}-challenge`;\r\n          const challengeSubscription = {\r\n            room_name: challengeRoomName,\r\n            content_id: battleId,\r\n          };\r\n          subscriptions.push({\r\n            ...challengeSubscription,\r\n            user_id: userId,\r\n          });\r\n\r\n          subscriptions.push({\r\n            ...challengeSubscription,\r\n            user_id: calledOutUserId,\r\n          });\r\n        }\r\n\r\n        SUBSCRIPTION_UTILS.create(userId, subscriptions, axiosOptions)\r\n          .then(updateUser);\r\n\r\n        const params = [\r\n          battleId,\r\n          {\r\n            userId,\r\n            roleId,\r\n            participantNumber: 1,\r\n            isReady: false\r\n          },\r\n        ];\r\n        return BATTLE_UTILS.joinBattle(params, axiosOptions);\r\n      })\r\n      .then(({ data: newBattleData }) => {\r\n        const { battle_id: battleId } = newBattleData;\r\n\r\n        const notificationsRoomParams = {\r\n          userId,\r\n          nickname,\r\n          isBattleAudience: false,\r\n        };\r\n\r\n        ioSocket.emit('joinRoom', `battle-stage-${battleId}-notifications`, notificationsRoomParams);\r\n\r\n        setTimeout(() => goTo(`battles/${battleId}`), 250);\r\n      })\r\n      .catch(handleAsyncError);\r\n  }\r\n\r\n  toggleAdvancedOptionsIsOpen() {\r\n    this.setState(({ isAdvancedOptionsOpen }) => (\r\n      { isAdvancedOptionsOpen: !isAdvancedOptionsOpen }\r\n    ));\r\n  }\r\n\r\n  componentDidMount() {\r\n    const { getAxiosOptions, handleAsyncError } = this.context.masterData;\r\n    const axiosOptions = getAxiosOptions();\r\n    BATTLE_OPTION_UTILS.getAll(axiosOptions)\r\n      .then(({ data: options }) => this.setState({ options }))\r\n      .catch(handleAsyncError);\r\n  }\r\n\r\n  render() {\r\n    const { options, isAdvancedOptionsOpen } = this.state;\r\n    const {\r\n      userContext: { user: { user_id: userId } },\r\n    } = this.context;\r\n\r\n    if (!options) return null;\r\n\r\n    return (\r\n      <div>\r\n        <DynamicHeader titleText=\"Create Battle\" isContentCollapsible={false}>\r\n        </DynamicHeader>\r\n\r\n        <Container fluid className=\"py-5 content-container\">\r\n          <h2>Set it Up!</h2>\r\n          <CreateBattleForm\r\n            userId={userId}\r\n            options={options}\r\n            isAdvancedOptionsOpen={isAdvancedOptionsOpen}\r\n            setChallengerUserId={this.setChallengerUserId}\r\n            handleCreateBattle={this.handleCreateBattle}\r\n            toggleAdvancedOptionsIsOpen={this.toggleAdvancedOptionsIsOpen}\r\n          />\r\n        </Container>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nCreateBattle.contextType = PageContext;\r\n","import React, { Component } from 'react';\r\n\r\n// Components.\r\nimport { Container } from 'reactstrap';\r\nimport { DynamicHeader } from '../../components';\r\n\r\n// API utilities, helper functions, and other assets.\r\n\r\nexport default class Community extends Component {\r\n  render() {\r\n    return (\r\n      <div>\r\n        <DynamicHeader titleText=\"Community\" isContentCollapsible={false} ></DynamicHeader>\r\n\r\n        <Container fluid className=\"py-5 content-container\">\r\n          <h2 className=\"mx-sm-5 px-sm-5 text-justify\" style={{ fontSize: 'large', letterSpacing: '0.1em' }}>\r\n            View friends, foes, messages, shout-outs, and find other rappers to follow.\r\n          </h2>\r\n          <div className=\"d-flex flex-column flex-md-row mt-3\">\r\n            <div>\r\n              <h3>Activity</h3>\r\n              <ul className=\"text-left\">\r\n                <li>Show activity status</li>\r\n                <li>Show activity source</li>\r\n                <li>Hover for options</li>\r\n                <li>Click to go to the activity source</li>\r\n              </ul>\r\n            </div>\r\n            <div className=\"flex-grow-1 d-flex flex-column px-3 h-100 border-left border-right border-secondary\">\r\n              <div>\r\n                <h3>Conversations</h3>\r\n                <div className=\"d-flex justify-content-between\">\r\n                  <ul className=\"text-left\">\r\n                    <li>Show message status</li>\r\n                    <li>Show message source</li>\r\n                    <li>Show message brief</li>\r\n                  </ul>\r\n                  <ul className=\"text-left\">\r\n                    <li>Show date and time info</li>\r\n                    <li>Hover for options</li>\r\n                    <li>Click to go to the full conversation</li>\r\n                  </ul>\r\n                </div>\r\n              </div>\r\n              <div className=\"flex-grow-1 mt-3\">\r\n                <h3>Popular Rappers</h3>\r\n                <ul className=\"text-left\">\r\n                  <li>Search bar</li>\r\n                  <li>Sort and filter</li>\r\n                  <li>Show username</li>\r\n                  <li>Button to follow other user</li>\r\n                  <li>Hover for options</li>\r\n                </ul>\r\n              </div>\r\n            </div>\r\n            <div>\r\n              <h3>Friends & Foes</h3>\r\n              <ul className=\"text-left\">\r\n                <li>Show active status</li>\r\n                <li>Show username</li>\r\n                <li>Hover for options</li>\r\n                <li>Click to message another user</li>\r\n              </ul>\r\n            </div>\r\n          </div>\r\n        </Container>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from 'react';\r\n\r\n// Bootstrap components.\r\nimport {\r\n  Container, Row, Col, ListGroup, ListGroupItem\r\n} from 'reactstrap';\r\n\r\n// Custom Components.\r\nimport { PageConsumer, PageContext } from '../../utils/context/pageContext';\r\nimport {\r\n  DynamicHeader, ProfileTopContent, ProfileBottomContent, ProfilePhoto,\r\n  SocialLinks, ProfileInfoItems, ProfileBattleStats\r\n} from '../../components';\r\n\r\n// API utilities, helper functions, and other assets.\r\nimport { API_UTILS, CONSTANTS, HELPERS } from '../../utils';\r\nimport { PROFILE_METHOD_NAMES } from '../../utils/constants/classMethodNames';\r\nimport './style.css';\r\n\r\nconst { PROFILE_UTILS, RELATIONSHIP_UTILS } = API_UTILS;\r\nconst { MAIN_HELPER } = HELPERS;\r\nconst {\r\n  DEFAULT_PROFILE_PHOTO_URL, MESSAGE_INVALID_IMAGE_TYPE,\r\n} = CONSTANTS;\r\nconst { PAGE_NAMES } = PROFILE_METHOD_NAMES;\r\n\r\nexport default class Profile extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.profileUserId = this.props.match.params.id;\r\n\r\n    // Bind class methods.\r\n    for (let i = 0; i < PAGE_NAMES.length; i++) {\r\n      const methodName = PAGE_NAMES[i];\r\n      this[methodName] = this[methodName].bind(this);\r\n    }\r\n  }\r\n\r\n  updateProfileState() {\r\n    const {\r\n      pageData,\r\n      setPageData,\r\n      masterData: { getAxiosOptions, handleAsyncError },\r\n      userContext: {\r\n        methodData: { updateUser },\r\n        user: { user_id: userId },\r\n      },\r\n    } = this.context;\r\n\r\n    const axiosOptions = getAxiosOptions();\r\n\r\n    const apiPromises = [\r\n      PROFILE_UTILS.getUserProfile(this.profileUserId, axiosOptions)\r\n    ];\r\n\r\n    const isUserProfileOwner = userId === this.profileUserId;\r\n    if (!isUserProfileOwner) {\r\n      apiPromises.push(\r\n        RELATIONSHIP_UTILS.getOneType(userId, this.profileUserId, 'friend', axiosOptions)\r\n      );\r\n    }\r\n\r\n    Promise.all(apiPromises)\r\n      .then(([{ data: profileData }, relationshipResult]) => {\r\n        let relationshipData = {\r\n          isUserFriend: false,\r\n          isPendingFriendRequest: false,\r\n          isUserFriendRequestor: false,\r\n        };\r\n        if (!isUserProfileOwner && relationshipResult.data) {\r\n          const {\r\n            Status: status, Type: relationshipType, user_one_id: friendRequestorId\r\n          } = relationshipResult.data;\r\n          const { definition: relationshipStatus } = status;\r\n\r\n          if (relationshipType.definition === 'friend') {\r\n            relationshipData = {\r\n              isUserFriend: relationshipStatus === 'accepted',\r\n              isPendingFriendRequest: relationshipStatus === 'pending',\r\n              isUserFriendRequestor: friendRequestorId === userId,\r\n            };\r\n          }\r\n        }\r\n\r\n        setPageData({\r\n          ...pageData,\r\n          profile: profileData,\r\n          relationshipData,\r\n        });\r\n        updateUser();\r\n      })\r\n      .catch(handleAsyncError);\r\n  }\r\n\r\n  handleUpdateInfo(info) {\r\n    const {\r\n      masterData: { getAxiosOptions, handleAsyncError },\r\n      userContext: { user: { user_id: userId } },\r\n    } = this.context;\r\n    const updatedProfile = { user_id: userId, ...info };\r\n\r\n    PROFILE_UTILS.updateUserProfile(userId, updatedProfile, getAxiosOptions())\r\n      .then(this.updateProfileState)\r\n      .catch(handleAsyncError);\r\n  }\r\n\r\n  handleUpdateSocialSites(newSites, updatedSites) {\r\n    const {\r\n      masterData: { getAxiosOptions, handleAsyncError },\r\n      userContext: { user: { profile: { id: profileId } } },\r\n    } = this.context;\r\n    const axiosOptions = getAxiosOptions();\r\n\r\n    const socialSitePromises = [];\r\n    if (newSites.length > 0) {\r\n      socialSitePromises.push(\r\n        PROFILE_UTILS.createProfileSocialSites(profileId, newSites, axiosOptions)\r\n      );\r\n    }\r\n\r\n    if (updatedSites.length > 0) {\r\n      socialSitePromises.push(\r\n        PROFILE_UTILS.updateProfileSocialSites(profileId, updatedSites, axiosOptions)\r\n      );\r\n    }\r\n\r\n    if (socialSitePromises.length > 0) {\r\n      Promise.all(socialSitePromises)\r\n        .then(this.updateProfileState)\r\n        .catch(handleAsyncError);\r\n    }\r\n  }\r\n\r\n  handleRemoveSocialSite(removedSiteId) {\r\n    const {\r\n      masterData: { getAxiosOptions, handleAsyncError },\r\n      userContext: { user: { profile: { id: profileId } } },\r\n    } = this.context;\r\n    const axiosOptions = getAxiosOptions();\r\n    axiosOptions.data = { profileSiteIds: [removedSiteId] };\r\n\r\n    PROFILE_UTILS.deleteProfileSocialSites(profileId, axiosOptions)\r\n      .then(this.updateProfileState)\r\n      .catch(handleAsyncError);\r\n  }\r\n\r\n  handleUploadPhoto(photoFile) {\r\n    if (!photoFile) return;\r\n\r\n    const {\r\n      masterData: { getAxiosOptions, handleAsyncError, handleOpenAlert },\r\n      userContext: {\r\n        methodData: { updateUser },\r\n        user: { profile: { id: profileId } },\r\n      },\r\n    } = this.context;\r\n\r\n    // Alert the user for an invalid image type.\r\n    if (!MAIN_HELPER.isImageValid(photoFile)) {\r\n      return handleOpenAlert(MESSAGE_INVALID_IMAGE_TYPE, false);\r\n    }\r\n\r\n    const { name: fullFileName } = photoFile;\r\n    const fileData = MAIN_HELPER.getPhotoFileData(profileId, fullFileName);\r\n    const { fileType } = fileData;\r\n    const uploadOptions = { headers: { 'Content-Type': fileType } };\r\n\r\n    PROFILE_UTILS.getSignedRequest(profileId, fileData, getAxiosOptions())\r\n      .then(({ data: { signedRequest } }) => (\r\n        PROFILE_UTILS.uploadProfilePhoto(signedRequest, photoFile, uploadOptions)\r\n      ))\r\n      .then(() => setTimeout(() => {\r\n        this.updateProfileState();\r\n        updateUser();\r\n      }, 250))\r\n      .catch(handleAsyncError);\r\n  }\r\n\r\n  handleRemovePhoto() {\r\n    const {\r\n      masterData: { getAxiosOptions, handleAsyncError },\r\n      userContext: {\r\n        methodData: { updateUser },\r\n        user: { profile: { id: profileId, photo: profilePhoto } },\r\n      }\r\n    } = this.context;\r\n\r\n    if (!profilePhoto) return;\r\n\r\n    const fileNameParts = profilePhoto.split('/');\r\n    const fileName = fileNameParts[fileNameParts.length - 1];\r\n\r\n    PROFILE_UTILS.removeProfilePhoto(profileId, fileName, getAxiosOptions())\r\n      .then(() => setTimeout(() => {\r\n        this.updateProfileState();\r\n        updateUser();\r\n      }, 250))\r\n      .catch(handleAsyncError);\r\n  }\r\n\r\n  handleRelationshipButtonOnClick() {\r\n    const {\r\n      userContext: { user: { user_id: userId } },\r\n      masterData: { getAxiosOptions, handleAsyncError },\r\n      pageData: {\r\n        profile: { user_id: profileUserId },\r\n        relationshipData: {\r\n          isUserFriend, isPendingFriendRequest, isUserFriendRequestor\r\n        },\r\n      },\r\n    } = this.context;\r\n\r\n    let apiMethod = (isUserFriend || isPendingFriendRequest) ? 'delete' : 'create';\r\n\r\n    if (isPendingFriendRequest && !isUserFriendRequestor) {\r\n      apiMethod = 'update';\r\n    }\r\n\r\n    const params = [userId];\r\n    if (apiMethod === 'create') {\r\n      params.push('friend', {\r\n        user_one_id: userId,\r\n        user_two_id: profileUserId,\r\n      });\r\n    } else {\r\n      params.push(profileUserId);\r\n    }\r\n\r\n    RELATIONSHIP_UTILS[apiMethod](params, getAxiosOptions())\r\n      .then(this.updateProfileState)\r\n      .catch(handleAsyncError);\r\n  }\r\n\r\n  componentDidMount() {\r\n    const {\r\n      setPageData,\r\n      masterData: { getAxiosOptions, handleAsyncError },\r\n      userContext: { user: { profile, user_id: userId } },\r\n    } = this.context;\r\n\r\n    PROFILE_UTILS.getApprovedSocialSites(getAxiosOptions())\r\n      .then(({ data: approvedSocialSites }) => {\r\n        setPageData({\r\n          approvedSocialSites,\r\n          updateProfileState: this.updateProfileState.bind(this),\r\n        });\r\n\r\n        if (userId === this.profileUserId) {\r\n          return setPageData({\r\n            ...this.context.pageData,\r\n            profile,\r\n            relationshipData: {\r\n              isUserFriend: false,\r\n              isPendingFriendRequest: false,\r\n              isUserFriendRequestor: false,\r\n            },\r\n          });\r\n        }\r\n\r\n        this.updateProfileState();\r\n      })\r\n      .catch(handleAsyncError);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this.context.setPageData(null);\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <PageConsumer>\r\n        {({\r\n          masterData: { getAxiosOptions, handleAsyncError },\r\n          pageData: { profile, relationshipData },\r\n          userContext: { user: { user_id: userId } }\r\n        }) => {\r\n          if (!profile) return null;\r\n          const isUserProfileOwner = userId === this.profileUserId;\r\n          const {\r\n            id: profileId, photo: profilePhoto,\r\n            ProfileSocialSites: profileSocialSites,\r\n            User: {\r\n              user_id: profileUserId, nickname: profileUserNickname\r\n            },\r\n          } = profile;\r\n\r\n          return (\r\n            <div key={profileUserId}>\r\n              <DynamicHeader\r\n                titleText={profileUserNickname}\r\n                isContentCollapsible={false}\r\n              />\r\n\r\n              <Container fluid className=\"pb-5 pb-sm-0 content-container\">\r\n                <Row className=\"px-3 px-sm-1 px-md-0\">\r\n                  <Col\r\n                    xs=\"12\" md=\"3\"\r\n                    className=\"order-md-1 d-flex flex-column flex-sm-row flex-md-column px-0 px-sm-3 px-md-0 border-left border-darker\"\r\n                  >\r\n                    <div className=\"d-flex flex-sm-column order-sm-1 order-md-0 bg-darkest-75 profile-side-top\">\r\n                      <ProfilePhoto\r\n                        isUserProfileOwner={isUserProfileOwner}\r\n                        profilePhoto={profilePhoto || DEFAULT_PROFILE_PHOTO_URL}\r\n                        handleUploadPhoto={this.handleUploadPhoto}\r\n                        handleRemovePhoto={this.handleRemovePhoto}\r\n                      />\r\n\r\n                      {(isUserProfileOwner || profileSocialSites.length > 0) && (\r\n                        <SocialLinks\r\n                          isUserProfileOwner={isUserProfileOwner}\r\n                          profileId={profileId}\r\n                          handleUpdateSocialSites={this.handleUpdateSocialSites}\r\n                          handleRemoveSocialSite={this.handleRemoveSocialSite}\r\n                        />\r\n                      )}\r\n                    </div>\r\n\r\n                    <ListGroup flush className=\"flex-grow-1 profile-info-list bg-darkest-75\">\r\n                      <ListGroupItem className=\"p-0 rounded-0 bg-darkest-75 rounded-0\">\r\n                        <ProfileInfoItems\r\n                          isUserProfileOwner={isUserProfileOwner}\r\n                          profile={profile}\r\n                          handleUpdateInfo={this.handleUpdateInfo}\r\n                        />\r\n                      </ListGroupItem>\r\n\r\n                      <ListGroupItem className=\"flex-fill p-0 bg-darkest-75 rounded-0\">\r\n                        <ProfileBattleStats profile={profile} />\r\n                      </ListGroupItem>\r\n                    </ListGroup>\r\n                  </Col>\r\n                  <Col\r\n                    xs=\"12\" md=\"9\"\r\n                    className=\"d-flex flex-column px-0 px-sm-3 px-md-0 profile-content\"\r\n                  >\r\n                    <ProfileTopContent\r\n                      isUserProfileOwner={isUserProfileOwner}\r\n                      userId={userId}\r\n                      profileId={profileId}\r\n                      getAxiosOptions={getAxiosOptions}\r\n                      handleAsyncError={handleAsyncError}\r\n                    />\r\n                    <ProfileBottomContent\r\n                      isUserProfileOwner={isUserProfileOwner}\r\n                      profileUserId={profileUserId}\r\n                      relationshipData={relationshipData}\r\n                      getAxiosOptions={getAxiosOptions}\r\n                      handleAsyncError={handleAsyncError}\r\n                      handleRelationshipOnClick={this.handleRelationshipButtonOnClick}\r\n                    />\r\n                  </Col>\r\n                </Row>\r\n              </Container>\r\n            </div>\r\n          );\r\n        }}\r\n      </PageConsumer>\r\n    );\r\n  }\r\n}\r\n\r\nProfile.contextType = PageContext;\r\n","import React, { Component } from 'react';\r\n\r\n// Components.\r\nimport { Container } from 'reactstrap';\r\nimport { DynamicHeader } from '../../components';\r\n\r\n// API utilities, helper functions, and other assets.\r\n\r\nexport default class Help extends Component {\r\n  render() {\r\n    return (\r\n      <div>\r\n        <DynamicHeader titleText=\"Help Zone\" isContentCollapsible={false}>\r\n        </DynamicHeader>\r\n\r\n        <Container fluid className=\"py-5 content-container\">\r\n          <p className=\"mx-sm-5 text-justify\">\r\n            This is your go to for everything that a user will need to get started on the site, as well as future reference. common questions and answers for basic site usage. It also contains guides for participating in battles, scoring battles, and explains the various systems.\r\n          </p>\r\n          <div className=\"d-flex flex-column flex-sm-row justify-content-between\">\r\n            <div className=\"flex-grow-1 mx-sm-5\">\r\n              <h3 className=\"mb-0\">FAQ</h3>\r\n              <p>A list a the most common beginner questions and answers</p>\r\n              <ul className=\"text-left mx-auto\">\r\n                <li>List of questions</li>\r\n                <li>Click a question to expand and view its answer</li>\r\n              </ul>\r\n            </div>\r\n            <div className=\"mx-sm-5\">\r\n              <h3 className=\"mb-0\">Guides</h3>\r\n              <p>A list of guides that cover topics in detail</p>\r\n              <ul className=\"text-left mx-auto\">\r\n                <li>Code of Ethics</li>\r\n                <li>Site Etiquette</li>\r\n                <li>Contestant Guides</li>\r\n                <li>Judge Guides</li>\r\n                <li>Spectator Guide</li>\r\n                <li>Battle Reputation</li>\r\n                <li>Judge Reputation</li>\r\n                <li>Battle Scoring</li>\r\n              </ul>\r\n            </div>\r\n          </div>\r\n        </Container>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from 'react';\r\nimport axios from 'axios';\r\n\r\n// Components.\r\nimport { Container } from 'reactstrap';\r\nimport { PageContext } from '../../utils/context/pageContext';\r\nimport {\r\n  BattleInfoSection,\r\n  RoundCarousel,\r\n  BattleAudience,\r\n  BattleChallengeSection,\r\n} from '../../components';\r\n\r\n// API utilities, helper functions, and other assets.\r\nimport { BATTLE_STAGE_METHOD_NAMES } from '../../utils/constants/classMethodNames';\r\nimport { API_UTILS, HELPERS } from '../../utils';\r\n\r\nconst{\r\n  BATTLE_UTILS, BATTLE_RATING_UTILS, BATTLE_ROLE_UTILS,\r\n  VERSE_REACTION_UTILS, SCORE_CARD_UTILS, PARTICIPANT_UTILS,\r\n  SUBSCRIPTION_UTILS, AUDIENCE_UTILS,\r\n} = API_UTILS;\r\n\r\nconst { BATTLE_HELPER } = HELPERS;\r\nconst { PAGE_NAMES } = BATTLE_STAGE_METHOD_NAMES;\r\n\r\n/**\r\n * @description A page for primary interaction with a single battle. Users have controls for uploading, commenting, and reacting to a battle and more.\r\n * @class BattleStage\r\n * @extends {Component}\r\n */\r\nexport default class BattleStage extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      battle: null,\r\n      participants: null,\r\n      reactionTypes: null,\r\n      battleRoles: null,\r\n      resultCards: null,\r\n      commentsCount: 0,\r\n      followersCount: 0,\r\n    };\r\n\r\n    // Bind class methods.\r\n    for (let i = 0; i < PAGE_NAMES.length; i++) {\r\n      const methodName = PAGE_NAMES[i];\r\n      this[methodName] = this[methodName].bind(this);\r\n    }\r\n  }\r\n\r\n  updateBattle() {\r\n    const { battle } = this.state;\r\n    const { match } = this.props;\r\n    const battleId = battle ? battle.id : match.params.id;\r\n    const { getAxiosOptions, handleAsyncError } = this.context.masterData;\r\n    const axiosOptions = getAxiosOptions();\r\n\r\n    const requests = [\r\n      BATTLE_UTILS.getOneBattle(battleId, axiosOptions),\r\n      BATTLE_ROLE_UTILS.getAll(axiosOptions),\r\n      VERSE_REACTION_UTILS.getTypes(axiosOptions),\r\n      SCORE_CARD_UTILS.getStandardScorecardFields(axiosOptions),\r\n      BATTLE_UTILS.getBattleResults(battleId, axiosOptions),\r\n      AUDIENCE_UTILS.findAllBattle(battleId, axiosOptions),\r\n      BATTLE_UTILS.getBattleCommentsCount(battleId, axiosOptions),\r\n      AUDIENCE_UTILS.findAllBattleFollowersCount(battleId, axiosOptions),\r\n    ];\r\n    /**\r\n     * Make a request to the api server to get the battle,\r\n     * possible battle roles, and possible reaction types.\r\n     */\r\n    // TODO: Move this into a utility file.\r\n    axios.all(requests, axiosOptions)\r\n      .then(([\r\n        battleResult, battleRolesResult, reactionTypesResult,\r\n        standardScorecardFieldsResult, battleResultsResult,\r\n        audienceResult, commentsCountResult, followersCountResult,\r\n      ]) => {\r\n        const battle = battleResult.data;\r\n        const { data: audienceUsers } = audienceResult;\r\n        const { data: commentsCount } = commentsCountResult;\r\n        const { data: followersCount } = followersCountResult;\r\n\r\n        // TODO: Refactor this during overhaul.\r\n        const rounds = [];\r\n        battle.Rounds.forEach((round) => {\r\n          const index = (battle.Status.definition === 'staging') ? round.number : round.number - 1;\r\n          rounds[index] = round;\r\n        });\r\n\r\n        battle.Rounds = rounds;\r\n\r\n        // ? Should the following reduce methods be moved to a helper file?\r\n        const battleRoles = battleRolesResult.data.reduce((obj, battleRole) => {\r\n          obj[battleRole.definition] = battleRole;\r\n          return obj;\r\n        }, {});\r\n        const reactionTypes = reactionTypesResult.data.reduce((obj, reactionType) => {\r\n          obj[reactionType.definition] = reactionType;\r\n          return obj;\r\n        }, {});\r\n\r\n        const participants = BATTLE_HELPER.getAllParticipants(battle.UserBattles, battle.Rounds);\r\n\r\n        const standardScorecardFields = standardScorecardFieldsResult.data.map(field => field.definition);\r\n\r\n        const { data: resultCards } = battleResultsResult;\r\n\r\n        this.setState(() => ({\r\n          battle,\r\n          audienceUsers,\r\n          participants,\r\n          reactionTypes,\r\n          battleRoles,\r\n          standardScorecardFields,\r\n          resultCards,\r\n          commentsCount,\r\n          followersCount,\r\n        }));\r\n      }).catch(handleAsyncError);\r\n  }\r\n\r\n  handleJoinLeaveBattle(event) {\r\n    const { battle, participants, battleRoles } = this.state;\r\n    const participantButton = event.target;\r\n    const role = participantButton.getAttribute('data-role');\r\n    const seatNumber = participantButton.getAttribute('data-seat-number');\r\n    const roleId = battleRoles[role].id;\r\n    const roleParticipants = participants[`${role}s`];\r\n    const {\r\n      masterData: {\r\n        getAxiosOptions, handleAsyncError,\r\n        handleOpenAlert, handleCloseAlert\r\n      },\r\n      userContext: {\r\n        user: { user_id: userId },\r\n        methodData: { updateUser },\r\n      },\r\n    } = this.context;\r\n    const isUserParticipant = BATTLE_HELPER.isUserParticipant(roleParticipants, userId);\r\n    const joinLeaveMethod = isUserParticipant ? 'leaveBattle' : 'joinBattle';\r\n\r\n    if (joinLeaveMethod === 'joinBattle') {\r\n      let isRoleFull = true;\r\n      for (let i = 0; i < roleParticipants.length; i++) {\r\n        if (!roleParticipants[i].id) {\r\n          isRoleFull = false;\r\n          break;\r\n        }\r\n      }\r\n\r\n      if (isRoleFull) {\r\n        const message = `All of the ${role} seats are full. Consider joining another battle or joining this one as a ${role === 'contestant' ? 'judge' : 'contestant'}`;\r\n        return handleOpenAlert(message, false);\r\n      }\r\n    }\r\n\r\n    const participantNumber = seatNumber ? seatNumber : BATTLE_HELPER.getSeatNumber(roleParticipants);\r\n    const params = [battle.id];\r\n    const isReady = role === 'judge';\r\n    const participant = {\r\n      userId,\r\n      roleId,\r\n      participantNumber: parseInt(participantNumber, 10),\r\n      isReady\r\n    };\r\n    params.push(isUserParticipant ? userId : participant);\r\n\r\n    handleCloseAlert();\r\n\r\n    const axiosOptions = getAxiosOptions();\r\n    // Join or leave this battle role.\r\n    BATTLE_UTILS[joinLeaveMethod](params, axiosOptions)\r\n      .then(() => {\r\n        if (joinLeaveMethod === 'joinBattle') {\r\n          this.handleFollowBattle();\r\n        } else {\r\n          this.handleUnfollowBattle();\r\n        }\r\n\r\n        updateUser();\r\n        this.updateBattle();\r\n      })\r\n      .catch(handleAsyncError);\r\n  }\r\n\r\n  handleBattleRatingOnChange(ratingValue) {\r\n    const { battle } = this.state;\r\n    const {\r\n      masterData: { getAxiosOptions, handleAsyncError },\r\n      userContext: { user: { user_id: userId } },\r\n    } = this.context;\r\n\r\n    const userBattleRating = BATTLE_HELPER.getUserBattleRating(battle.BattleRatings, userId);\r\n    const apiMethod = userBattleRating ? 'update' : 'create';\r\n\r\n    const newRating = {\r\n      user_id: userId,\r\n      battle_id: battle.id,\r\n      rating: ratingValue\r\n    };\r\n\r\n    if (apiMethod === 'create') {\r\n      battle.BattleRatings.push(newRating);\r\n    } else {\r\n      battle.BattleRatings = battle.BattleRatings.map(rating => {\r\n        return (rating.user_id === userId) ? newRating : rating;\r\n      });\r\n    }\r\n\r\n    this.setState(() => ({ battle }), () => {\r\n      const axiosOptions = getAxiosOptions();\r\n      BATTLE_RATING_UTILS[apiMethod](newRating, axiosOptions)\r\n        .catch(handleAsyncError);\r\n    });\r\n  }\r\n\r\n  handleReadyOnClick() {\r\n    const { participants } = this.state;\r\n    const {\r\n      masterData: { getAxiosOptions, handleAsyncError, handleOpenAlert },\r\n      userContext: { user: { user_id: userId } },\r\n    } = this.context;\r\n\r\n    let participantIndex;\r\n    const thisContestant = participants.contestants.filter((participant, index) => {\r\n      if (participant.user_id === userId) {\r\n        participantIndex = index;\r\n        return true;\r\n      }\r\n      return false;\r\n    })[0];\r\n\r\n    if (!thisContestant || participantIndex < 0) return;\r\n\r\n    const { is_ready: isReady, ...rest} = thisContestant;\r\n\r\n    const axiosOptions = getAxiosOptions();\r\n    const participant = {\r\n      is_ready: !isReady,\r\n      ...rest\r\n    };\r\n\r\n    participants.contestants[participantIndex] = participant;\r\n\r\n    this.setState(() => ({ participants }), () => {\r\n      PARTICIPANT_UTILS.updateParticipant(participant, axiosOptions)\r\n        .then(() => {\r\n          if (participant.is_ready) {\r\n            handleOpenAlert('You are ready to start the battle. If your opponent indicates that they are ready too then the battle will begin early.', false);\r\n            this.updateBattle();\r\n          }\r\n        })\r\n        .catch(handleAsyncError);\r\n    });\r\n  }\r\n\r\n  handleAcceptBattleChallenge() {\r\n    const { battle, battleRoles } = this.state;\r\n    const { id: battleId } = battle;\r\n\r\n    const {\r\n      masterData: { getAxiosOptions, handleAsyncError },\r\n      userContext: {\r\n        user: { user_id: userId },\r\n        methodData: { updateUser },\r\n      }\r\n    } = this.context;\r\n\r\n    const axiosOptions = getAxiosOptions();\r\n    BATTLE_UTILS.updateBattleChallenge(battleId, 'accepted', axiosOptions)\r\n      .then(() => {\r\n        const { id: roleId } = battleRoles.contestant;\r\n\r\n        const participant = {\r\n          userId,\r\n          roleId,\r\n          participantNumber: 2,\r\n          isReady: false,\r\n        };\r\n\r\n        BATTLE_UTILS.joinBattle([battleId, participant], axiosOptions)\r\n          .then(() => {\r\n            this.handleFollowBattle();\r\n            updateUser();\r\n            this.updateBattle();\r\n          });\r\n      })\r\n      .catch(handleAsyncError);\r\n  }\r\n\r\n  handleRejectBattleChallenge() {\r\n    const { battle } = this.state;\r\n    const { goTo, getAxiosOptions, handleAsyncError } = this.context.masterData;\r\n    const { id: battleId } = battle;\r\n    const axiosOptions = getAxiosOptions();\r\n\r\n    BATTLE_UTILS.deleteBattle([battleId], axiosOptions)\r\n      .then(() => goTo('battles/find'))\r\n      .catch(handleAsyncError);\r\n  }\r\n\r\n  handleFollowBattle() {\r\n    const { match } = this.props;\r\n    const { id: battleId } = match.params;\r\n    const {\r\n      masterData: { getAxiosOptions, handleAsyncError },\r\n      userContext: {\r\n        user: { user_id: userId, nickname },\r\n        methodData: { updateUser },\r\n      }\r\n    } = this.context;\r\n\r\n    const axiosOptions = getAxiosOptions();\r\n\r\n    const notificationRoomName = `battle-stage-${battleId}-notifications`;\r\n\r\n    const subscription = {\r\n      user_id: userId,\r\n      room_name: notificationRoomName,\r\n      content_id: battleId,\r\n    };\r\n\r\n    SUBSCRIPTION_UTILS.create(userId, [subscription], axiosOptions)\r\n      .then(() => {\r\n        const roomParams = {\r\n          userId,\r\n          nickname,\r\n          isBattleAudience: false,\r\n        };\r\n\r\n        const { ioSocket } = this.context.masterData;\r\n        ioSocket.emit('joinRoom', notificationRoomName, roomParams);\r\n        updateUser();\r\n      })\r\n      .catch(handleAsyncError);\r\n  }\r\n\r\n  handleUnfollowBattle() {\r\n    const { match } = this.props;\r\n    const { id: battleId } = match.params;\r\n    const {\r\n      masterData: { getAxiosOptions, handleAsyncError },\r\n      userContext: {\r\n        user: { user_id: userId },\r\n        methodData: { updateUser },\r\n      },\r\n    } = this.context;\r\n    const axiosOptions = getAxiosOptions();\r\n\r\n    const notificationRoomName = `battle-stage-${battleId}-notifications`;\r\n\r\n    SUBSCRIPTION_UTILS.delete(userId, notificationRoomName, axiosOptions)\r\n      .then(() => {\r\n        const roomParams = { isBattleAudience: false };\r\n        const { ioSocket } = this.context.masterData;\r\n        ioSocket.emit('leaveRoom', notificationRoomName, roomParams);\r\n        updateUser();\r\n      })\r\n      .catch(handleAsyncError);\r\n  }\r\n\r\n  connectToIoSocketRoom() {\r\n    const { match } = this.props;\r\n    const { id: battleId } = match.params;\r\n    const { user_id: userId, nickname } = this.context.userContext.user;\r\n\r\n    const roomParams = {\r\n      userId,\r\n      nickname,\r\n      isBattleAudience: false,\r\n    };\r\n\r\n    const { ioSocket } = this.context.masterData;\r\n    ioSocket.emit('joinRoom', `battle-stage-${battleId}`, roomParams);\r\n    ioSocket.on('update', this.updateBattle);\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.updateBattle();\r\n    this.connectToIoSocketRoom();\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    const { match } = this.props;\r\n    const { id: battleId } = match.params;\r\n\r\n    const audienceRoomParams = { isBattleAudience: true };\r\n    const battleRoomParams = { isBattleAudience: false };\r\n\r\n    const { ioSocket } = this.context.masterData;\r\n    // ioSocket.emit('leaveRoom', `battle-audience-${battleId}`, audienceRoomParams);\r\n    ioSocket.emit('leaveRoom', `battle-stage-${battleId}`, battleRoomParams);\r\n    ioSocket.close();\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      battle, reactionTypes, participants, standardScorecardFields,\r\n      resultCards, audienceUsers, commentsCount, followersCount\r\n    } = this.state;\r\n    const {\r\n      user_id: userId, nickname: userNickname, subscriptions,\r\n    } = this.context.userContext.user;\r\n\r\n    if (!battle) return null;\r\n\r\n    const isUserContestant = BATTLE_HELPER.isUserParticipant(participants.contestants, userId);\r\n    const isUserJudge = BATTLE_HELPER.isUserParticipant(participants.judges, userId);\r\n    const userBattleRating = BATTLE_HELPER.getUserBattleRating(battle.BattleRatings, userId);\r\n    const averageBattleRating = BATTLE_HELPER.getAverageBattleRating(battle.BattleRatings);\r\n\r\n    const {\r\n      id: battleId, BattleChallenge: battleChallenge, Rounds: rounds\r\n    } = battle;\r\n\r\n    let isChallengeModalShown = false;\r\n    if (battleChallenge) {\r\n      const {\r\n        BattleChallengeStatus: battleChallengeStatus,\r\n        challenged_user_id: challengedUserId,\r\n      } = battleChallenge;\r\n\r\n      const { definition: challengeStatus } = battleChallengeStatus;\r\n\r\n      const isPendingInvite = challengeStatus === 'pending';\r\n\r\n      if (challengedUserId === userId && isPendingInvite) {\r\n        isChallengeModalShown = true;\r\n      }\r\n    }\r\n\r\n    const isUserFollowing = subscriptions.filter(({ room_name }) => (\r\n      room_name.includes(battleId) && room_name.includes('stage'))\r\n    ).length > 0;\r\n\r\n    return (\r\n      <div>\r\n        <BattleInfoSection\r\n          userId={userId}\r\n          isUserFollowing={isUserFollowing}\r\n          battleChallenge={battle.BattleChallenge}\r\n          rounds={rounds}\r\n          resultCards={resultCards}\r\n          audienceCount={audienceUsers.length}\r\n          commentsCount={commentsCount}\r\n          followersCount={followersCount}\r\n          battleStatus={battle.Status.definition}\r\n          battleType={battle.Type.definition}\r\n          roundCount={battle.RoundCount.definition}\r\n          roundLength={battle.RoundLength.definition}\r\n          judgingType={battle.JudgingType.definition}\r\n          judges={participants.judges}\r\n          isUserContestant={isUserContestant}\r\n          isUserJudge={isUserJudge}\r\n          userBattleRatingValue={userBattleRating ? userBattleRating.rating : 0}\r\n          battleRatingCount={battle.BattleRatings.length}\r\n          averageBattleRating={averageBattleRating}\r\n          handleJoinLeaveBattle={this.handleJoinLeaveBattle}\r\n          handleBattleRatingOnChange={this.handleBattleRatingOnChange}\r\n          handleFollowBattle={this.handleFollowBattle}\r\n          handleUnfollowBattle={this.handleUnfollowBattle}\r\n        />\r\n\r\n        <Container fluid className=\"py-3 content-container\">\r\n          {isChallengeModalShown && (\r\n            <BattleChallengeSection\r\n              battleChallenge={battleChallenge}\r\n              handleAcceptBattleChallenge={this.handleAcceptBattleChallenge}\r\n              handleRejectBattleChallenge={this.handleRejectBattleChallenge}\r\n            />\r\n          )}\r\n\r\n          {userId && battle &&\r\n            <RoundCarousel\r\n              userId={userId}\r\n              userNickname={userNickname}\r\n              battle={battle}\r\n              participants={participants}\r\n              isUserContestant={isUserContestant}\r\n              isUserJudge={isUserJudge}\r\n              reactionTypes={reactionTypes}\r\n              standardScorecardFields={standardScorecardFields}\r\n              resultCards={resultCards}\r\n              handleJoinLeaveBattle={this.handleJoinLeaveBattle}\r\n              updateBattle={this.updateBattle}\r\n              handleReadyOnClick={this.handleReadyOnClick}\r\n            />\r\n          }\r\n\r\n          <BattleAudience\r\n            battleId={battle.id}\r\n            audienceUsers={audienceUsers}\r\n            reactionTypes={reactionTypes}\r\n            rounds={rounds}\r\n            contestants={participants.contestants.map(contestant => (contestant.User))}\r\n          />\r\n        </Container>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nBattleStage.contextType = PageContext;\r\n","import React, { Component } from 'react';\r\n\r\n// Components.\r\nimport { Container } from 'reactstrap';\r\nimport { PageConsumer } from '../../utils/context/pageContext';\r\nimport {\r\n  BattleActions, DynamicHeader, FeaturedBattles,\r\n  FindBattle,\r\n} from '../../components';\r\n\r\nexport default class BattleZone extends Component {\r\n  render() {\r\n    return (\r\n      <PageConsumer>\r\n        {({\r\n          userContext: {\r\n            user: { user_id: userId },\r\n            methodData: { updateUser }\r\n          }\r\n        }) => (\r\n          <div>\r\n            <DynamicHeader\r\n              titleText=\"Battle Zone\"\r\n              isContentCollapsible={false}\r\n            ></DynamicHeader>\r\n\r\n            <Container fluid className=\"mb-5 pt-1 pb-3 px-3 py-sm-3 content-container\">\r\n              <div className=\"d-flex flex-column flex-sm-row p-2 bg-darkest\">\r\n                <BattleActions userId={userId} />\r\n                <FeaturedBattles />\r\n              </div>\r\n\r\n              <FindBattle\r\n                {...this.props}\r\n                userId={userId}\r\n                updateUser={updateUser}\r\n              />\r\n            </Container>\r\n          </div>\r\n        )}\r\n      </PageConsumer>\r\n    );\r\n  }\r\n}\r\n","import React from 'react';\r\n\r\n// Components.\r\nimport { Button, Container } from 'reactstrap';\r\nimport { DynamicHeader, UsernameInput } from '../../components';\r\n\r\nexport default function SetUsername({ handleLogout }) {\r\n  return (\r\n    <div>\r\n      <DynamicHeader titleText=\"Spitface Battles\" isContentCollapsible={false}>\r\n      </DynamicHeader>\r\n\r\n      <Container fluid className=\"py-3 content-container\">\r\n        <p className=\"mx-sm-5 text-center\">\r\n          You signed up with a social connection. You can use that username by clicking continue, or you can change it first.\r\n          <br/>\r\n          <small className=\"text-warning\">\r\n            WARNING: You must have a username to participate on Spitface Battles.\r\n          </small>\r\n        </p>\r\n\r\n        <div className=\"w-50 mx-auto text-left\">\r\n          <UsernameInput />\r\n\r\n          <Button\r\n            outline\r\n            color=\"link\"\r\n            onClick={handleLogout}\r\n            className=\"btn-sm d-block mx-auto py-0 text-secondary outline-none\"\r\n          >\r\n            Logout\r\n          </Button>\r\n        </div>\r\n      </Container>\r\n    </div>\r\n  );\r\n}\r\n","import React, { Component } from 'react';\r\n\r\n// Components.\r\nimport Reacket from 'reacket';\r\nimport { Container } from 'reactstrap';\r\nimport { PageContext } from '../../utils/context/pageContext';\r\nimport {\r\n  DynamicHeader, JoinEventHeaderButtons, TournamentRound,\r\n  TournamentStaging,\r\n} from '../../components';\r\n\r\n// Styles, utils, and other helpers.\r\nimport { TOURNAMENT_UTILS } from '../../utils/api';\r\n\r\nimport './reacket.css';\r\n\r\nexport default class Tournament extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.tournamentId = this.props.match.params.id;\r\n\r\n    this.state = {\r\n      tournament: {},\r\n    };\r\n\r\n    // Bind class methods.\r\n    this.joinTournament = this.joinTournament.bind(this);\r\n  }\r\n\r\n  joinTournament() {\r\n    const {\r\n      masterData: { getAxiosOptions, handleAsyncError },\r\n      userContext: { user: { user_id: userId } },\r\n    } = this.context;\r\n\r\n    const { tournament: { TournamentRounds: rounds }} = this.state;\r\n\r\n    const axiosOptions = getAxiosOptions();\r\n\r\n    const firstRound = rounds.filter(({ TournamentRoundType: roundType}) => (\r\n      roundType.definition === 'quarter-final'\r\n    ))[0];\r\n\r\n    const { id: roundId } = firstRound;\r\n\r\n    const contestant = {\r\n      user_id: userId,\r\n      tournament_round_id: roundId\r\n    };\r\n\r\n    TOURNAMENT_UTILS.createContestant(roundId, contestant, axiosOptions)\r\n      .then(result => {\r\n        console.log(result);\r\n      })\r\n      .catch(handleAsyncError);\r\n  }\r\n\r\n  componentDidMount() {\r\n    const {\r\n      masterData: { getAxiosOptions, handleAsyncError },\r\n    } = this.context;\r\n\r\n    TOURNAMENT_UTILS.getOne(this.tournamentId, getAxiosOptions())\r\n      .then(({ data: tournament }) => this.setState(() => ({ tournament })))\r\n      .catch(handleAsyncError);\r\n  }\r\n\r\n  render() {\r\n    const { tournament } = this.state;\r\n\r\n    if (!tournament.id) return null;\r\n\r\n    const {\r\n      id: tournamentId,\r\n      current_round_id: currentRoundId,\r\n      Status: { definition: status },\r\n      TournamentType: { definition: tournamentType },\r\n      TournamentContestantCount: { definition: contestantCount },\r\n      TournamentJudges: tournamentJudges,\r\n      TournamentRounds: tournamentRounds,\r\n    } = tournament;\r\n\r\n    console.log(tournament);\r\n\r\n    const round1Matches = [{\r\n      'id': 1,\r\n      'round': 1,\r\n      'match': 1,\r\n      'players': [\r\n        {\r\n          'id': 1,\r\n          'name': 'Player 1 name',\r\n          'seed': 1\r\n        },\r\n        {\r\n          'id': 2,\r\n          'name': 'Player 2 name',\r\n          'seed': 2\r\n        }\r\n      ],\r\n      'score': [\r\n        1,\r\n        0\r\n      ]\r\n    }, {\r\n      'id': 2,\r\n      'round': 1,\r\n      'match': 2,\r\n      'players': [\r\n        {\r\n          'id': 3,\r\n          'name': 'Player 3 name',\r\n          'seed': 3\r\n        },\r\n        {\r\n          'id': 4,\r\n          'name': 'Player 4 name',\r\n          'seed': 4\r\n        }\r\n      ],\r\n      'score': [\r\n        1,\r\n        0\r\n      ]\r\n    }, {\r\n      'id': 3,\r\n      'round': 1,\r\n      'match': 3,\r\n      'players': [\r\n        {\r\n          'id': 5,\r\n          'name': 'Player 5 name',\r\n          'seed': 5\r\n        },\r\n        {\r\n          'id': 6,\r\n          'name': 'Player 6 name',\r\n          'seed': 6\r\n        }\r\n      ],\r\n      'score': [\r\n        1,\r\n        0\r\n      ]\r\n    }, {\r\n      'id': 4,\r\n      'round': 1,\r\n      'match': 4,\r\n      'players': [\r\n        {\r\n          'id': 7,\r\n          'name': 'Player 7 name',\r\n          'seed': 7\r\n        },\r\n        {\r\n          'id': 8,\r\n          'name': 'Player 8 name',\r\n          'seed': 8\r\n        }\r\n      ],\r\n      'score': [\r\n        1,\r\n        0\r\n      ]\r\n    }];\r\n\r\n    const round2Matches = [{\r\n      'id': 5,\r\n      'round': 2,\r\n      'match': 1,\r\n      'players': [\r\n        {\r\n          'id': 1,\r\n          'name': 'Player 1 name',\r\n          'seed': 1\r\n        },\r\n        {\r\n          'id': 3,\r\n          'name': 'Player 3 name',\r\n          'seed': 3\r\n        }\r\n      ],\r\n      'score': [\r\n        1,\r\n        0\r\n      ]\r\n    }, {\r\n      'id': 6,\r\n      'round': 2,\r\n      'match': 2,\r\n      'players': [\r\n        {\r\n          'id': 5,\r\n          'name': 'Player 5 name',\r\n          'seed': 5\r\n        },\r\n        {\r\n          'id': 7,\r\n          'name': 'Player 7 name',\r\n          'seed': 7\r\n        }\r\n      ],\r\n      'score': [\r\n        1,\r\n        0\r\n      ]\r\n    }];\r\n\r\n    const round3Matches = [{\r\n      'id': 7,\r\n      'round': 3,\r\n      'match': 1,\r\n      'players': [\r\n        {\r\n          'id': 1,\r\n          'name': 'Player 1 name',\r\n          'seed': 1,\r\n          'score': 0,\r\n        },\r\n        {\r\n          'id': 5,\r\n          'name': 'Player 5 name',\r\n          'seed': 5,\r\n          'score': 0,\r\n        }\r\n      ],\r\n      'score': [\r\n        0,\r\n        0,\r\n      ],\r\n    }];\r\n\r\n    const matches = round1Matches.concat(round2Matches).concat(round3Matches);\r\n\r\n    const firstRoundMatchesCount = contestantCount / 2;\r\n    const currentRound = tournamentRounds.filter(({ id }) => id === currentRoundId)[0];\r\n    const { TournamentRoundType: { definition: currentRoundType } } = currentRound;\r\n\r\n    const {\r\n      userContext: { user: { user_id: userId, subscriptions } },\r\n    } = this.context;\r\n\r\n    const firstRound = tournamentRounds.filter(({ TournamentRoundType: { definition: type }}) => (\r\n      type === 'quarter-final'\r\n    ))[0];\r\n\r\n    const { RoundContestants: contestants } = firstRound;\r\n\r\n    const isUserContestant = tournamentRounds.filter(({ RoundContestants: contestants }) => (\r\n      contestants.filter(({ user_id }) => user_id === userId).length > 0\r\n    )).length > 0;\r\n\r\n    const isUserJudge = !isUserContestant && tournamentJudges.filter(({ user_id }) => (\r\n      user_id === userId\r\n    )).length > 0;\r\n\r\n    const isUserFollowing = subscriptions.filter(({ room_name }) => (\r\n      room_name.includes(tournamentId) && room_name.includes('tournament'))\r\n    ).length > 0;\r\n\r\n    const isJudgedBattles = tournamentRounds.filter(({ JudgingType: { definition }}) => (\r\n      definition === 'judges'\r\n    )).length > 0;\r\n\r\n    return (\r\n      <div>\r\n        <DynamicHeader\r\n          titleText={tournamentType}\r\n          subheadingText={[`${contestants.length}/${contestantCount} contestants`]}\r\n          isContentCollapsible={true}\r\n        >\r\n          <div className=\"flex-fill d-flex align-items-center\">\r\n            <p className=\"align-self-start flex-fill mb-0 font-weight-bold text-capitalize text-lg\">\r\n              {status === 'round' ? currentRoundType : status}\r\n            </p>\r\n\r\n            <JoinEventHeaderButtons\r\n              isJudgedBattles={isJudgedBattles}\r\n              isUserJudge={isUserJudge}\r\n              isUserContestant={isUserContestant}\r\n              isUserFollowing={isUserFollowing}\r\n              handleJoinLeaveOnClick={this.joinTournament}\r\n              handleFollowOnClick={() => alert()}\r\n              handleUnfollowOnClick={() => alert()}\r\n            />\r\n\r\n            <div className=\"d-none d-sm-block\">\r\n              More\r\n            </div>\r\n          </div>\r\n        </DynamicHeader>\r\n\r\n        <Container fluid className=\"pb-5 pb-sm-0 content-container\">\r\n          <TournamentStaging\r\n            contestants={contestants}\r\n            judges={tournamentJudges}\r\n            tournamentId={tournamentId}\r\n            userId={userId}\r\n            status={status}\r\n            isJudgedBattles={isJudgedBattles}\r\n            isUserContestant={isUserContestant}\r\n            contestantCount={contestantCount}\r\n            judgeCount={8}\r\n            tournamentRounds={tournamentRounds}\r\n          />\r\n\r\n          <div className=\"d-flex\">\r\n            {tournamentRounds.map(round => (\r\n              <TournamentRound\r\n                key={round.id} round={round} firstRoundMatchesCount={firstRoundMatchesCount}\r\n              />\r\n            ))}\r\n          </div>\r\n\r\n          {/* <Reacket matches={matches} onClick={alert} /> */}\r\n        </Container>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nTournament.contextType = PageContext;\r\n","import Landing from './Landing';\r\nimport MasterPage from './MasterPage';\r\nimport Home from './Home';\r\nimport CreateBattle from './CreateBattle';\r\nimport Community from './Community';\r\nimport Profile from './Profile';\r\nimport Help from './Help';\r\nimport BattleStage from './BattleStage';\r\nimport BattleZone from './BattleZone';\r\nimport SetUsername from './SetUsername';\r\nimport Tournament from './Tournament';\r\n\r\nexport {\r\n  Landing,\r\n  MasterPage,\r\n  Home,\r\n  CreateBattle,\r\n  Community,\r\n  Profile,\r\n  Help,\r\n  BattleStage,\r\n  BattleZone,\r\n  SetUsername,\r\n  Tournament,\r\n};\r\n\r\nexport default {\r\n  Landing,\r\n  MasterPage,\r\n  Home,\r\n  CreateBattle,\r\n  Community,\r\n  Profile,\r\n  Help,\r\n  BattleStage,\r\n  BattleZone,\r\n  SetUsername,\r\n  Tournament,\r\n};\r\n","import React, { Component, Fragment } from 'react';\r\nimport { Route, Router } from 'react-router-dom';\r\n\r\n// Custom pages and components.\r\nimport { UserProvider } from './utils/context/userContext';\r\nimport { PageProvider } from './utils/context/pageContext';\r\nimport { Landing, MasterPage } from './pages';\r\nimport { Callback } from './components';\r\n\r\n// Utilities, helper functions, and assets.\r\nimport { AUTH_UTILS, HISTORY } from './utils';\r\n\r\nexport default class MainRoutes extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.auth = new AUTH_UTILS();\r\n  }\r\n\r\n  handleAuthentication({ location }) {\r\n    if (/access_token|id_token|error/.test(location.hash)) {\r\n      this.auth.handleAuthentication();\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    if (HISTORY.location.pathname === '/callback') return;\r\n    if (localStorage.getItem('isLoggedIn') === 'true') {\r\n      this.auth.renewSession();\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { auth } = this;\r\n    return (\r\n      <Router history={HISTORY}>\r\n        <Fragment>\r\n          <Route\r\n            path=\"/callback\"\r\n            render={props => {\r\n              this.handleAuthentication(props);\r\n              return <Callback {...props} />;\r\n            }}\r\n          />\r\n\r\n          <Route\r\n            render={props => (\r\n              <UserProvider>\r\n                {auth.isAuthenticated() ? (\r\n                  <PageProvider>\r\n                    <MasterPage\r\n                      auth={auth}\r\n                      history={HISTORY}\r\n                      {...props}\r\n                    />\r\n                  </PageProvider>\r\n                ) : (\r\n                  <Landing handleLogin={auth.login} history={HISTORY} {...props} />\r\n                )}\r\n              </UserProvider>\r\n            )}\r\n          />\r\n        </Fragment>\r\n      </Router>\r\n    );\r\n  }\r\n}\r\n","/* eslint-disable no-console */\r\n/* eslint-disable no-multi-assign */\r\nimport React from 'react';\r\nimport ReactDOM from 'react-dom';\r\n\r\n// Custom components.\r\nimport MainRoutes from './MainRoutes';\r\n\r\n// Bootstrap\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport './index.css';\r\n\r\nReactDOM.render(\r\n  <MainRoutes />,\r\n  document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}